import{_ as He}from"./echarts.vue_vue_type_script_setup_true_lang-BpoW3p_z.js";import{d as Y,j as P,ag as oe,D as je,bS as Se,o as u,e as v,dH as Pe,q as X,r as Q,x as _e,c as C,w as a,g as t,h as H,I as S,i as le,ao as $,aq as L,a1 as se,M as ue,af as de,S as fe,B as re,P as ye,at as he,bm as ne,f as V,t as W,U as ie,aI as Ue,y as K,L as Me,Q as De,J as Oe}from"./index-Cgb71mqb.js";import"./index-BS8KoN7o.js";import{s as $e}from"./installCanvasRenderer-iCPGNWhM.js";import{_ as ge,a as Ce}from"./CollapseItem-DBdOVTMu.js";import{a as pe,_ as ce}from"./Grid-D7pzHEmG.js";import{_ as Le}from"./Table-CxvB4SK4.js";import{a as Re,b as Be}from"./reportForm-doYdGdaS.js";const me=[{label:"柱状图",value:0,options:{tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0}}},legend:{top:"10"},xAxis:{type:"category",data:["a"]},yAxis:{type:"value"},grid:{bottom:"30px",top:"50px",right:"20px",left:"40px"},series:[{data:[110],type:"bar",barWidth:"20"}]}},{label:"纵向柱状图",value:1,options:{tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0}}},legend:{top:"10"},xAxis:{type:"value"},yAxis:{type:"category",data:["a"]},grid:{bottom:"30px",top:"50px",right:"20px",left:"40px"},series:[{data:[110],type:"bar",barWidth:"20"}]}}],be=[{label:"折线图",value:0,options:{xAxis:{type:"category"},tooltip:{trigger:"axis"},legend:{left:"center",top:"10"},yAxis:{type:"value"},grid:{bottom:"30px",top:"50px",right:"20px",left:"40px"},series:[{data:[100,215,24,18,105,147,160],type:"line"}]}},{label:"折线面积图",value:1,options:{xAxis:{type:"category",boundaryGap:!1},tooltip:{trigger:"axis"},legend:{left:"center",top:"10"},yAxis:{type:"value"},grid:{bottom:"30px",top:"50px",right:"20px",left:"40px"},series:[{data:[160,215,134,108,105,147,160],type:"line",areaStyle:{}}]}}],xe=[{label:"饼图",value:0,options:{tooltip:{trigger:"item"},legend:{left:"center",top:"10"},series:[{name:"",type:"pie",radius:"50%",labelLine:{show:!1},label:{show:!1,position:"center"},data:[{value:1048,name:"a"},{value:735,name:"b"},{value:580,name:"c"}]}]}},{label:"环形图",value:1,options:{tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{show:!1},labelLine:{show:!1},data:[{value:250,name:"a"},{value:234,name:"b"},{value:168,name:"c"}]}]}},{label:"玫瑰图",value:2,options:{tooltip:{trigger:"item"},legend:{left:"center",top:"10"},series:[{name:"",type:"pie",radius:"50%",center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},labelLine:{show:!1},label:{show:!1,position:"center"},data:[{value:40,name:"a"},{value:38,name:"b"},{value:32,name:"c"},{value:30,name:"d"},{value:28,name:"e"}]}]}}],qe=Y({__name:"Chart",props:{data:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})}},setup(R){const c=R,I=P(null),n=P(null),U=()=>{I.value&&(n.value=Pe($e(I.value)),n.value.setOption(c.options))};return oe(()=>c.options,d=>{n.value&&(n.value.clear(),n.value.setOption(d))},{deep:!0}),je(()=>{U()}),Se(()=>{n.value&&n.value.dispose()}),(d,p)=>(u(),v("div",{ref_key:"domRef",ref:I,class:"h-100% w-100% overflow-hidden"},null,512))}}),Ee={class:"text-center"},We=Y({__name:"setChart",props:X({chart:{},activeTmpIndex:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:X(["update"],["update:visible"]),setup(R,{emit:c}){const I=P([{label:"安全事件",value:0},{label:"审计事件",value:1},{label:"告警事件",value:2}]),n=R,d=P([{label:"资产",value:"1",charts:[{title:"资产类型分布",type:"pie",id:"1",chartTypeIndex:0,chartActiveIndex:0,dataName:"assetType",options:{tooltip:{trigger:"item"},legend:{left:"center",top:"10"},series:[{name:"",type:"pie",radius:"50%",labelLine:{show:!1},label:{show:!1,position:"center"},data:[{value:1,name:"a"},{value:6,name:"b"},{value:7,name:"c"}]}]}}]},{label:"综合",value:"2",charts:[{title:"事件等级统计",type:"pie",id:"1",chartTypeIndex:0,chartActiveIndex:0,dataName:"",options:{tooltip:{trigger:"item"},legend:{left:"center",top:"10"},series:[{name:"",type:"pie",radius:"50%",labelLine:{show:!1},label:{show:!1,position:"center"},data:[{value:1048,name:"a"},{value:735,name:"b"},{value:580,name:"c"}]}]}},{title:"事件类型统计",type:"bar",id:"2",chartTypeIndex:0,chartActiveIndex:1,dataName:"typeCountPojoList",options:{tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0}}},xAxis:{type:"category",data:["a"]},yAxis:{type:"value"},grid:{bottom:"30px",top:"50px",right:"20px",left:"40px"},series:[{data:[110],type:"bar",barWidth:"20"}]}},{title:"事件数量趋势",type:"line",id:"3",chartTypeIndex:0,chartActiveIndex:2,dataName:"dayCountPojoList",options:{xAxis:{type:"category",data:["1","2","3","4","5"]},tooltip:{trigger:"axis"},legend:{left:"center",top:"10"},yAxis:{type:"value"},grid:{bottom:"30px",top:"50px",right:"20px",left:"40px"},series:[{data:[100,215,24,18,105],type:"line"}]}}]}]),p=()=>({dataCValue:"1",chartTypeIndex:0,defaultchartTypeIndex:0,eventType:0,chartActiveIndex:0,defaultChartActiveIndex:0,type:"pie"}),l=Q(p()),m=c,B=_e(R,"visible");oe(B,r=>{Object.assign(l,p()),r&&J()});const J=()=>{n.chart?(console.log(n.chart),l.dataCValue=String(n.activeTmpIndex+1),l.chartTypeIndex=n.chart.chartTypeIndex,l.type=n.chart.value.chartType,l.eventType=n.chart.dataName.includes("alarmCountPojo")?2:n.chart.dataName.includes("secureCountPojo")?0:1,d.value.forEach(r=>{r.value==n.chart.dataCValue&&(r.charts[n.chart.chartActiveIndex].options=n.chart.value.data,r.charts[n.chart.chartActiveIndex].chartTypeIndex=n.chart.chartTypeIndex)}),l.chartActiveIndex=n.chart.chartActiveIndex):(l.dataCValue=String(n.activeTmpIndex+1),l.chartTypeIndex=0)},M=(r,s)=>{console.log(r,s,"sssssssssss"),l.chartActiveIndex!=r&&(l.chartActiveIndex=r,l.type=s.type,l.chartTypeIndex=s.chartTypeIndex||0)},k=(r,s)=>{var f,w,A;const b=s=="bar"?(f=me.find(x=>x.value===r))==null?void 0:f.options:s=="line"?(w=be.find(x=>x.value===r))==null?void 0:w.options:(A=xe.find(x=>x.value===r))==null?void 0:A.options;d.value.forEach(x=>{x.value==l.dataCValue&&(x.charts[l.chartActiveIndex].options=b,x.charts[l.chartActiveIndex].chartTypeIndex=r)})},g=r=>{var s,b;l.chartActiveIndex=0,l.chartTypeIndex=0,l.type=((b=(s=d.value.find(f=>f.value==r))==null?void 0:s.charts)==null?void 0:b[l.chartActiveIndex].type)||""},_=()=>{var f,w,A,x;const r=(w=(f=d.value.find(j=>j.value==l.dataCValue))==null?void 0:f.charts)==null?void 0:w[l.chartActiveIndex].dataName,s={0:"secureCountPojo",1:"auditCountPojo",2:"alarmCountPojo"},b={dataCValue:l.dataCValue,type:l.type,chartTypeIndex:l.chartTypeIndex,chartActiveIndex:l.chartActiveIndex,options:(x=(A=d.value.find(j=>j.value==l.dataCValue))==null?void 0:A.charts)==null?void 0:x[l.chartActiveIndex].options,dataName:n.activeTmpIndex==0?r:r?(s[l.eventType]?s[l.eventType]+"_":"")+r:s[l.eventType]};m("update",b)};return(r,s)=>{const b=se,f=ue,w=ge,A=Ce,x=de,j=pe,G=ce,y=fe,D=re,e=ye,i=he;return u(),C(i,{show:B.value,"onUpdate:show":s[9]||(s[9]=o=>B.value=o),title:"数据组件",class:"w-1100px",preset:"card"},{footer:a(()=>[t(e,{justify:"end"},{default:a(()=>[t(D,{type:"primary",onClick:_},{default:a(()=>[H("确定")]),_:1}),t(D,{onClick:s[8]||(s[8]=o=>B.value=!1)},{default:a(()=>[H("取消")]),_:1})]),_:1})]),default:a(()=>[t(G,{"x-gap":"12",class:"h-500px"},{default:a(()=>[t(j,{span:8},{default:a(()=>[t(x,{class:"h-100%"},{default:a(()=>[t(A,{"arrow-placement":"right","default-expanded-names":["1","2"]},{default:a(()=>[t(w,{title:"组件类型",name:"1"},{default:a(()=>[t(f,{label:"数据组件","label-width":"80","label-placement":"left",class:"ml-20px"},{default:a(()=>[t(b,{value:l.dataCValue,"onUpdate:value":[s[0]||(s[0]=o=>l.dataCValue=o),g],disabled:"",options:d.value,class:"w-100%"},null,8,["value","options"])]),_:1}),l.dataCValue=="2"?(u(),C(f,{key:0,label:"数据源","label-width":"80","label-placement":"left",class:"ml-20px"},{default:a(()=>[t(b,{value:l.eventType,"onUpdate:value":s[1]||(s[1]=o=>l.eventType=o),options:I.value,class:"w-100%"},null,8,["value","options"])]),_:1})):S("",!0)]),_:1}),t(w,{title:"图表类型",name:"2"},{default:a(()=>[t(f,{label:"图表形态","label-placement":"left",class:"ml-20px"},{default:a(()=>[l.type=="bar"?(u(),C(b,{key:0,value:l.chartTypeIndex,"onUpdate:value":s[2]||(s[2]=o=>l.chartTypeIndex=o),onUpdateValue:s[3]||(s[3]=o=>k(o,"bar")),options:le(me),class:"w-100%"},null,8,["value","options"])):S("",!0),l.type=="line"?(u(),C(b,{key:1,value:l.chartTypeIndex,"onUpdate:value":s[4]||(s[4]=o=>l.chartTypeIndex=o),onUpdateValue:s[5]||(s[5]=o=>k(o,"line")),options:le(be),class:"w-100%"},null,8,["value","options"])):S("",!0),l.type=="pie"?(u(),C(b,{key:2,value:l.chartTypeIndex,"onUpdate:value":s[6]||(s[6]=o=>l.chartTypeIndex=o),onUpdateValue:s[7]||(s[7]=o=>k(o,"pie")),options:le(xe),class:"w-100%"},null,8,["value","options"])):S("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(j,{span:16},{default:a(()=>[t(y,{style:{"max-height":"500px"}},{default:a(()=>[t(x,null,{default:a(()=>[t(G,{"x-gap":"12"},{default:a(()=>[(u(!0),v(L,null,$(d.value[d.value.findIndex(o=>o.value==l.dataCValue)].charts,(o,N)=>(u(),C(j,{span:12,key:N,class:"mb-35px"},{default:a(()=>[t(x,{class:"h-200px w-100%","content-style":{padding:"0px"}},{default:a(()=>[t(qe,{options:o.options,style:{height:"200px"},onClick:q=>M(N,o),class:ne([{active:l.chartActiveIndex===N},"line-chart"])},null,8,["options","onClick","class"]),V("div",Ee,W(o.title),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])}}}),Je=ie(We,[["__scopeId","data-v-c71fac7a"]]),Fe=Y({__name:"setTable",props:X({data:{},activeTmpIndex:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:X(["update"],["update:visible"]),setup(R,{emit:c}){const I=R,U=P([{label:"资产",value:"1",tables:[{title:"资产基本信息",id:"1",dataName:"baseInfo",assetHearder:[{label:"资产名称",value:"aname"},{label:"资产类型",value:"assname"},{label:"网段名称",value:"nname"},{label:"主IP",value:"aip"},{label:"创建时间",value:"dbtime"}]}]},{label:"综合",value:"2",tables:[{title:"综合基本信息",id:"1",dataName:"",assetHearder:[{label:"事件类型",value:"aname"},{label:"事件数量",value:"assname"}]},{title:"安全事件等级统计",id:"2",dataName:"secureCountPojo",assetHearder:[{label:"安全事件等级",value:"aname"},{label:"事件数量",value:"assname"}]},{title:"安全事件类型统计",id:"3",dataName:"secureCountPojo_typeCountPojoList",assetHearder:[{label:"安全事件类型",value:"aname"},{label:"事件数量",value:"assname"}]},{title:"安全事件数量趋势",id:"4",dataName:"secureCountPojo_dayCountPojoList",assetHearder:[{label:"日期",value:"aname"},{label:"事件数量",value:"assname"}]},{title:"审计事件等级统计",id:"5",dataName:"auditCountPojo",assetHearder:[{label:"审计事件等级",value:"aname"},{label:"事件数量",value:"assname"}]},{title:"审计事件类型统计",id:"6",dataName:"auditCountPojo_typeCountPojoList",assetHearder:[{label:"审计事件类型",value:"aname"},{label:"事件数量",value:"assname"}]},{title:"审计事件数量趋势",id:"7",dataName:"auditCountPojo_dayCountPojoList",assetHearder:[{label:"日期",value:"aname"},{label:"事件数量",value:"assname"}]},{title:"告警事件等级统计",id:"8",dataName:"alarmCountPojo",assetHearder:[{label:"告警事件等级",value:"aname"},{label:"事件数量",value:"assname"}]},{title:"告警事件类型统计",id:"9",dataName:"alarmCountPojo_typeCountPojoList",assetHearder:[{label:"告警事件类型",value:"aname"},{label:"事件数量",value:"assname"}]},{title:"告警事件数量趋势",id:"10",dataName:"alarmCountPojo_dayCountPojoList",assetHearder:[{label:"日期",value:"aname"},{label:"事件数量",value:"assname"}]}]}]),d=()=>({dataCValue:"1",dataSourceValue:"1",tableHeader:[]}),p=Q(d()),l=c,m=_e(R,"visible");oe(m,g=>{Object.assign(p,d()),g&&B()});const B=()=>{console.log(I.data),I.data?(p.dataCValue=I.data.dataCValue||"1",p.dataSourceValue=I.data.dataSourceValue||"1",p.tableHeader=I.data.value.head):p.dataSourceValue="1",p.dataCValue=I.activeTmpIndex===1?"2":"1"},J=(g,_)=>{},M=g=>{p.dataSourceValue=g,p.tableHeader=[]},k=()=>{var _;const g={dataCValue:p.dataCValue,tableHeader:p.tableHeader,tableHeaderValue:p.tableHeader.map(r=>{var s,b;return(b=(s=U.value[Number(p.dataCValue)-1].tables)==null?void 0:s[Number(p.dataSourceValue)-1].assetHearder.find(f=>f.label===r))==null?void 0:b.value}),dataSourceValue:p.dataSourceValue,dataName:(_=U.value[Number(p.dataCValue)-1].tables)==null?void 0:_[Number(p.dataSourceValue)-1].dataName};l("update",g)};return(g,_)=>{const r=se,s=ue,b=de,f=pe,w=Le,A=ce,x=re,j=ye,G=he;return u(),C(G,{show:m.value,"onUpdate:show":_[5]||(_[5]=y=>m.value=y),title:"数据组件",class:"w-900px",preset:"card"},{footer:a(()=>[t(j,{justify:"end"},{default:a(()=>[t(x,{type:"primary",onClick:k},{default:a(()=>[H("确定")]),_:1}),t(x,{onClick:_[4]||(_[4]=y=>m.value=!1)},{default:a(()=>[H("取消")]),_:1})]),_:1})]),default:a(()=>[t(A,{"y-gap":"12"},{default:a(()=>[t(f,{span:24},{default:a(()=>[t(b,null,{default:a(()=>[t(s,{label:"数据组件","label-width":"80","label-placement":"left"},{default:a(()=>[t(r,{value:p.dataCValue,"onUpdate:value":_[0]||(_[0]=y=>p.dataCValue=y),disabled:"",options:U.value,class:"w-200px"},null,8,["value","options"])]),_:1}),t(s,{label:"数据来源","label-width":"80","label-placement":"left"},{default:a(()=>[t(r,{value:p.dataSourceValue,"onUpdate:value":[_[1]||(_[1]=y=>p.dataSourceValue=y),M],"label-field":"title","value-field":"id",options:U.value[Number(p.dataCValue)-1].tables,class:"w-200px"},null,8,["value","options"])]),_:1}),t(s,{label:"表头","label-width":"80","label-placement":"left"},{default:a(()=>{var y;return[t(r,{value:p.tableHeader,"onUpdate:value":_[2]||(_[2]=D=>p.tableHeader=D),multiple:"","label-field":"label","value-field":"label",onUpdateValue:_[3]||(_[3]=D=>J(D,"bar")),options:(y=U.value[Number(p.dataCValue)-1].tables)==null?void 0:y[Number(p.dataSourceValue)-1].assetHearder,class:"w-100%"},null,8,["value","options"])]}),_:1})]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{class:"h-300px"},{default:a(()=>[t(A,{"x-gap":"12"},{default:a(()=>[t(f,{span:24,class:"mb-35px w-100%"},{default:a(()=>[t(w,{class:"w-100%",bordered:!1,"single-line":!1},{default:a(()=>[V("thead",null,[V("tr",null,[(u(!0),v(L,null,$(p.tableHeader,y=>(u(),v("th",{key:y},W(y),1))),128))])]),V("tbody",null,[V("tr",null,[(u(!0),v(L,null,$(p.tableHeader,(y,D)=>(u(),v("td",{key:y},"xxxxxx"))),128))]),V("tr",null,[(u(!0),v(L,null,$(p.tableHeader,(y,D)=>(u(),v("td",{key:y},"xxxxxx"))),128))])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])}}}),Ge=ie(Fe,[["__scopeId","data-v-21edbc56"]]),ze={class:"list"},Qe=["onClick"],Ke={id:"content",style:{width:"80%"}},Xe=["onClick","onDragstart","onDrop"],Ye={key:0,style:{"text-align":"center"}},Ze={key:1,class:"p-6px"},ea={style:{"text-indent":"2em"}},aa={key:2,class:"p-6px"},ta={key:3,class:"p-6px"},la={key:4,class:"p-6px"},na=Y({name:"reportmanagement_customtemplate",__name:"index",setup(R){const c=P(),I=async()=>{const{data:e,error:i}=await Re();i||(console.log(e,"dataxxxxxxxxxxxxxxx"),c.value=e.map(o=>(o.rtext=JSON.parse(o.rtext),o)))};I();const n=P(0),U=(e,i)=>{n.value=i,d.value=-1,k()},d=P(-1),p=(e,i,o)=>{if(d.value==i){d.value=-1,M.value=["1"],k();return}(e.type=="title"||e.type=="subtitle"||e.type=="text")&&(m.type=e.type,m.value=e.value,M.value=["1"]),e.type=="table"&&(k(),M.value=["2"]),e.type=="chart"&&(k(),M.value=["3"]),d.value=i},l=e=>{c.value[n.value].rtext.splice(e,1),setTimeout(()=>{k(),d.value=-1},10)},m=Q({type:null,value:""}),B={value:[{required:!0,message:"请输入内容",trigger:["blur","input"]}],type:{required:!0,message:"请选择类型",trigger:"change"}},J=P(null),M=P(["1"]),k=()=>{m.type=null,m.value=""},g=Q({addChartModal:!1,chart:null}),_=()=>{g.chart=c.value[n.value].rtext[d.value],g.addChartModal=!0},r=Q({setTableModal:!1,table:null}),s=()=>{r.table=c.value[n.value].rtext[d.value],r.setTableModal=!0},b=async e=>{e=="title"&&(await J.value.validate(),c.value[n.value].rtext.push({type:m.type,value:m.value}),w(),k()),e=="table"&&(r.setTableModal=!0,r.table=null),e=="chart"&&(g.addChartModal=!0,g.chart=null)},f=P(null),w=()=>{const e=document.querySelector(".n-scrollbar-content"),i=e==null?void 0:e.scrollHeight;e&&d.value==-1&&Ue(()=>{var o;(o=f.value)==null||o.scrollTo({top:i,behavior:"smooth"})})},A=e=>{console.log(e,"chart"),d.value!==-1?c.value[n.value].rtext[d.value]={type:"chart",chartTypeIndex:e.chartTypeIndex,dataCValue:e.dataCValue,dataName:e.dataName,chartActiveIndex:e.chartActiveIndex,value:{chartType:e.type,id:K(),data:e.options}}:c.value[n.value].rtext.push({type:"chart",chartTypeIndex:e.chartTypeIndex,dataCValue:e.dataCValue,dataName:e.dataName,chartActiveIndex:e.chartActiveIndex,value:{chartType:e.type,id:K(),data:e.options}}),w(),g.addChartModal=!1},x=e=>{console.log(e,"table"),d.value!==-1?c.value[n.value].rtext[d.value]={type:"table",dataCValue:e.dataCValue,dataName:e.dataName,dataSourceValue:e.dataSourceValue,value:{head:e.tableHeader,tableHeaderValue:e.tableHeaderValue,id:K(),body:[Array(e.tableHeader.length).fill("xxx"),Array(e.tableHeader.length).fill("xxx")]}}:c.value[n.value].rtext.push({type:"table",dataCValue:e.dataCValue,tableHeaderValue:e.tableHeaderValue,dataSourceValue:e.dataSourceValue,dataName:e.dataName,value:{head:e.tableHeader,tableHeaderValue:e.tableHeaderValue,id:K(),body:[Array(e.tableHeader.length).fill("xxx"),Array(e.tableHeader.length).fill("xxx")]}}),console.log(c.value[n.value].rtext,"templates.value[activeTmpIndex.value].rtext"),r.setTableModal=!1},j=async e=>{{if(!m.value&&!m.type)return;await J.value.validate(),c.value[n.value].rtext[d.value].value=m.value,c.value[n.value].rtext[d.value].type=m.type}k(),d.value=-1},G=(e,i)=>{var o;(o=i.dataTransfer)==null||o.setData("index",String(e))},y=(e,i)=>{var N;const o=Number((N=i.dataTransfer)==null?void 0:N.getData("index"));if(o!==e){const q=c.value[n.value].rtext.splice(o,1)[0];c.value[n.value].rtext.splice(e,0,q)}},D=async()=>{var N;const e=c.value.map(q=>(q.rtext=JSON.stringify(q.rtext),q)),{data:i,error:o}=await Be(e);o||((N=window.$message)==null||N.success("保存成功"),I(),d.value=-1)};return(e,i)=>{const o=de,N=pe,q=He,E=re,ve=fe,Ie=se,Z=ue,Te=Me,Ve=De,ee=ge,ke=Ce,we=ce;return u(),v("div",null,[t(we,{"x-gap":"12",class:"h-100%","item-responsive":"",responsive:"screen"},{default:a(()=>[t(N,{span:"24 s:24 m:4 l:4"},{default:a(()=>[t(o,{title:"模板",class:"h-100%"},{default:a(()=>[V("div",ze,[(u(!0),v(L,null,$(c.value,(h,z)=>(u(),v("div",{class:ne(["item",{active:n.value===z}]),key:h.id,onClick:ae=>U(h,z)},W(h.rname),11,Qe))),128))])]),_:1})]),_:1}),t(N,{span:"24 s:24 m:15 l:15"},{default:a(()=>[t(o,{style:{"max-height":"calc(100vh - 132px)",height:"100%"},"content-style":{height:"calc(100vh - 132px)"}},{default:a(()=>{var h,z;return[((z=(h=c.value)==null?void 0:h[n.value])==null?void 0:z.rtext.length)>0?(u(),C(ve,{key:0,ref_key:"scrollRef",ref:f,style:{"max-height":"calc(100vh - 172px)"}},{default:a(()=>{var ae;return[V("div",Ke,[(u(!0),v(L,null,$((ae=c.value[n.value])==null?void 0:ae.rtext,(T,F)=>(u(),v("div",{key:F,onClick:O=>p(T,F,O),class:ne(["template-item",{templateActive:d.value==F}]),draggable:"true",onDragstart:O=>G(F,O),onDrop:O=>y(F,O),onDragover:i[0]||(i[0]=Oe(()=>{},["prevent"]))},[T.type=="title"?(u(),v("div",Ye,[V("h1",null,W(T.value),1)])):S("",!0),T.type=="text"?(u(),v("div",Ze,[V("p",ea,W(T.value),1)])):S("",!0),T.type=="subtitle"?(u(),v("div",aa,[V("h3",null,W(T.value),1)])):S("",!0),T.type=="table"?(u(),v("div",ta,[V("table",null,[V("thead",null,[V("tr",null,[(u(!0),v(L,null,$(T.value.head,(O,te)=>(u(),v("th",{key:te},W(O),1))),128))])]),V("tbody",null,[(u(!0),v(L,null,$(T.value.body,(O,te)=>(u(),v("tr",{key:te},[(u(!0),v(L,null,$(O,(Ne,Ae)=>(u(),v("td",{key:Ae},W(Ne),1))),128))]))),128))])])])):S("",!0),T.type=="chart"?(u(),v("div",la,[(u(),C(q,{chartType:T.value.chartType,id:T.value.id,data:T.value.data,key:T.value.id},null,8,["chartType","id","data"]))])):S("",!0),d.value==F?(u(),C(E,{key:5,class:"deleteBtn",type:"error",onClick:O=>l(F)},{default:a(()=>[H("删除")]),_:2},1032,["onClick"])):S("",!0)],42,Xe))),128))])]}),_:1},512)):S("",!0)]}),_:1})]),_:1}),t(N,{span:"24 s:24 m:5 l:5"},{default:a(()=>[t(o,{title:"组件库",class:"h-100%"},{"header-extra":a(()=>[t(E,{type:"primary",class:"mr-5px",onClick:D},{default:a(()=>[H("保存全部更改")]),_:1})]),default:a(()=>[t(ve,{style:{"max-height":"calc(100vh - 172px)"}},{default:a(()=>[t(ke,{"arrow-placement":"right","expanded-names":M.value,"onUpdate:expandedNames":i[7]||(i[7]=h=>M.value=h),"default-expanded-names":["1"]},{default:a(()=>[t(ee,{title:"文本信息",name:"1",disabled:d.value!==-1},{default:a(()=>[t(Ve,{ref_key:"formRef",ref:J,"label-width":40,rules:B,model:m,"show-require-mark":!1,"label-placement":"left"},{default:a(()=>[t(Z,{label:"类型",path:"type"},{default:a(()=>[t(Ie,{value:m.type,"onUpdate:value":i[1]||(i[1]=h=>m.type=h),placeholder:"请选择类型",options:[{label:"标题",value:"title"},{label:"副标题",value:"subtitle"},{label:"文本",value:"text"}]},null,8,["value"])]),_:1}),t(Z,{label:"文本",path:"value"},{default:a(()=>[t(Te,{value:m.value,"onUpdate:value":i[2]||(i[2]=h=>m.value=h),placeholder:"请输入"},null,8,["value"])]),_:1}),t(Z,{label:""},{default:a(()=>[d.value==-1?(u(),C(E,{key:0,"attr-type":"button",class:"mr-5px",onClick:i[3]||(i[3]=h=>b("title")),block:""},{default:a(()=>[H("添加")]),_:1})):(u(),C(E,{key:1,"attr-type":"button",block:"",onClick:i[4]||(i[4]=h=>j("title"))},{default:a(()=>[H("保存修改")]),_:1}))]),_:1})]),_:1},8,["model"])]),_:1},8,["disabled"]),t(ee,{title:"表格",name:"2",disabled:d.value!==-1},{default:a(()=>[d.value==-1?(u(),C(E,{key:0,block:"",onClick:i[5]||(i[5]=h=>b("table"))},{default:a(()=>[H("添加表格")]),_:1})):(u(),C(E,{key:1,block:"",onClick:s},{default:a(()=>[H("修改表格")]),_:1}))]),_:1},8,["disabled"]),t(ee,{title:"图表",name:"3",disabled:d.value!==-1},{default:a(()=>[d.value==-1?(u(),C(E,{key:0,block:"",onClick:i[6]||(i[6]=h=>b("chart"))},{default:a(()=>[H("添加图表")]),_:1})):(u(),C(E,{key:1,block:"",onClick:_},{default:a(()=>[H("修改图表")]),_:1}))]),_:1},8,["disabled"])]),_:1},8,["expanded-names"])]),_:1})]),_:1})]),_:1})]),_:1}),t(Je,{visible:g.addChartModal,"onUpdate:visible":i[8]||(i[8]=h=>g.addChartModal=h),activeTmpIndex:n.value,chart:g.chart,onUpdate:A},null,8,["visible","activeTmpIndex","chart"]),t(Ge,{visible:r.setTableModal,"onUpdate:visible":i[9]||(i[9]=h=>r.setTableModal=h),activeTmpIndex:n.value,data:r.table,onUpdate:x},null,8,["visible","activeTmpIndex","data"])])}}}),va=ie(na,[["__scopeId","data-v-71a6b88d"]]);export{va as default};
