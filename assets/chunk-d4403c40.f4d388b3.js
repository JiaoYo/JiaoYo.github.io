(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d4403c40"],{"4f4c":function(e,a,t){},"7c1b":function(e,a,t){"use strict";var i=t("4f4c");t.n(i).a},ce5a:function(e,a,t){"use strict";t.r(a);t("c975");var i=t("5530"),n=t("2f62"),o=t("b311"),r=t.n(o),s=t("e199"),d={name:"authorizationinformation",i18n:t("d1f9"),data:function(){return{activeKey:["1"],labelCol:{span:1},wrapperCol:{span:23},labelColEn:{span:2},wrapperColEn:{span:22},validList:[{name:this.$t("yes"),value:0},{name:this.$t("no"),value:2}],dataListLoading:!1,authorizationInfo:{},addOrUpdateVisible:!1,labelColAddOrUpdate:{span:4},wrapperColAddOrUpdate:{span:20},labelColAddOrUpdateEn:{span:8},wrapperColAddOrUpdateEn:{span:16},addOrUpdateForm:{auth_info:null},rules:{auth_info:[{required:!0,message:this.$t("pleaseEnterTheMachineInformationPassword"),trigger:"change"}]}}},computed:Object(i.a)(Object(i.a)({},Object(n.e)("account",["user"])),Object(n.e)("setting",["lang"])),methods:{filterOption:function(e,a){return a.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},getDataList:function(){var e=this;e.dataListLoading=!0,Object(s.t)({}).then((function(a){var t=a.data;return t?0!=t.code?(e.dataListLoading=!1,e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(t.msg)):(e.authorizationInfo=t.data,void(e.dataListLoading=!1)):(e.dataListLoading=!1,!1)})).catch((function(a){return console.log(a),e.dataListLoading=!1,!1}))},handleCopyChange:function(){var e=this,a=new r.a(".copyMachineCiphertext",{text:function(){return e.authorizationInfo.machine_info}});a.on("success",(function(t){console.log(t),e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.success(e.$t("copiedSuccessfully")),a.destroy()})),a.on("error",(function(t){console.log(t),e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(e.$t("copyFailed")),a.destroy()}))},handleAddOrUpdateChange:function(){this.addOrUpdateForm.auth_info="",this.addOrUpdateVisible=!0},handleAddOrUpdateVisibleCloseChange:function(){this.addOrUpdateForm.auth_info="",this.addOrUpdateVisible=!1},handleAddOrUpdateVisibleChange:function(){var e=this,a={auth_info:e.addOrUpdateForm.auth_info};if(!e.addOrUpdateForm.auth_info)return e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.warning(e.$t("pleaseEnterTheMachineInformationPassword"));Object(s.bb)(a).then((function(a){var t=a.data;return!!t&&(0!=t.code?(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(t.msg)):0!=t.data.result?1==t.data.result?(e.addOrUpdateVisible=!1,e.addOrUpdateForm.auth_info="",e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.success(e.$t("authorizationSuccessful")),e.getChannelDataList()):(e.addOrUpdateVisible=!1,e.addOrUpdateForm.auth_info="",e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(e.$t("invalidAuthorization"))):(e.addOrUpdateVisible=!1,e.addOrUpdateForm.auth_info="",e.$message.config({maxCount:1}),e.$message.destroy(),void e.$message.error(e.$t("authorizationFailed"))))})).catch((function(e){return console.log(e),!1}))}},mounted:function(){this.getDataList()},watch:{lang:{handler:function(){this.validList=[{name:this.$t("yes"),value:0},{name:this.$t("no"),value:2}]},deep:!0,immediate:!0}}},l=(t("7c1b"),t("0c7c")),u=Object(l.a)(d,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("a-card",[t("a-collapse",{model:{value:e.activeKey,callback:function(a){e.activeKey=a},expression:"activeKey"}},[t("a-collapse-panel",{key:"1",attrs:{disabled:""}},[t("template",{slot:"header"},[t("span",[e._v(e._s(e.$t("authorizationInformation")))]),t("a-tooltip",{attrs:{placement:"top",title:e.$t("refresh")}},[t("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"reload"},on:{click:e.getDataList}})],1)],1),t("a-spin",{staticStyle:{"margin-top":"20px"},attrs:{spinning:e.dataListLoading}},["{}"!=JSON.stringify(e.authorizationInfo)?t("a-descriptions",{attrs:{bordered:"",layout:"vertical"}},[t("a-descriptions-item",{attrs:{label:e.$t("currentStatus"),span:3}},[e._v(" "+e._s(e.authorizationInfo.license?e.$t("efficient"):e.$t("invalid")))]),t("a-descriptions-item",{attrs:{label:e.$t("authorizationExpirationDate"),span:3}},[e._v(e._s(e.authorizationInfo.auth_info.dead_line))]),t("a-descriptions-item",{attrs:{label:e.$t("authorizedSoftwareName"),span:3}},[e._v(e._s(e.authorizationInfo.auth_info.soft_name))]),t("a-descriptions-item",{attrs:{label:e.$t("gatewayNumber"),span:3}},[e._v(e._s(e.authorizationInfo.auth_info.sn))]),t("a-descriptions-item",{attrs:{label:e.$t("machineInformationCiphertext"),span:3}},[t("a-textarea",{attrs:{readOnly:"","auto-size":{minRows:2,maxRows:4}},model:{value:e.authorizationInfo.machine_info,callback:function(a){e.$set(e.authorizationInfo,"machine_info",a)},expression:"authorizationInfo.machine_info"}}),t("div",{staticStyle:{"margin-top":"10px","text-align":"right"}},[t("a-button",{staticClass:"copyMachineCiphertext",attrs:{icon:"copy",type:"primary",disabled:"{}"==JSON.stringify(e.authorizationInfo)},on:{click:e.handleCopyChange}},[e._v(e._s(e.$t("copyMachineCiphertext")))])],1)],1),"visitor"!=e.user?t("a-descriptions-item",{attrs:{label:e.$t("updateAuthorization"),span:3}},[t("a-textarea",{attrs:{placeholder:e.$t("pleaseEnterTheMachineInformationPassword"),"auto-size":{minRows:2,maxRows:4}},model:{value:e.addOrUpdateForm.auth_info,callback:function(a){e.$set(e.addOrUpdateForm,"auth_info",a)},expression:"addOrUpdateForm.auth_info"}}),t("div",{staticStyle:{"margin-top":"10px","text-align":"right"}},[t("a-button",{attrs:{icon:"edit",type:"primary"},on:{click:e.handleAddOrUpdateVisibleChange}},[e._v(e._s(e.$t("updateAuthorization")))])],1)],1):e._e()],1):e._e()],1)],2)],1),t("a-modal",{attrs:{width:800,title:e.$t("authorizationInformation"),visible:e.addOrUpdateVisible,footer:null},on:{cancel:e.handleAddOrUpdateVisibleCloseChange}},[t("a-form-model",{ref:"addOrUpdateForm",staticClass:"user-layout-login",attrs:{"label-col":"US"==e.lang?e.labelColAddOrUpdateEn:e.labelColAddOrUpdate,"wrapper-col":"US"==e.lang?e.wrapperColAddOrUpdateEn:e.wrapperColAddOrUpdate,model:e.addOrUpdateForm,rules:e.rules},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handleAddOrUpdateVisibleChange(a)}}},[t("a-form-model-item",{attrs:{label:e.$t("machineInformationCiphertext"),prop:"auth_info"}},[t("a-textarea",{attrs:{placeholder:e.$t("pleaseEnterTheMachineInformationPassword"),"auto-size":{minRows:4,maxRows:8}},model:{value:e.addOrUpdateForm.auth_info,callback:function(a){e.$set(e.addOrUpdateForm,"auth_info",a)},expression:"addOrUpdateForm.auth_info"}})],1),t("a-form-model-item",{staticStyle:{"text-align":"right"},attrs:{wrapperCol:{span:24}}},[t("a-space",[t("a-button",{on:{click:e.handleAddOrUpdateVisibleCloseChange}},[e._v(e._s(e.$t("cancel")))]),t("a-button",{attrs:{type:"primary"},on:{click:e.handleAddOrUpdateVisibleChange}},[e._v(e._s(e.$t("confirm")))])],1)],1)],1)],1)],1)}),[],!1,null,"50186ee0",null).exports;a.default=u},d1f9:function(e,a){e.exports={messages:{CN:{authorizationInformation:"授权信息",search:"查询",gatewayHardwareUniqueNumber:"网关硬件唯一编号",pleaseEnterTheGatewayHardwareUniqueNumber:"请输入网关硬件唯一编号",gatewayNumber:"网关编号",pleaseEnterTheGatewayNumber:"请输入网关编号",pleaseEnterIntNumber:"请输入数字",authorizedSoftwareName:"授权软件名称",pleaseEnterTheAuthorizedSoftwareName:"请输入授权软件名称",numberOfAuthorizedMeasuringPoints:"授权测点数量",pleaseEnterTheNumberOfAuthorizedMeasuringPoints:"请输入授权测点数量",authorizationExpirationDate:"授权截至日期",machineInformationCiphertext:"机器码",pleaseEnterTheMachineInformationPassword:"请输入授权码",validity:"有效性",yes:"是",no:"否",option:"操作",update:"修改",delete:"删除",confirm:"确认",cancel:"取消",submit:"提交",authorizationFailed:"授权失败",authorizationSuccessful:"授权成功, 请您手动重启应用",invalidAuthorization:"无效授权",refresh:"刷新",copyMachineCiphertext:"复制机器码",issueAuthorization:"下发授权",copiedSuccessfully:"复制成功",copyFailed:"复制失败",updateAuthorization:"更新授权",currentStatus:"当前状态",efficient:"有效",invalid:"无效"},US:{authorizationInformation:"Authorization information",search:"Search",gatewayHardwareUniqueNumber:"Gateway hardware unique number",pleaseEnterTheGatewayHardwareUniqueNumber:"Please enter the gateway hardware unique number",gatewayNumber:"SN",pleaseEnterTheGatewayNumber:"Please enter the SN",pleaseEnterIntNumber:"Please enter the number",authorizedSoftwareName:"Authorized software name",pleaseEnterTheAuthorizedSoftwareName:"Please enter the authorized software name",numberOfAuthorizedMeasuringPoints:"Number of authorized measuring points",pleaseEnterTheNumberOfAuthorizedMeasuringPoints:"Please enter the number of authorized measuring points",authorizationExpirationDate:"Authorization expiration date",machineInformationCiphertext:"Machine code",pleaseEnterTheMachineInformationPassword:"Please enter authorization code",validity:"Validity",yes:"Yes",no:"No",option:"Option",update:"Update",delete:"Delete",confirm:"Confirm",cancel:"Cancel",submit:"Submit",authorizationFailed:"Authorization failed",authorizationSuccessful:"Authorization successful, please restart the application manually",invalidAuthorization:"Invalid authorization",refresh:"Refresh",copyMachineCiphertext:"Copy machine code",issueAuthorization:"Issue authorization",copiedSuccessfully:"Copied successfully",copyFailed:"Copied failed",updateAuthorization:"Update authorization",currentStatus:"Current status",efficient:"Efficient",invalid:"Invalid"}}}}}]);