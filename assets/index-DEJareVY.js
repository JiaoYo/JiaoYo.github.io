import{_ as V}from"./export-CXWoj5Fq.js";import{e as M}from"./exportExcel-DNhOb6yd.js";import{d as U,s as m,D as z,aU as _,i as I,b as v,o as r,f as l,w as s,N as R,J as F,c as i,G as y,aI as L,aA as $,b1 as E,B as G,g,t as H,aD as P,a2 as A,fv as J,W}from"./index-CMHgEXMh.js";import{_ as q}from"./RadioButton-V32cT3aM.js";import{_ as K}from"./DatePicker-BXJxaIxz.js";const O={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},Q=U({name:"reportmanagement_projectreport",__name:"index",setup(X){const o=m("year"),h=m([{label:"日",value:"day"},{label:"月",value:"month"},{label:"年",value:"year"}]),t=z({dayTime:String(_(0,null)),monthTime:String(_(3,null)),yearTime:String(_(4,null))}),x=a=>{o.value=a,u()},d=m([]),u=async()=>{const{data:a}=await J({dates:o.value=="day"?t.dayTime:o.value=="month"?t.monthTime:t.yearTime});a&&(d.value=a)};async function c(a){u()}I(()=>{u()});const T=[{key:"username",title:"调试人",width:180,align:"center",render(a){return l("div",{class:" "},[l("span",null,[a.username])])}},{key:"projectcount",title:"参与项目数量",align:"center",sorter:(a,e)=>a.projectcount-e.projectcount,width:180},{key:"debugcount",title:"调试任务数量",align:"center",sorter:(a,e)=>a.debugcount-e.debugcount,width:180}],b=m(window.innerHeight-325),k=()=>{M(d.value,{username:"用户名",projectcount:"参与项目数量",debugcount:"调试任务数量"},`项目报表_${o.value=="day"?t.dayTime:o.value=="month"?t.monthTime:t.yearTime}`)};return(a,e)=>{const w=q,N=L,p=K,C=F,f=G,D=V,j=R,B=P,S=A;return r(),v("div",O,[l(S,{bordered:"",style:{height:"100%"}},{default:s(()=>[l(j,{label:"查询日期","label-placement":"left","show-feedback":!1,class:"mb-15px"},{default:s(()=>[l(C,null,{default:s(()=>[l(N,{value:o.value,"onUpdate:value":[e[0]||(e[0]=n=>o.value=n),x],size:"small"},{default:s(()=>[(r(!0),v($,null,E(h.value,n=>(r(),i(w,{key:n.value,value:n.value,label:n.label},null,8,["value","label"]))),128))]),_:1},8,["value"]),o.value==="year"?(r(),i(p,{key:0,size:"small","formatted-value":t.yearTime,"onUpdate:formattedValue":[e[1]||(e[1]=n=>t.yearTime=n),c],type:"year","value-format":"yyyy",style:{width:"120px"}},null,8,["formatted-value"])):y("",!0),o.value=="month"?(r(),i(p,{key:1,size:"small","formatted-value":t.monthTime,"onUpdate:formattedValue":[e[2]||(e[2]=n=>t.monthTime=n),c],type:"month","value-format":"yyyy-MM",style:{width:"120px"}},null,8,["formatted-value"])):y("",!0),o.value=="day"?(r(),i(p,{key:2,size:"small","formatted-value":t.dayTime,"onUpdate:formattedValue":[e[3]||(e[3]=n=>t.dayTime=n),c],type:"date","value-format":"yyyy-MM-dd",style:{width:"120px"}},null,8,["formatted-value"])):y("",!0)]),_:1}),l(f,{type:"primary",ghost:"",style:{"margin-left":"20px"},onClick:u},{default:s(()=>e[4]||(e[4]=[g("查询")])),_:1,__:[4]}),l(f,{style:{"margin-left":"20px"},onClick:k},{icon:s(()=>[l(D,{class:"text-icon"})]),default:s(()=>[e[5]||(e[5]=g(" "+H("导出")))]),_:1,__:[5]})]),_:1}),l(B,{columns:T,data:d.value,"max-height":b.value},null,8,["data","max-height"])]),_:1})])}}}),ne=W(Q,[["__scopeId","data-v-0f27790e"]]);export{ne as default};
