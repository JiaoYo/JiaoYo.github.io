import{r as l}from"./index-D4ngyqj9.js";function p(o){const t=l({page:1,limit:500,data:[],total:0});return{pageData:t,getData:async e=>{try{console.log("transParams",e);const{data:a,error:i}=await o(e?{page:t.page,limit:t.limit,...e}:{page:t.page,limit:t.limit});i||(t.data=a.list,t.total=a.total)}catch(a){console.error("错误",a)}},nextPage:async e=>{if(t.page*t.limit<t.total){t.page++;try{const{data:a,error:i}=await o(e?{page:t.page,limit:t.limit,...e}:{page:t.page,limit:t.limit});i||(t.total=a.total,t.data=[...t.data,...a.list])}catch(a){t.page--,console.error("错误",a)}}}}}export{p as u};
