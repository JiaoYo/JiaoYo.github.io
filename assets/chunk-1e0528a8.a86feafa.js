(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1e0528a8"],{"1b9e":function(e,t,a){},"8c71":function(e,t,a){"use strict";var s=a("1b9e");a.n(s).a},"984d":function(e,t,a){"use strict";a.r(t);a("96cf");var s=a("1da1"),r=a("5530"),n=a("2f62"),o=a("c1df"),c=a.n(o),i=a("e199"),p={name:"gateway",i18n:a("c5b1"),data:function(){return{activeKey:["1"],labelCol:{span:4},wrapperCol:{span:20},labelColEn:{span:6},wrapperColEn:{span:18},gatewayTime:c()(new Date).format("YYYY-MM-DD HH:mm:ss"),ports:{webport:"",sshdport:""},Gatewaydata:{}}},computed:Object(r.a)(Object(r.a)({},Object(n.e)("account",["user"])),Object(n.e)("setting",["lang"])),methods:{moment:c.a,setTime:function(){var e=this,t={time:c()(this.gatewayTime).format("YYYY-MM-DD HH:mm:ss")};Object(i.Z)(t).then((function(t){1==t.data.data.result?e.$message.success(e.$t("setupSuccessful")):e.$message.error(e.$t("setupFailed"))})).catch((function(t){e.$message.error(e.$t("setupFailed"))}))},getPort:function(){var e=this;Object(i.s)({}).then((function(t){var a=t.data;console.log(a),e.ports.webport=a.data.nginx,e.ports.sshdport=a.data.sshd})).catch((function(e){return console.log(e),!1}))},setPort:function(){var e=this;Object(i.Y)({nginx:1*this.ports.webport,sshd:1*this.ports.sshdport}).then((function(t){1==t.data.data.result?(e.$message.success("设置成功，重启网关后生效"),e.getPort()):e.$message.error(e.$t("setupFailed"))})).catch((function(t){e.$message.error(e.$t("setupFailed"))}))},GetGatewayInfo:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.r)({});case 2:a=t.sent,s=a.data,e.Gatewaydata=s.data;case 5:case"end":return t.stop()}}),t)})))()},handleBtnGatewayDesc:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.X)({note:e.Gatewaydata.note});case 2:a=t.sent,1==a.data.data.result?e.$message.success("设置成功"):e.$message.error("设置失败"),e.GetGatewayInfo(),e.isEditGatewayDesc=!1;case 7:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.getPort(),this.GetGatewayInfo()},watch:{lang:{handler:function(){},deep:!0,immediate:!0}}},u=(a("8c71"),a("0c7c")),l=Object(u.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",[a("a-collapse",{model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",attrs:{header:e.$t("gatewayConfiguration"),disabled:""}},[a("a-descriptions",{attrs:{bordered:"",column:1}},[a("a-descriptions-item",{attrs:{label:e.$t("gatewayNumber"),span:1}},[e._v(e._s(e.Gatewaydata.sn||""))]),a("a-descriptions-item",{attrs:{label:e.$t("gatewayIP"),span:1}},[e._v(e._s(e.Gatewaydata.ip||""))]),a("a-descriptions-item",{attrs:{label:e.$t("gatewayRemarks"),span:1}},[a("a-space",[a("a-input",{staticStyle:{width:"240px"},attrs:{allowClear:"",id:"gatewayDesc"},model:{value:e.Gatewaydata.note,callback:function(t){e.$set(e.Gatewaydata,"note",t)},expression:"Gatewaydata.note"}}),a("a-button",{attrs:{type:"primary",icon:"setting"},on:{click:e.handleBtnGatewayDesc}},[e._v(e._s(e.$t("setUp")))])],1)],1),a("a-descriptions-item",{attrs:{label:e.$t("setGatewayPort"),span:1}},[a("a-space",[a("div",[e._v(e._s(e.$t("webPort")))]),a("a-input-number",{attrs:{allowClear:"",placeholder:e.$t("pleaseEnterWebPort")},model:{value:e.ports.webport,callback:function(t){e.$set(e.ports,"webport",t)},expression:"ports.webport"}}),a("div",[e._v(e._s(e.$t("ssdhPort")))]),a("a-input-number",{attrs:{allowClear:"",placeholder:e.$t("pleaseEnterSsdhPort")},model:{value:e.ports.sshdport,callback:function(t){e.$set(e.ports,"sshdport",t)},expression:"ports.sshdport"}}),a("a-button",{attrs:{icon:"reload"},on:{click:e.getPort}},[e._v(e._s(e.$t("refresh")))]),"visitor"!=e.user?a("a-button",{attrs:{type:"primary",icon:"setting"},on:{click:e.setPort}},[e._v(e._s(e.$t("setUp")))]):e._e()],1)],1),a("a-descriptions-item",{attrs:{label:e.$t("setGatewayTime"),span:1}},[a("a-space",[a("a-date-picker",{attrs:{valueFormat:"YYYY-MM-DD HH:mm:ss","show-time":""},model:{value:e.gatewayTime,callback:function(t){e.gatewayTime=t},expression:"gatewayTime"}}),a("a-button",{attrs:{type:"primary",icon:"setting"},on:{click:e.setTime}},[e._v(e._s(e.$t("setUp")))])],1)],1)],1)],1)],1)],1)}),[],!1,null,"69b9a51f",null).exports;t.default=l},c5b1:function(e,t){e.exports={messages:{CN:{gatewayConfiguration:"网关配置",refresh:"刷新",setUp:"设置",setupSuccessful:"设置成功",setupFailed:"设置失败",setGatewayTime:"网关时间",Time:"时间",setGatewayPort:"网关端口",gatewayNumber:"网关编号",gatewayIP:"网关IP",gatewayRemarks:"网关备注",webPort:"WEB端口",pleaseEnterWebPort:"请输入WEB端口",ssdhPort:"SSDH端口",pleaseEnterSsdhPort:"请输入SSDH端口",setSuccess:"设置成功，重启网关后生效"},US:{gatewayConfiguration:"Gateway configuration",refresh:"Refresh",setUp:"Set up",setupSuccessful:"Setup successful",setupFailed:"Setup failed",setGatewayTime:"gateway time",Time:"Time",setGatewayPort:"gateway port",gatewayNumber:"gateway number",gatewayIP:"gateway IP",gatewayRemarks:"gateway remarks",webPort:"Web port",pleaseEnterWebPort:"Please enter the web port",ssdhPort:"SSDHport",pleaseEnterSsdhPort:"Please enter the SSDH port",setSuccess:"Setting successful, takes effect after restarting the gateway"}}}}}]);