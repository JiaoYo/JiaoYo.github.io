import{d as x,q as C,s as T,o as N,c as D,w as s,g as o,i as t,$ as e,V as M,dv as v,h as k,t as w,Y as O,B,E as P,D as $,aa as z,a0 as U,an as V,e as j,ad as A,ae as F}from"./index-D9LKuiQm.js";import{b as G}from"./system-log-DI5YmCt1.js";import{u as R}from"./table-CFnqTzpj.js";import{_ as E}from"./round-search-CoFmcX82.js";import{_ as I}from"./round-refresh-CQ9hmdzS.js";import{_ as L}from"./FormItemGridItem-BfyHK_6U.js";import{_ as Y}from"./Grid-CxtUoudQ.js";import{_ as H}from"./DataTable-mhYq4Qad.js";import"./Forward-jNiNP-zH.js";const J=x({name:"OptionlogSearch",__name:"optionlog-search",props:{model:{required:!0},modelModifiers:{}},emits:C(["reset","search"],["update:model"]),setup(r,{emit:f}){const p=f,m=T(r,"model");function u(){p("reset")}function _(){p("search")}return(b,d)=>{const c=O,g=L,a=I,n=B,l=E,h=P,i=Y,y=$,S=z;return N(),D(S,{bordered:!1,size:"small",class:"card-wrapper"},{default:s(()=>[o(y,{model:m.value,"label-placement":"left","label-width":80,"show-feedback":!1},{default:s(()=>[o(i,{responsive:"screen","item-responsive":""},{default:s(()=>[o(g,{span:"24 s:12 m:6",label:t(e)("page.systemlog.option.status"),path:"status",class:"pr-24px"},{default:s(()=>[o(c,{filterable:"",clearable:"",value:m.value.status,"onUpdate:value":[d[0]||(d[0]=q=>m.value.status=q),_],placeholder:t(e)("page.systemlog.option.form.status"),options:t(M)(t(v)),onClear:u},null,8,["value","placeholder","options"])]),_:1},8,["label"]),o(g,{span:"24 s:12 m:6"},{default:s(()=>[o(h,{class:"w-full"},{default:s(()=>[o(n,{onClick:u},{icon:s(()=>[o(a,{class:"text-icon"})]),default:s(()=>[k(" "+w(t(e)("common.reset")),1)]),_:1}),o(n,{type:"primary",ghost:"",onClick:_},{icon:s(()=>[o(l,{class:"text-icon"})]),default:s(()=>[k(" "+w(t(e)("common.search")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}}),K={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"};function Q(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!F(r)}const le=x({name:"logmanage_optionlog",__name:"index",setup(r){const f=U(),{columns:p,columnChecks:m,data:u,getData:_,loading:b,pagination:d,searchParams:c,resetSearchParams:g}=R({apiFn:G,immediate:!0,apiParams:{page:1,pageSize:20,limit:20,status:null,_t:new Date().getTime()},columns:()=>[{key:"creatorName",title:e("page.systemlog.option.creatorName"),align:"center",width:160,resizable:!0},{key:"operation",title:e("page.systemlog.option.operation"),width:140,align:"center",ellipsis:{tooltip:!0},resizable:!0},{key:"requestUri",title:e("page.systemlog.option.requestUri"),width:160,align:"center",ellipsis:{tooltip:!0},resizable:!0},{key:"requestMethod",title:e("page.systemlog.option.requestMethod"),width:100,align:"center"},{key:"requestParams",title:e("page.systemlog.option.requestParams"),width:140,align:"center",ellipsis:{tooltip:!0},resizable:!0},{key:"requestTime",title:e("page.systemlog.option.requestTime"),width:100,align:"center",resizable:!0},{key:"status",title:e("page.systemlog.option.status"),width:100,align:"center",render:a=>{a.status==null&&(a.status=0);const n={0:"error",1:"primary"},l=e(v[a.status].label);return o(V,{size:"small",type:n[a.status]},Q(l)?l:{default:()=>[l]})},resizable:!0},{key:"ip",title:e("page.systemlog.option.ip"),width:160,align:"center",resizable:!0},{key:"userAgent",title:e("page.systemlog.option.userAgent"),align:"center",ellipsis:{tooltip:!0},resizable:!0},{key:"createDate",title:e("page.systemlog.option.createDate"),width:160,align:"center"}]});return(a,n)=>{const l=H,h=z;return N(),j("div",K,[o(J,{model:t(c),"onUpdate:model":n[0]||(n[0]=i=>A(c)?c.value=i:null),onReset:t(g),onSearch:t(_)},null,8,["model","onReset","onSearch"]),o(h,{title:t(e)("page.systemlog.option.title"),bordered:!1,size:"small",class:"sm:flex-1-hidden card-wrapper"},{default:s(()=>[o(l,{columns:t(p),data:t(u),size:"small","flex-height":!t(f).isMobile,"scroll-x":t(p).reduce((i,y)=>i+y.width,0),loading:t(b),remote:"","row-key":i=>i.id,pagination:t(d),class:"sm:h-full"},null,8,["columns","data","flex-height","scroll-x","loading","row-key","pagination"])]),_:1},8,["title"])])}}});export{le as default};
