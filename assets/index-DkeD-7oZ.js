import{_ as A}from"./twotone-add-circle-outline-DH08HQ2y.js";import{d as U,n as K,ag as G,T as $,q as I,p as L,j,aT as r,o as F,c as q,w as t,g as e,h as B,t as E,i as a,$ as J,A as O,H,I as R,dk as Q,B as W,J as X,a0 as P,v as Y,ad as Z,e as ee,ak as M,f as te,aJ as ne}from"./index-odpIOa9D.js";import{_ as ae,f as oe}from"./outline-data-exploration-CpgdSm2o.js";import{u as se,a as le}from"./table-C1XmBycW.js";import{e as ie}from"./exportExcel-Bv4G4H50.js";import{_ as re}from"./round-search-wX8as3A6.js";import{_ as ce}from"./DatePicker-pBfmJvE9.js";import{_ as de}from"./FormItemGridItem-CgDGNqgG.js";import{_ as me}from"./Grid-DWwU4KsZ.js";import{_ as pe}from"./DataTable-Wz0nH3gM.js";import"./TimePicker-BW_j6-Te.js";import"./Forward-CKxk1mVh.js";import"./RadioGroup-DN5hCKz_.js";const ue=U({name:"AlarmSearch",__name:"uploadevents-search",props:{model:{required:!0},modelModifiers:{}},emits:K(["reset","search","exportData"],["update:model"]),setup(D,{emit:g}){G({1:"电场1",2:"电场2",3:"电场3"});const u=g,S=$(),{formRef:_,restoreValidation:y}=I(),n=L(D,"model");n.value.cities=void 0,n.value.time=j([Number(r(5,Date.now()-864e5*6)),Number(r(5,Date.now()+864e5))]),n.value.startTime=r(0,Date.now()-864e5*6),n.value.endTime=r(0,Date.now()+864e5);async function w(i,s){n.value.startTime=i[0],n.value.endTime=i[1]}async function l(){u("search")}const v=()=>{u("exportData")};return(i,s)=>{const T=ce,f=de,x=H,N=R,C=Q,c=re,b=W,V=ae,h=R,k=me,d=X,o=P;return F(),q(o,{bordered:!1,size:"small",class:"card-wrapper"},{default:t(()=>[e(d,{ref_key:"formRef",ref:_,model:n.value,"label-placement":"left","label-width":a(S).locale=="en-US"?120:80,"show-feedback":!1,onKeyup:O(l,["enter"])},{default:t(()=>[e(k,{"y-gap":16,responsive:"screen","item-responsive":""},{default:t(()=>[e(f,{span:"24 s:12 m:6",label:"时间",path:"time",class:"pr-24px"},{default:t(()=>[e(T,{value:n.value.time,"onUpdate:value":s[0]||(s[0]=m=>n.value.time=m),type:"daterange","value-format":"yyyy-MM-dd",style:{width:"100%"},"onUpdate:formattedValue":w},null,8,["value"])]),_:1}),e(f,{span:"24 s:12 m:4",label:""},{default:t(()=>[e(C,{modelValue:n.value.cities,"onUpdate:modelValue":s[1]||(s[1]=m=>n.value.cities=m)},{default:t(()=>[e(N,{"item-style":"display: flex;"},{default:t(()=>[e(x,{value:"Beijing",label:"102协议"}),e(x,{value:"Shanghai",label:"ftp文件上传率"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(f,{span:"24 s:12 m:6",class:"pr-24px"},{default:t(()=>[e(h,{class:"w-full"},{default:t(()=>[e(b,{type:"primary",ghost:"",onClick:l},{icon:t(()=>[e(c,{class:"text-icon"})]),default:t(()=>[B(" "+E(a(J)("common.search")),1)]),_:1}),e(b,{onClick:v},{icon:t(()=>[e(V,{class:"text-icon"})]),default:t(()=>[B(" "+E("导出"))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","label-width"])]),_:1})}}}),_e={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},fe=te("span",null,"光伏上传率统计",-1),Ve=U({name:"statisticalanalysis_uploadratestatistics",__name:"index",setup(D){const g=$(),{columns:u,columnChecks:S,data:_,getData:y,loading:n,mobilePagination:w,searchParams:l,resetSearchParams:v}=se({apiFn:oe,apiParams:{page:1,pageSize:20,limit:20,startTime:r(0,Date.now()-864e5*6)||null,endTime:r(0,Date.now()+864e5)||null,level:null,devtype:null,status:null,_t:new Date().getTime()},immediate:!1,showTotal:!0,columns:()=>[{title:"",key:"index",width:50,align:"center",render:(d,o)=>`${o+1}`},{key:"describe",title:"上报对象名称",align:"center",width:100},{key:"statrttime",title:"文件类型",align:"center",width:240},{key:"devname",title:"已上报",align:"center",width:240},{key:"dtype",title:"应上报",align:"center",width:140},{key:"subdtype",title:"百分比",align:"center",width:140}]}),i=[{id:"1",describe:"中控new",statrttime:"短期",devname:"12",dtype:"26",subdtype:"46%",reoetits:"123",content:"123"},{id:"2",describe:"调控new",statrttime:"超短期",devname:"17",dtype:"24",subdtype:"70%",reoetits:"123",content:"123"}],s=()=>{ie(i,{timeFrame:"时间范围",describe:"描述",statrttime:"开机容量",devname:"实发功率",dtype:"预测功率",subdtype:"均方根误差",reoetits:"平均绝对误差",content:"相关性系数"},"短期预测日报","sheet1")},{drawerVisible:T,operateType:f,editingData:x,handleAdd:N,handleEdit:C,checkedRowKeys:c,onBatchDeleted:b,onDeleted:V}=le(_,y),h=d=>{d.detail.key};Y(()=>{window.addEventListener("localStorageChanged",h)}),Z(()=>{window.removeEventListener("localStorageChanged",h)});const k=()=>ne(e(A,null,null));return(d,o)=>{const m=pe,z=P;return F(),ee("div",_e,[e(ue,{model:a(l),"onUpdate:model":o[0]||(o[0]=p=>M(l)?l.value=p:null),onReset:a(v),onSearch:a(y),onExportData:s},null,8,["model","onReset","onSearch"]),e(z,{bordered:!1,size:"small",class:"sm:flex-1-hidden card-wrapper"},{header:t(()=>[fe]),default:t(()=>[e(m,{bordered:!1,"render-expand-icon":k,"single-line":!1,"checked-row-keys":a(c),"onUpdate:checkedRowKeys":o[1]||(o[1]=p=>M(c)?c.value=p:null),columns:a(u),data:i,size:"small","flex-height":!a(g).isMobile,"scroll-x":702,loading:a(n),remote:"","row-key":p=>p.id,pagination:a(_).length?a(w):void 0,class:"sm:h-full"},null,8,["checked-row-keys","columns","flex-height","loading","row-key","pagination"])]),_:1})])}}});export{Ve as default};
