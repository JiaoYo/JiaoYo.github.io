import{_ as P}from"./twotone-add-circle-outline-CxkuWcNB.js";import{d as V,n as z,ah as A,U as F,q as L,p as q,j as G,aV as r,o as M,c as I,w as t,g as e,h as B,t as E,i as a,$ as O,A as j,B as W,K as H,L as J,a1 as U,v as Q,ae as X,e as Y,al as R,f as Z,aK as ee}from"./index-C2u6vOA1.js";import{_ as te,f as ae}from"./outline-data-exploration-Bt2dc9n6.js";import{u as ne,a as oe}from"./table-Cb07FrQD.js";import{e as se}from"./exportExcel-Bv4G4H50.js";import{_ as le}from"./round-search-SK0LkSqR.js";import{_ as re}from"./DatePicker-BQxig712.js";import{_ as ie}from"./FormItemGridItem-DjiNuyrh.js";import{_ as ce}from"./Grid-CW5-Kn8z.js";import{_ as me}from"./DataTable-B59_lcFE.js";import"./TimePicker-w36dimYy.js";import"./Forward-DB9iWvzA.js";import"./RadioGroup-dVRs7CWd.js";const de=V({name:"AlarmSearch",__name:"uploadevents-search",props:{model:{required:!0},modelModifiers:{}},emits:z(["reset","search","exportData"],["update:model"]),setup(k,{emit:_}){A({1:"电场1",2:"电场2",3:"电场3"});const d=_,b=F(),{formRef:p,restoreValidation:f}=L(),n=q(k,"model");n.value.time=G([Number(r(5,Date.now()-864e5*6)),Number(r(5,Date.now()+864e5))]),n.value.startTime=r(0,Date.now()-864e5*6),n.value.endTime=r(0,Date.now()+864e5);async function h(s,i){n.value.startTime=s[0],n.value.endTime=s[1]}async function o(){d("search")}const g=()=>{d("exportData")};return(s,i)=>{const D=re,y=ie,N=le,w=W,S=te,c=H,T=ce,C=J,u=U;return M(),I(u,{bordered:!1,size:"small",class:"card-wrapper"},{default:t(()=>[e(C,{ref_key:"formRef",ref:p,model:n.value,"label-placement":"left","label-width":a(b).locale=="en-US"?120:80,"show-feedback":!1,onKeyup:j(o,["enter"])},{default:t(()=>[e(T,{"y-gap":16,responsive:"screen","item-responsive":""},{default:t(()=>[e(y,{span:"24 s:12 m:6",label:"时间",path:"time",class:"pr-24px"},{default:t(()=>[e(D,{value:n.value.time,"onUpdate:value":i[0]||(i[0]=v=>n.value.time=v),type:"daterange","value-format":"yyyy-MM-dd",style:{width:"100%"},"onUpdate:formattedValue":h},null,8,["value"])]),_:1}),e(y,{span:"24 s:12 m:6",class:"pl-24px"},{default:t(()=>[e(c,{class:"w-full"},{default:t(()=>[e(w,{type:"primary",ghost:"",onClick:o},{icon:t(()=>[e(N,{class:"text-icon"})]),default:t(()=>[B(" "+E(a(O)("common.search")),1)]),_:1}),e(w,{onClick:g},{icon:t(()=>[e(S,{class:"text-icon"})]),default:t(()=>[B(" "+E("导出"))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","label-width"])]),_:1})}}}),pe={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},ue=Z("span",null,"光伏功率频率分布统计",-1),Te=V({name:"statisticalanalysis_frequencycount",__name:"index",setup(k){const _=F(),{columns:d,columnChecks:b,data:p,getData:f,loading:n,mobilePagination:h,searchParams:o,resetSearchParams:g}=ne({apiFn:ae,apiParams:{page:1,pageSize:20,limit:20,startTime:r(0,Date.now()-864e5*6)||null,endTime:r(0,Date.now()+864e5)||null,level:null,devtype:null,status:null,_t:new Date().getTime()},immediate:!1,showTotal:!0,columns:()=>[{title:"",key:"index",width:50,align:"center",render:(x,l)=>`${l+1}`},{key:"timeFrame",title:"编号",align:"center",width:100},{key:"statrttime",title:"产生时间",align:"center",width:240},{key:"dtype",title:"并网功率",align:"center",width:140},{key:"subdtype",title:"实发功率",align:"center",width:140},{key:"reoetits",title:"装配容量",align:"center",maxWidth:200}]}),s=[{id:"1",timeFrame:"03",describe:"日报汇报",statrttime:"2024-07-13 15:03:19",devname:"光功率预测电站",dtype:"2500",subdtype:"2400",reoetits:"3500",content:"123"}],i=()=>{se(s,{timeFrame:"时间范围",describe:"描述",statrttime:"开机容量",devname:"实发功率",dtype:"预测功率",subdtype:"均方根误差",reoetits:"平均绝对误差",content:"相关性系数"},"短期预测日报","sheet1")},{drawerVisible:D,operateType:y,editingData:N,handleAdd:w,handleEdit:S,checkedRowKeys:c,onBatchDeleted:T,onDeleted:C}=oe(p,f),u=x=>{x.detail.key};Q(()=>{window.addEventListener("localStorageChanged",u)}),X(()=>{window.removeEventListener("localStorageChanged",u)});const v=()=>ee(e(P,null,null));return(x,l)=>{const K=me,$=U;return M(),Y("div",pe,[e(de,{model:a(o),"onUpdate:model":l[0]||(l[0]=m=>R(o)?o.value=m:null),onReset:a(g),onSearch:a(f),onExportData:i},null,8,["model","onReset","onSearch"]),e($,{bordered:!1,size:"small",class:"sm:flex-1-hidden card-wrapper"},{header:t(()=>[ue]),default:t(()=>[e(K,{bordered:!1,"render-expand-icon":v,"single-line":!1,"checked-row-keys":a(c),"onUpdate:checkedRowKeys":l[1]||(l[1]=m=>R(c)?c.value=m:null),columns:a(d),data:s,size:"small","flex-height":!a(_).isMobile,"scroll-x":702,loading:a(n),remote:"","row-key":m=>m.id,pagination:a(p).length?a(h):void 0,class:"sm:h-full"},null,8,["checked-row-keys","columns","flex-height","loading","row-key","pagination"])]),_:1})])}}});export{Te as default};
