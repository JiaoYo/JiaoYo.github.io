import{_ as C,t as p,v as ce,w as ge,x as N,y as U,z as H,E as fe,A as ie,B as ne,D as V,C as K,F as se,G as R,H as le,I as me,J as $,K as he,M as X,N as de,O as ye,P as J,Q as _e,R as Me,S as w,T as be,U as Se,V as we,W as Q,X as j,Y as xe,Z as De,$ as Re,a0 as O,a1 as B,a2 as Ae,a3 as Ze,a4 as q,a5 as Ie,a6 as Ee,a7 as Le,a8 as Ce,u as ee}from"./installCanvasRenderer-CyOrKSjT.js";var ze=function(s){C(n,s);function n(e){var t=s.call(this)||this;t._zr=e;var o=p(t._mousedownHandler,t),r=p(t._mousemoveHandler,t),a=p(t._mouseupHandler,t),i=p(t._mousewheelHandler,t),l=p(t._pinchHandler,t);return t.enable=function(h,d){this.disable(),this._opt=ce(ge(d)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),h==null&&(h=!0),(h===!0||h==="move"||h==="pan")&&(e.on("mousedown",o),e.on("mousemove",r),e.on("mouseup",a)),(h===!0||h==="scale"||h==="zoom")&&(e.on("mousewheel",i),e.on("pinch",l))},t.disable=function(){e.off("mousedown",o),e.off("mousemove",r),e.off("mouseup",a),e.off("mousewheel",i),e.off("pinch",l)},t}return n.prototype.isDragging=function(){return this._dragging},n.prototype.isPinching=function(){return this._pinching},n.prototype.setPointerChecker=function(e){this.pointerChecker=e},n.prototype.dispose=function(){this.disable()},n.prototype._mousedownHandler=function(e){if(!N(e)){for(var t=e.target;t;){if(t.draggable)return;t=t.__hostTarget||t.parent}var o=e.offsetX,r=e.offsetY;this.pointerChecker&&this.pointerChecker(e,o,r)&&(this._x=o,this._y=r,this._dragging=!0)}},n.prototype._mousemoveHandler=function(e){if(!(!this._dragging||!k("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||U(this._zr,"globalPan"))){var t=e.offsetX,o=e.offsetY,r=this._x,a=this._y,i=t-r,l=o-a;this._x=t,this._y=o,this._opt.preventDefaultMouseMove&&H(e.event),ue(this,"pan","moveOnMouseMove",e,{dx:i,dy:l,oldX:r,oldY:a,newX:t,newY:o,isAvailableBehavior:null})}},n.prototype._mouseupHandler=function(e){N(e)||(this._dragging=!1)},n.prototype._mousewheelHandler=function(e){var t=k("zoomOnMouseWheel",e,this._opt),o=k("moveOnMouseWheel",e,this._opt),r=e.wheelDelta,a=Math.abs(r),i=e.offsetX,l=e.offsetY;if(!(r===0||!t&&!o)){if(t){var h=a>3?1.4:a>1?1.2:1.1,d=r>0?h:1/h;P(this,"zoom","zoomOnMouseWheel",e,{scale:d,originX:i,originY:l,isAvailableBehavior:null})}if(o){var u=Math.abs(r),c=(r>0?1:-1)*(u>3?.4:u>1?.15:.05);P(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:c,originX:i,originY:l,isAvailableBehavior:null})}}},n.prototype._pinchHandler=function(e){if(!U(this._zr,"globalPan")){var t=e.pinchScale>1?1.1:1/1.1;P(this,"zoom",null,e,{scale:t,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},n}(fe);function P(s,n,e,t,o){s.pointerChecker&&s.pointerChecker(t,o.originX,o.originY)&&(H(t.event),ue(s,n,e,t,o))}function ue(s,n,e,t,o){o.isAvailableBehavior=p(k,null,e,t),s.trigger(n,o)}function k(s,n,e){var t=e[s];return!s||t&&(!ie(t)||n.event[t+"Key"])}var Te=function(s){C(n,s);function n(){var e=s!==null&&s.apply(this,arguments)||this;return e.type=n.type,e}return n.type="dataZoom.inside",n.defaultOption=ne(V.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),n}(V),F=me();function Be(s,n,e){F(s).coordSysRecordMap.each(function(t){var o=t.dataZoomInfoMap.get(n.uid);o&&(o.getRange=e)})}function Oe(s,n){for(var e=F(s).coordSysRecordMap,t=e.keys(),o=0;o<t.length;o++){var r=t[o],a=e.get(r),i=a.dataZoomInfoMap;if(i){var l=n.uid,h=i.get(l);h&&(i.removeKey(l),i.keys().length||pe(e,a))}}}function pe(s,n){if(n){s.removeKey(n.model.uid);var e=n.controller;e&&e.dispose()}}function ke(s,n){var e={model:n,containsPoint:$(Ve,n),dispatchAction:$(He,s),dataZoomInfoMap:null,controller:null},t=e.controller=new ze(s.getZr());return R(["pan","zoom","scrollMove"],function(o){t.on(o,function(r){var a=[];e.dataZoomInfoMap.each(function(i){if(r.isAvailableBehavior(i.model.option)){var l=(i.getRange||{})[o],h=l&&l(i.dzReferCoordSysInfo,e.model.mainType,e.controller,r);!i.model.get("disabled",!0)&&h&&a.push({dataZoomId:i.model.id,start:h[0],end:h[1]})}}),a.length&&e.dispatchAction(a)})}),e}function He(s,n){s.isDisposed()||s.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:n})}function Ve(s,n,e,t){return s.coordinateSystem.containPoint([e,t])}function Pe(s){var n,e="type_",t={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return s.each(function(r){var a=r.model,i=a.get("disabled",!0)?!1:a.get("zoomLock",!0)?"move":!0;t[e+i]>t[e+n]&&(n=i),o=o&&a.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o}}}function Ye(s){s.registerProcessor(s.PRIORITY.PROCESSOR.FILTER,function(n,e){var t=F(e),o=t.coordSysRecordMap||(t.coordSysRecordMap=K());o.each(function(r){r.dataZoomInfoMap=null}),n.eachComponent({mainType:"dataZoom",subType:"inside"},function(r){var a=se(r);R(a.infoList,function(i){var l=i.model.uid,h=o.get(l)||o.set(l,ke(e,i.model)),d=h.dataZoomInfoMap||(h.dataZoomInfoMap=K());d.set(r.uid,{dzReferCoordSysInfo:i,model:r,getRange:null})})}),o.each(function(r){var a=r.controller,i,l=r.dataZoomInfoMap;if(l){var h=l.keys()[0];h!=null&&(i=l.get(h))}if(!i){pe(o,r);return}var d=Pe(l);a.enable(d.controlType,d.opt),a.setPointerChecker(r.containsPoint),le(r,"dispatchAction",i.model.get("throttle",!0),"fixRate")})})}var Ge=function(s){C(n,s);function n(){var e=s!==null&&s.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return n.prototype.render=function(e,t,o){if(s.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),Be(o,e,{pan:p(Y.pan,this),zoom:p(Y.zoom,this),scrollMove:p(Y.scrollMove,this)})},n.prototype.dispose=function(){this._clear(),s.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){Oe(this.api,this.dataZoomModel),this.range=null},n.type="dataZoom.inside",n}(he),Y={zoom:function(s,n,e,t){var o=this.range,r=o.slice(),a=s.axisModels[0];if(a){var i=G[n](null,[t.originX,t.originY],a,e,s),l=(i.signal>0?i.pixelStart+i.pixelLength-i.pixel:i.pixel-i.pixelStart)/i.pixelLength*(r[1]-r[0])+r[0],h=Math.max(1/t.scale,0);r[0]=(r[0]-l)*h+l,r[1]=(r[1]-l)*h+l;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(X(0,r,[0,100],0,d.minSpan,d.maxSpan),this.range=r,o[0]!==r[0]||o[1]!==r[1])return r}},pan:te(function(s,n,e,t,o,r){var a=G[t]([r.oldX,r.oldY],[r.newX,r.newY],n,o,e);return a.signal*(s[1]-s[0])*a.pixel/a.pixelLength}),scrollMove:te(function(s,n,e,t,o,r){var a=G[t]([0,0],[r.scrollDelta,r.scrollDelta],n,o,e);return a.signal*(s[1]-s[0])*r.scrollDelta})};function te(s){return function(n,e,t,o){var r=this.range,a=r.slice(),i=n.axisModels[0];if(i){var l=s(a,i,n,e,t,o);if(X(l,a,[0,100],"all"),this.range=a,r[0]!==a[0]||r[1]!==a[1])return a}}}var G={grid:function(s,n,e,t,o){var r=e.axis,a={},i=o.model.coordinateSystem.getRect();return s=s||[0,0],r.dim==="x"?(a.pixel=n[0]-s[0],a.pixelLength=i.width,a.pixelStart=i.x,a.signal=r.inverse?1:-1):(a.pixel=n[1]-s[1],a.pixelLength=i.height,a.pixelStart=i.y,a.signal=r.inverse?-1:1),a},polar:function(s,n,e,t,o){var r=e.axis,a={},i=o.model.coordinateSystem,l=i.getRadiusAxis().getExtent(),h=i.getAngleAxis().getExtent();return s=s?i.pointToCoord(s):[0,0],n=i.pointToCoord(n),e.mainType==="radiusAxis"?(a.pixel=n[0]-s[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=r.inverse?1:-1):(a.pixel=n[1]-s[1],a.pixelLength=h[1]-h[0],a.pixelStart=h[0],a.signal=r.inverse?-1:1),a},singleAxis:function(s,n,e,t,o){var r=e.axis,a=o.model.coordinateSystem.getRect(),i={};return s=s||[0,0],r.orient==="horizontal"?(i.pixel=n[0]-s[0],i.pixelLength=a.width,i.pixelStart=a.x,i.signal=r.inverse?1:-1):(i.pixel=n[1]-s[1],i.pixelLength=a.height,i.pixelStart=a.y,i.signal=r.inverse?-1:1),i}};function We(s){de(s),s.registerComponentModel(Te),s.registerComponentView(Ge),Ye(s)}var Xe=function(s){C(n,s);function n(){var e=s!==null&&s.apply(this,arguments)||this;return e.type=n.type,e}return n.type="dataZoom.slider",n.layoutMode="box",n.defaultOption=ne(V.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),n}(V),E=O,ae=7,Fe=1,W=30,Ne=7,L="horizontal",re="vertical",Ue=5,Ke=["line","bar","candlestick","scatter"],$e={easing:"cubicOut",duration:100,delay:0},Je=function(s){C(n,s);function n(){var e=s!==null&&s.apply(this,arguments)||this;return e.type=n.type,e._displayables={},e}return n.prototype.init=function(e,t){this.api=t,this._onBrush=p(this._onBrush,this),this._onBrushEnd=p(this._onBrushEnd,this)},n.prototype.render=function(e,t,o,r){if(s.prototype.render.apply(this,arguments),le(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!r||r.type!=="dataZoom"||r.from!==this.uid)&&this._buildView(),this._updateView()},n.prototype.dispose=function(){this._clear(),s.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){ye(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},n.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var t=this._displayables.sliderGroup=new J;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},n.prototype._resetLocation=function(){var e=this.dataZoomModel,t=this.api,o=e.get("brushSelect"),r=o?Ne:0,a=this._findCoordRect(),i={width:t.getWidth(),height:t.getHeight()},l=this._orient===L?{right:i.width-a.x-a.width,top:i.height-W-ae-r,width:a.width,height:W}:{right:ae,top:a.y,width:W,height:a.height},h=_e(e.option);R(["right","top","width","height"],function(u){h[u]==="ph"&&(h[u]=l[u])});var d=Me(h,i);this._location={x:d.x,y:d.y},this._size=[d.width,d.height],this._orient===re&&this._size.reverse()},n.prototype._positionGroup=function(){var e=this.group,t=this._location,o=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),a=r&&r.get("inverse"),i=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;i.attr(o===L&&!a?{scaleY:l?1:-1,scaleX:1}:o===L&&a?{scaleY:l?1:-1,scaleX:-1}:o===re&&!a?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var h=e.getBoundingRect([i]);e.x=t.x-h.x,e.y=t.y-h.y,e.markRedraw()},n.prototype._getViewExtent=function(){return[0,this._size[0]]},n.prototype._renderBackground=function(){var e=this.dataZoomModel,t=this._size,o=this._displayables.sliderGroup,r=e.get("brushSelect");o.add(new E({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var a=new E({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:p(this._onClickPanel,this)}),i=this.api.getZr();r?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",i.on("mousemove",this._onBrush),i.on("mouseup",this._onBrushEnd)):(i.off("mousemove",this._onBrush),i.off("mouseup",this._onBrushEnd)),o.add(a)},n.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var t=this._size,o=this._shadowSize||[],r=e.series,a=r.getRawData(),i=r.getShadowDim&&r.getShadowDim(),l=i&&a.getDimensionInfo(i)?r.getShadowDim():e.otherDim;if(l==null)return;var h=this._shadowPolygonPts,d=this._shadowPolylinePts;if(a!==this._shadowData||l!==this._shadowDim||t[0]!==o[0]||t[1]!==o[1]){var u=a.getDataExtent(l),c=(u[1]-u[0])*.3;u=[u[0]-c,u[1]+c];var g=[0,t[1]],f=[0,t[0]],v=[[t[0],0],[0,0]],m=[],S=f[1]/(a.count()-1),y=0,D=Math.round(a.count()/t[0]),M;a.each([l],function(b,I){if(D>0&&I%D){y+=S;return}var x=b==null||isNaN(b)||b==="",T=x?0:w(b,u,g,!0);x&&!M&&I?(v.push([v[v.length-1][0],0]),m.push([m[m.length-1][0],0])):!x&&M&&(v.push([y,0]),m.push([y,0])),v.push([y,T]),m.push([y,T]),y+=S,M=x}),h=this._shadowPolygonPts=v,d=this._shadowPolylinePts=m}this._shadowData=a,this._shadowDim=l,this._shadowSize=[t[0],t[1]];var _=this.dataZoomModel;function z(b){var I=_.getModel(b?"selectedDataBackground":"dataBackground"),x=new J,T=new Le({shape:{points:h},segmentIgnoreThreshold:1,style:I.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),ve=new Ce({shape:{points:d},segmentIgnoreThreshold:1,style:I.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return x.add(T),x.add(ve),x}for(var A=0;A<3;A++){var Z=z(A===1);this._displayables.sliderGroup.add(Z),this._displayables.dataShadowSegs.push(Z)}},n.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(t!==!1){var o,r=this.ecModel;return e.eachTargetAxis(function(a,i){var l=e.getAxisProxy(a,i).getTargetSeriesModels();R(l,function(h){if(!o&&!(t!==!0&&be(Ke,h.get("type"))<0)){var d=r.getComponent(Se(a),i).axis,u=Qe(a),c,g=h.coordinateSystem;u!=null&&g.getOtherAxis&&(c=g.getOtherAxis(d).inverse),u=h.getData().mapDimension(u),o={thisAxis:d,series:h,thisDim:a,otherDim:u,otherAxisInverse:c}}},this)},this),o}},n.prototype._renderHandle=function(){var e=this.group,t=this._displayables,o=t.handles=[null,null],r=t.handleLabels=[null,null],a=this._displayables.sliderGroup,i=this._size,l=this.dataZoomModel,h=this.api,d=l.get("borderRadius")||0,u=l.get("brushSelect"),c=t.filler=new E({silent:u,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});a.add(c),a.add(new E({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:i[0],height:i[1],r:d},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:Fe,fill:"rgba(0,0,0,0)"}})),R([0,1],function(D){var M=l.get("handleIcon");!we[M]&&M.indexOf("path://")<0&&M.indexOf("image://")<0&&(M="path://"+M);var _=Q(M,-1,0,2,2,null,!0);_.attr({cursor:oe(this._orient),draggable:!0,drift:p(this._onDragMove,this,D),ondragend:p(this._onDragEnd,this),onmouseover:p(this._showDataInfo,this,!0),onmouseout:p(this._showDataInfo,this,!1),z2:5});var z=_.getBoundingRect(),A=l.get("handleSize");this._handleHeight=j(A,this._size[1]),this._handleWidth=z.width/z.height*this._handleHeight,_.setStyle(l.getModel("handleStyle").getItemStyle()),_.style.strokeNoScale=!0,_.rectHover=!0,_.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),xe(_);var Z=l.get("handleColor");Z!=null&&(_.style.fill=Z),a.add(o[D]=_);var b=l.getModel("textStyle");e.add(r[D]=new De({silent:!0,invisible:!0,style:Re(b,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:b.getTextColor(),font:b.getFont()}),z2:10}))},this);var g=c;if(u){var f=j(l.get("moveHandleSize"),i[1]),v=t.moveHandle=new O({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:i[1]-.5,height:f}}),m=f*.8,S=t.moveHandleIcon=Q(l.get("moveHandleIcon"),-m/2,-m/2,m,m,"#fff",!0);S.silent=!0,S.y=i[1]+f/2-.5,v.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(i[1]/2,Math.max(f,10));g=t.moveZone=new O({invisible:!0,shape:{y:i[1]-y,height:f+y}}),g.on("mouseover",function(){h.enterEmphasis(v)}).on("mouseout",function(){h.leaveEmphasis(v)}),a.add(v),a.add(S),a.add(g)}g.attr({draggable:!0,cursor:oe(this._orient),drift:p(this._onDragMove,this,"all"),ondragstart:p(this._showDataInfo,this,!0),ondragend:p(this._onDragEnd,this),onmouseover:p(this._showDataInfo,this,!0),onmouseout:p(this._showDataInfo,this,!1)})},n.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[w(e[0],[0,100],t,!0),w(e[1],[0,100],t,!0)]},n.prototype._updateInterval=function(e,t){var o=this.dataZoomModel,r=this._handleEnds,a=this._getViewExtent(),i=o.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];X(t,r,a,o.get("zoomLock")?"all":e,i.minSpan!=null?w(i.minSpan,l,a,!0):null,i.maxSpan!=null?w(i.maxSpan,l,a,!0):null);var h=this._range,d=this._range=B([w(r[0],a,l,!0),w(r[1],a,l,!0)]);return!h||h[0]!==d[0]||h[1]!==d[1]},n.prototype._updateView=function(e){var t=this._displayables,o=this._handleEnds,r=B(o.slice()),a=this._size;R([0,1],function(g){var f=t.handles[g],v=this._handleHeight;f.attr({scaleX:v/2,scaleY:v/2,x:o[g]+(g?-1:1),y:a[1]/2-v/2})},this),t.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:a[1]});var i={x:r[0],width:r[1]-r[0]};t.moveHandle&&(t.moveHandle.setShape(i),t.moveZone.setShape(i),t.moveZone.getBoundingRect(),t.moveHandleIcon&&t.moveHandleIcon.attr("x",i.x+i.width/2));for(var l=t.dataShadowSegs,h=[0,r[0],r[1],a[0]],d=0;d<l.length;d++){var u=l[d],c=u.getClipPath();c||(c=new O,u.setClipPath(c)),c.setShape({x:h[d],y:0,width:h[d+1]-h[d],height:a[1]})}this._updateDataInfo(e)},n.prototype._updateDataInfo=function(e){var t=this.dataZoomModel,o=this._displayables,r=o.handleLabels,a=this._orient,i=["",""];if(t.get("showDetail")){var l=t.findRepresentativeAxisProxy();if(l){var h=l.getAxisModel().axis,d=this._range,u=e?l.calculateDataWindow({start:d[0],end:d[1]}).valueWindow:l.getDataValueWindow();i=[this._formatLabel(u[0],h),this._formatLabel(u[1],h)]}}var c=B(this._handleEnds.slice());g.call(this,0),g.call(this,1);function g(f){var v=Ae(o.handles[f].parent,this.group),m=Ze(f===0?"right":"left",v),S=this._handleWidth/2+Ue,y=q([c[f]+(f===0?-S:S),this._size[1]/2],v);r[f].setStyle({x:y[0],y:y[1],verticalAlign:a===L?"middle":m,align:a===L?m:"center",text:i[f]})}},n.prototype._formatLabel=function(e,t){var o=this.dataZoomModel,r=o.get("labelFormatter"),a=o.get("labelPrecision");(a==null||a==="auto")&&(a=t.getPixelPrecision());var i=e==null||isNaN(e)?"":t.type==="category"||t.type==="time"?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(a,20));return Ie(r)?r(e,i):ie(r)?r.replace("{value}",i):i},n.prototype._showDataInfo=function(e){e=this._dragging||e;var t=this._displayables,o=t.handleLabels;o[0].attr("invisible",!e),o[1].attr("invisible",!e),t.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](t.moveHandle,1)},n.prototype._onDragMove=function(e,t,o,r){this._dragging=!0,H(r.event);var a=this._displayables.sliderGroup.getLocalTransform(),i=q([t,o],a,!0),l=this._updateInterval(e,i[0]),h=this.dataZoomModel.get("realtime");this._updateView(!h),l&&h&&this._dispatchZoomAction(!0)},n.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},n.prototype._onClickPanel=function(e){var t=this._size,o=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(o[0]<0||o[0]>t[0]||o[1]<0||o[1]>t[1])){var r=this._handleEnds,a=(r[0]+r[1])/2,i=this._updateInterval("all",o[0]-a);this._updateView(),i&&this._dispatchZoomAction(!1)}},n.prototype._onBrushStart=function(e){var t=e.offsetX,o=e.offsetY;this._brushStart=new Ee(t,o),this._brushing=!0,this._brushStartTime=+new Date},n.prototype._onBrushEnd=function(e){if(this._brushing){var t=this._displayables.brushRect;if(this._brushing=!1,!!t){t.attr("ignore",!0);var o=t.shape,r=+new Date;if(!(r-this._brushStartTime<200&&Math.abs(o.width)<5)){var a=this._getViewExtent(),i=[0,100];this._range=B([w(o.x,a,i,!0),w(o.x+o.width,a,i,!0)]),this._handleEnds=[o.x,o.x+o.width],this._updateView(),this._dispatchZoomAction(!1)}}}},n.prototype._onBrush=function(e){this._brushing&&(H(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},n.prototype._updateBrushRect=function(e,t){var o=this._displayables,r=this.dataZoomModel,a=o.brushRect;a||(a=o.brushRect=new E({silent:!0,style:r.getModel("brushStyle").getItemStyle()}),o.sliderGroup.add(a)),a.attr("ignore",!1);var i=this._brushStart,l=this._displayables.sliderGroup,h=l.transformCoordToLocal(e,t),d=l.transformCoordToLocal(i.x,i.y),u=this._size;h[0]=Math.max(Math.min(u[0],h[0]),0),a.setShape({x:d[0],y:0,width:h[0]-d[0],height:u[1]})},n.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?$e:null,start:t[0],end:t[1]})},n.prototype._findCoordRect=function(){var e,t=se(this.dataZoomModel).infoList;if(!e&&t.length){var o=t[0].model.coordinateSystem;e=o.getRect&&o.getRect()}if(!e){var r=this.api.getWidth(),a=this.api.getHeight();e={x:r*.2,y:a*.2,width:r*.6,height:a*.6}}return e},n.type="dataZoom.slider",n}(he);function Qe(s){var n={x:"y",y:"x",radius:"angle",angle:"radius"};return n[s]}function oe(s){return s==="vertical"?"ns-resize":"ew-resize"}function je(s){s.registerComponentModel(Xe),s.registerComponentView(Je),de(s)}function et(s){ee(We),ee(je)}export{ze as R,We as a,je as b,et as i};
