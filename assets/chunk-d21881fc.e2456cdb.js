(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d21881fc"],{"09d4":function(e,t,a){"use strict";a.r(t);a("99af"),a("4de4"),a("7db0"),a("c740"),a("4160"),a("caad"),a("c975"),a("d81d"),a("a434"),a("b0c0"),a("a9e3"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("2532"),a("3ca3"),a("466d"),a("5319"),a("2ca0"),a("498a"),a("159b"),a("ddb0"),a("2b3d");var r=a("2909"),o=(a("96cf"),a("1da1")),n=a("5530"),i=a("bc3a"),l=a.n(i),s=a("c1df"),c=a.n(s),d=a("2f62"),m=a("e199"),h={name:"collectchannel",i18n:a("a87f"),data:function(){var e=this;return{isBaudExit:!1,activeKey:["1"],labelCol:{span:1},wrapperCol:{span:23},labelColEn:{span:2},wrapperColEn:{span:22},sortConfig:{defaultSort:{field:"chl_id",order:"asc"}},dataForm:{chlType:void 0,protocol:[],type:0,intime:"",outtime:"",wakeCycle:""},typeList:[{name:this.$t("enable"),value:0},{name:this.$t("disabled"),value:1}],protocolList:[],chlTypeList:[{name:this.$t("acquisitionChannel"),value:0},{name:this.$t("forwardingChannel"),value:1},{name:this.$t("internalPassage"),value:2}],roleList:[{label:this.$t("activeConnection"),value:0},{label:this.$t("waitingForAccess"),value:1}],stopbitList:[{label:1,value:1},{label:2,value:2}],data_bitList:[{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8}],checkwayList:[{name:this.$t("none"),value:0},{name:this.$t("oddParity"),value:1},{name:this.$t("evenParity"),value:2}],baudList:[{name:"300",value:300},{name:"600",value:600},{name:"1200",value:1200},{name:"2400",value:2400},{name:"4800",value:4800},{name:"5000",value:5e3},{name:"9600",value:9600},{name:"10000",value:1e4},{name:"19200",value:19200},{name:"20000",value:2e4},{name:"38400",value:38400},{name:"40000",value:4e4},{name:"50000",value:5e4},{name:"57600",value:57600},{name:"80000",value:8e4},{name:"100000",value:1e5},{name:"115200",value:115200},{name:"125000",value:125e3},{name:"187500",value:187500},{name:"200000",value:2e5},{name:"250000",value:25e4},{name:"400000",value:4e5},{name:"500000",value:5e5},{name:"666000",value:666e3},{name:"800000",value:8e5},{name:"1000000",value:1e6}],chlValidList:[{name:this.$t("yes"),value:0},{name:this.$t("no"),value:2}],dataListLoading:!1,dataList:[],protocolSettingChlId:null,protocolSettingVisible:!1,protocolSettingForm:{},protocolSettingFormLoading:!1,protocolSettingDescList:[],fdataflagList:[{label:this.$t("hexadecimal"),value:16},{label:this.$t("decimal"),value:10},{label:this.$t("string"),value:0}],newProjectWizardVisible:!1,newProjectWizardLoading:!1,newProjectWizardCurent:0,labelColNewProject:{span:4},wrapperColNewProject:{span:20},labelColNewProjectEn:{span:6},wrapperColNewProjectEn:{span:18},templateList:[],transportList:[],newProjectWizardConfigChecked:!0,newProjectWizardConfigList:[],newProjectWizardConfigForm:{type:1,templateId:void 0,checked:!1,devType:1,comList:[],duration:"30",transport:[],effectiveImmediately:!0},selectTemplateVisible:!1,addOrUpdateVisible:!1,labelColAddOrUpdate:{span:4},wrapperColAddOrUpdate:{span:20},labelColAddOrUpdateEn:{span:8},wrapperColAddOrUpdateEn:{span:16},comList:[],addOrUpdateForm:{chl_id:null,chl_name:null,chl_addr:null,chl_desc:null,protocol_type:0,chl_colt_freq:null,chl_wait_time:null,chl_main_param:{role:"",ip_addr:""}},rules:{chl_addr:[{required:!0,message:this.$t("channelAddressCannotBeEmpty"),trigger:"change"},{pattern:/^[1-9]\d*/,message:this.$t("pleaseEnterIntNumber")}],chl_colt_freq:[{required:!0,message:this.$t("pleaseEnterInteractionFrequency"),trigger:"change"}],chl_wait_time:[{required:!0,message:this.$t("pleaseEnterIntervalBetweenEachFrame"),trigger:"change"}],"chl_main_param.ip_addr":[{required:!0,message:this.$t("pleaseEnterIPDomainName"),trigger:"change"},{validator:function(t,a,r){if(!new RegExp("^((https|http|ftp|rtsp|mms)?://)?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].[a-z]{2,6})(:[0-9]{1,4})?((/?)|(/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+/?)$").test(a))return r(new Error(e.$t("ipDomainNameFormatError")));r()}}],"chl_main_param.port":[{required:!0,message:this.$t("pleaseEnterPortNumber"),trigger:"change"},{pattern:/^[0-9]*$/,message:this.$t("enterCorrectPort")}],"chl_main_param.timeout":[{required:!0,message:this.$t("pleaseEnterTimeout"),trigger:"change"}]},openFileDialogOnClickStatus:!1,newOtherProjectFileList:[],newOtherProjectVisible:!1,newOtherProjectLoading:!1,newOtherProjectWizardCurent:0,labelColNewOtherProject:{span:4},wrapperColNewOtherProject:{span:20},labelColNewOtherProjectEn:{span:6},wrapperColNewOtherProjectEn:{span:18},newOtherProjectConfigComList:[],channelList:[],downLoadTemplateList:[],selectOtherProjectConfigFormComList:[{label:"COM1",value:"COM1"},{label:"COM2",value:"COM2"},{label:"COM3",value:"COM3"},{label:"COM4",value:"COM4"},{label:"COM5",value:"COM5"}],selectOtherProjectConfigVisible:!1,selectOtherProjectConfigForm:{index:0,role:0,ip_addr:"",port:null,com_name:void 0,baud:void 0,data_bit:void 0,stop_bit:void 0,check_bit:void 0,timeout:1e3,isIp:!1},newOtherProjectConfigForm:{step:1,dataList:[],devList:[],effectiveImmediately:!0},channelTypeList:[{name:"采集通道",value:0},{name:"转发通道",value:1}],channelAndDevRowIndex:null,channelAndDevVisible:!1,checkedChannelAndDevKeys:[],checkedChannelAndDevNodes:[],channelAndDevTreeData:[],channelAndDevArr:[]}},computed:Object(n.a)(Object(n.a)({},Object(d.e)("account",["user"])),Object(d.e)("setting",["lang","theme"])),methods:{moment:c.a,filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},handleInTimeChange:function(e,t){this.dataForm.intime=t,console.log(this.dataForm.intime)},handleOutTimeChange:function(e,t){this.dataForm.outtime=t,console.log(this.dataForm.outtime)},getProtocolSuperGroupInfo:function(){var e=this;e.protocolList=[],Object(m.A)({}).then((function(t){var a=t.data;if(!a)return!1;0!=a.code&&(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)),a.data.forEach((function(t){if(-1==t.up_group_id){var a={value:t.group_id,label:"CN"==e.lang?t.group_name:t.group_name_eng||t.group_name,up_group_id:t.up_group_id,isLeaf:!1,children:[]};e.protocolList.push(a)}else e.protocolList.forEach((function(a){a.value==t.up_group_id&&a.children.push({value:t.group_id,label:"CN"==e.lang?t.group_name:t.group_name_eng||t.group_name,up_group_id:t.up_group_id,isLeaf:!1})}))}))}))},loadData:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(o=e[e.length-1]).loading=!0,t.getProtocolChildrenByGroupIdInfo(o.value,(function(e){o.children=e,o.loading=!1,t.protocolList=Object(r.a)(t.protocolList)}));case 3:case"end":return a.stop()}}),a)})))()},getProtocolChildrenByGroupIdInfo:function(e,t){var a=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o,n,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=a,n=[],i={pro_type:0},Object(m.B)(i).then((function(a){var r=a.data;return!!r&&(0!=r.code?(o.$message.config({maxCount:1}),o.$message.destroy(),o.$message.error(r.msg)):(r.data.forEach((function(t){t.group_id==e&&n.push({value:t.guid,label:"CN"==o.lang?t.name:t.name_eng||t.name||t.lib_name,up_group_id:e})})),void t(n)))})).catch((function(e){console.log(e),t([])}));case 2:case"end":return r.stop()}}),r)})))()},getChannelDataList:function(){var e=this,t={};null!=e.dataForm.chlType&&(t.chl_type=e.dataForm.chlType),e.dataListLoading=!0,Object(m.l)(t).then((function(t){var a=t.data;if(!a)return e.dataListLoading=!1,!1;if(0!=a.code)return e.dataListLoading=!1,e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg);for(var r=0;r<a.data.length;r++)if(a.data[r].chl_main_param&&JSON.parse(a.data[r].chl_main_param).baud){e.isBaudExit=!0;break}e.dataList=a.data,e.dataListLoading=!1})).catch((function(t){return console.log(t),e.dataListLoading=!1,!1}))},formatterChlMaster:function(e){var t=e.row;if(0===t.protocol_type){if(t.chl_main_param){var a={ip_addr:JSON.parse(t.chl_main_param).ip_addr,port:JSON.parse(t.chl_main_param).port};return JSON.stringify(a)}return""}if(t.chl_main_param){var r={COM_NAME:JSON.parse(t.chl_main_param).com_name};return JSON.stringify(r)}return""},handleChannelMonitorChange:function(e){var t=this.$router.resolve({path:"/chlwatch?chl_id="+e.chl_id});window.open(t.href,"_blank")},handleDeviceManageChange:function(e){this.$router.push({path:"/protect/devicemanage/devicelist",query:{chl_id:e.chl_id}})},handleAddOrUpdateChange:function(e){if(this.addOrUpdateForm.chl_id="",this.addOrUpdateForm.chl_name="",this.addOrUpdateForm.chl_addr="",this.addOrUpdateForm.chl_desc="",this.addOrUpdateForm.protocol_type=null,this.addOrUpdateForm.chl_main_param=null,this.addOrUpdateForm.chl_colt_freq=null,this.addOrUpdateForm.chl_wait_time=null,this.comList=[],e){this.addOrUpdateForm.chl_id=e.chl_id,this.addOrUpdateForm.chl_name=e.chl_name,this.addOrUpdateForm.chl_addr=e.chl_addr,this.addOrUpdateForm.chl_desc=e.chl_desc,this.addOrUpdateForm.protocol_type=e.protocol_type,this.addOrUpdateForm.chl_main_param=e.chl_main_param?JSON.parse(e.chl_main_param):{},this.addOrUpdateForm.chl_colt_freq=e.chl_colt_freq,this.addOrUpdateForm.chl_wait_time=e.chl_wait_time;for(var t=0;t<e.max_com;t++)this.comList.push({label:"COM"+(t+1),value:"COM"+(t+1)})}this.addOrUpdateVisible=!0},handleDeleteChange:function(e){var t=this;if(console.log(e),2==this.dataList.filter((function(e){return 0==e.chl_type})).length)return this.$message.warning(this.$t("保留至少一个采集通道"));var a={},r=this;e.chl_name.includes("COM")?0==e.chl_type?a={channel:[{com:e.chl_name,dev:[],oth:0}]}:1==e.chl_type&&(a={trans:[{name:e.chl_name}],oth:0}):0==e.chl_type&&(a={oth:1,channel:[{name:e.chl_name,dev:[]}]}),Object(m.g)(a).then((function(e){return e.data.data.result?(t.$message.config({maxCount:1}),t.$message.destroy(),t.$message.success(r.$t("success")),t.getChannelDataList()):(r.$message.config({maxCount:1}),r.$message.destroy(),r.$message.error(r.$t("opertionError")))})).catch((function(e){console.log(e)}))},handleAddOrUpdateVisibleCloseChange:function(){this.addOrUpdateForm.chl_id="",this.addOrUpdateForm.chl_name="",this.addOrUpdateForm.chl_addr="",this.addOrUpdateForm.chl_desc="",this.addOrUpdateForm.protocol_type=null,this.addOrUpdateForm.chl_main_param={},this.addOrUpdateForm.chl_colt_freq=null,this.addOrUpdateForm.chl_wait_time=null,this.addOrUpdateVisible=!1},handleAddOrUpdateVisibleChange:function(){var e=this,t={chl_id:Number(e.addOrUpdateForm.chl_id),chl_addr:Number(e.addOrUpdateForm.chl_addr),chl_desc:e.addOrUpdateForm.chl_desc,chl_main_param:"",chl_colt_freq:Number(e.addOrUpdateForm.chl_colt_freq),chl_wait_time:Number(e.addOrUpdateForm.chl_wait_time)};0==e.addOrUpdateForm.protocol_type?t.chl_main_param=JSON.stringify({role:Number(e.addOrUpdateForm.chl_main_param.role),reserve0:e.addOrUpdateForm.chl_main_param.reserve0,ip_addr:e.addOrUpdateForm.chl_main_param.ip_addr,reserve1:e.addOrUpdateForm.chl_main_param.reserve1,port:Number(e.addOrUpdateForm.chl_main_param.port),reserve2:e.addOrUpdateForm.chl_main_param.reserve2,timeout:Number(e.addOrUpdateForm.chl_main_param.timeout),reserve3:e.addOrUpdateForm.chl_main_param.reserve3}):t.chl_main_param=JSON.stringify({com_name:e.addOrUpdateForm.chl_main_param.com_name,baud:e.addOrUpdateForm.chl_main_param.baud,data_bit:e.addOrUpdateForm.chl_main_param.data_bit,stop_bit:e.addOrUpdateForm.chl_main_param.stop_bit,check_bit:e.addOrUpdateForm.chl_main_param.check_bit,reserve0:e.addOrUpdateForm.chl_main_param.reserve0,timeout:Number(e.addOrUpdateForm.chl_main_param.timeout),reserve1:e.addOrUpdateForm.chl_main_param.reserve1}),e.$refs.addOrUpdateForm.validate((function(a){if(!a)return!1;Object(m.V)(t).then((function(t){var a=t.data;return 0!=a.code?(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)):a.data.result?(e.addOrUpdateForm.chl_id="",e.addOrUpdateForm.chl_name="",e.addOrUpdateForm.chl_addr="",e.addOrUpdateForm.chl_desc="",e.addOrUpdateForm.protocol_type=null,e.addOrUpdateForm.chl_main_param={},e.addOrUpdateVisible=!1,e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.success("success"),e.getChannelDataList()):(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg))})).catch((function(e){return console.log(e),!1}))}))},handleProtocolSetAddrByChlId:function(e){this.protocolSettingForm=e,this.protocolSettingChlId=e.chl_id,this.getProtocolDefaultattrDataList()},handleProtocolSettingClose:function(){this.protocolSettingForm={},this.protocolSettingFormLoading=!1,this.protocolSettingDescList=[],this.protocolSettingVisible=!1},handleResetSetting:function(){this.getProtocolDefaultattrDataList()},getProtocolDefaultattrDataList:function(){var e=this,t={chl_id:e.protocolSettingChlId,uuid:e.protocolSettingForm.chl_protocol_guid};e.protocolSettingFormLoading=!0,Object(m.C)(t).then((function(t){var a=t.data;return a?0!=a.code?(e.protocolSettingFormLoading=!1,e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)):(e.protocolSettingDescList=a.data,e.protocolSettingFormLoading=!1,void(e.protocolSettingVisible=!0)):(e.protocolSettingFormLoading=!1,!1)})).catch((function(t){return console.log(t),e.protocolSettingFormLoading=!1,!1}))},handleProtocolSettingConfirm:function(){var e=this,t={chl_id:e.protocolSettingChlId,attr:[]};e.protocolSettingFormLoading=!0,e.protocolSettingDescList.forEach((function(e){var a={f_no:e.f_no,f_dataflag:e.f_dataflag,f_value:e.f_value};t.attr.push(a)})),Object(m.eb)(t).then((function(a){var r=a.data;return r?0!=r.code?(e.protocolSettingFormLoading=!1,e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(r.msg)):void(t.attr.length==r.data.affect&&(e.protocolSettingFormLoading=!1,e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.success(r.msg),e.protocolSettingForm={},e.protocolSettingFormLoading=!1,e.protocolSettingDescList=[],e.protocolSettingVisible=!1)):(e.protocolSettingFormLoading=!1,!1)})).catch((function(t){return console.log(t),e.protocolSettingFormLoading=!1,!1}))},handleSavePrjGuideChange:function(){var e=this,t={language:"US"==e.lang?2:1};e.templateList=[],e.newProjectWizardConfigForm.comList=[],Object(m.y)(t).then((function(t){var a=t.data;if(!a)return!1;if(0!=a.code)return e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg);if(e.transportList=a.data.trans,e.transportList.length>0&&e.transportList.forEach((function(t){e.newProjectWizardConfigForm.transport.push(t.id)})),a.data.template){for(var r in a.data.template)if(1==e.newProjectWizardConfigForm.type){if(1==r){var o=a.data.template[r].map((function(e){var t=e.match(/\d+/);return{name:e,number:t?parseInt(t[0]):0}})).sort((function(e,t){return e.number-t.number})).map((function(e){return e.name}));e.templateList=e.templateList.concat(o)}}else if(1!=r){var n=a.data.template[r].map((function(e){var t=e.match(/\d+/);return{name:e,number:t?parseInt(t[0]):0}})).sort((function(e,t){return e.number-t.number})).map((function(e){return e.name}));e.templateList=e.templateList.concat(n)}if(e.templateList.length>0&&!e.newProjectWizardConfigForm.templateId){for(var i=!1,l=0;l<e.templateList.length;l++)if(e.templateList[l].includes("250kW")){i=!0,e.newProjectWizardConfigForm.templateId=e.templateList[l];break}i||(e.newProjectWizardConfigForm.templateId=e.templateList[0])}}else e.templateList=[];if(a.data.com.length>0){var s=1;a.data.com.forEach((function(t,a){e.newProjectWizardConfigForm.comList.push({name:t,checked:0==a,count:0==a?8:1,dataList:function(){var t=[];if(0==a){for(var r=0;r<8;r++)t.push({value:"",checked:!0,addr:e.newProjectWizardConfigChecked?s++:1,templateId:e.newProjectWizardConfigForm.templateId||void 0});return t}return[{value:"",checked:!1,addr:e.newProjectWizardConfigChecked?s++:1,templateId:e.newProjectWizardConfigForm.templateId||void 0}]}()})}))}else e.newProjectWizardConfigForm.comList=[];e.newProjectWizardCurent=0,e.newProjectWizardVisible=!0}))},handleNewProjectWizardCancel:function(){this.newProjectWizardVisible=!1},handleNextChange:function(){this.newProjectWizardCurent=1},handleAddDeviceByComChange:function(e,t){if(this.newProjectWizardConfigForm.comList[e].dataList.length<33){this.newProjectWizardConfigForm.comList[e].dataList[t].checked=!0,this.newProjectWizardConfigForm.comList[e].dataList.push({addr:0==this.newProjectWizardConfigForm.comList[e].dataList.length?1:this.newProjectWizardConfigForm.comList[e].dataList[this.newProjectWizardConfigForm.comList[e].dataList.length-1].addr+1,templateId:this.newProjectWizardConfigForm.templateId||void 0,value:"",checked:!0});var a=this.newProjectWizardConfigForm.comList[e].dataList.filter((function(e){return e.checked}));if(this.newProjectWizardConfigForm.comList[e].dataList.length==a.length?this.$set(this.newProjectWizardConfigForm.comList[e],"checked",!0):this.$set(this.newProjectWizardConfigForm.comList[e],"checked",!1),this.newProjectWizardConfigChecked){var r=this.newProjectWizardConfigForm.comList[0].dataList[0].addr;this.newProjectWizardConfigForm.comList.forEach((function(e,t){e.dataList.forEach((function(e,t){e.addr=r,r++}))}))}}},handleDeleteDeviceByComChange:function(e,t){if(1!=this.newProjectWizardConfigForm.comList[e].dataList.length&&this.newProjectWizardConfigForm.comList[e].dataList.splice(t,1),this.newProjectWizardConfigChecked){var a=this.newProjectWizardConfigForm.comList[0].dataList[0].addr;this.newProjectWizardConfigForm.comList.forEach((function(e,t){e.dataList.forEach((function(e,t){e.addr=a,a++}))}))}},handleCheckedAllChange:function(e){var t=this;e.target.checked?t.newProjectWizardConfigForm.comList.forEach((function(e){t.$set(e,"checked",!0),e.dataList.length>0&&e.dataList.forEach((function(e){t.$set(e,"checked",!0)}))})):t.newProjectWizardConfigForm.comList.forEach((function(e){t.$set(e,"checked",!1),e.dataList.length>0&&e.dataList.forEach((function(e){t.$set(e,"checked",!1)}))}))},handleDeviceCheckAllChange:function(e,t){var a,r=this;e.target.checked?r.newProjectWizardConfigForm.comList[t].dataList.forEach((function(e){r.$set(e,"checked",!0)})):r.newProjectWizardConfigForm.comList[t].dataList.forEach((function(e){r.$set(e,"checked",!1)})),a=r.newProjectWizardConfigForm.comList.filter((function(e){return e.checked})),r.newProjectWizardConfigForm.comList.length==a.length?r.$set(r.newProjectWizardConfigForm,"checked",!0):r.$set(r.newProjectWizardConfigForm,"checked",!1)},handleDeviceChecChange:function(e,t,a){console.log(e,t,a);var r,o=this.newProjectWizardConfigForm.comList[t].dataList.filter((function(e){return e.checked}));this.newProjectWizardConfigForm.comList[t].dataList.length==o.length?this.$set(this.newProjectWizardConfigForm.comList[t],"checked",!0):this.$set(this.newProjectWizardConfigForm.comList[t],"checked",!1),r=this.newProjectWizardConfigForm.comList.filter((function(e){return e.checked})),this.newProjectWizardConfigForm.comList.length==r.length?this.$set(this.newProjectWizardConfigForm,"checked",!0):this.$set(this.newProjectWizardConfigForm,"checked",!1)},handleTemplateSameChange:function(){this.newProjectWizardConfigForm.templateId=this.newProjectWizardConfigForm.comList[0].dataList[0].templateId,this.selectTemplateVisible=!0},handleSelectTemplateChange:function(){var e=this;if(!e.newProjectWizardConfigForm.templateId)return e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error("请选择模板");e.newProjectWizardConfigForm.comList.forEach((function(t){t.dataList.length>0&&t.dataList.forEach((function(t){t.checked&&e.$set(t,"templateId",e.newProjectWizardConfigForm.templateId)}))})),e.selectTemplateVisible=!1},handleCountChange:function(e,t){1==this.newProjectWizardConfigForm.devType&&this.newProjectWizardConfigChecked&&this.newProjectWizardConfigForm.comList[e].dataList[t+1]&&(this.newProjectWizardConfigForm.comList[e].dataList[t+1].addr=Number(this.newProjectWizardConfigForm.comList[e].dataList[t].value||0)+Number(this.newProjectWizardConfigForm.comList[e].dataList[t].addr||0))},handleAddrChange:function(e,t){var a=this,r=[];1==a.newProjectWizardConfigForm.devType&&a.newProjectWizardConfigChecked&&(r=a.newProjectWizardConfigForm.comList[e].dataList.filter((function(e){return e.checked})),t>0?r.length>1&&r.forEach((function(e,o){e.checked&&a.$set(e,"addr",o-t<=0?e.addr:Number(r[o-1].addr||0)+1)})):r.length>1&&r.forEach((function(e,o){e.checked&&a.$set(e,"addr",o==t?e.addr:Number(r[o-1].addr||0)+1)})))},handleDevAddrAutoChange:function(e){var t=this;e.target.checked&&this.newProjectWizardConfigForm.comList.forEach((function(e){e.dataList.length>0&&e.dataList.forEach((function(a,r){0!=r&&""!==String(e.dataList[r-1].addr).trim()&&""!==String(e.dataList[r-1].value).trim()&&""===String(a.addr).trim()&&t.$set(a,"addr",0==r?Number(a.addr):Number(e.dataList[r-1].addr)+Number(e.dataList[r-1].value))}))}))},handleStartSearchChange:function(){},handleStopSearchChange:function(){},handleFinallyChange:function(){var e=this,t=!0;if(this.newProjectWizardConfigForm.comList.length>0)if(0==this.newProjectWizardConfigForm.devType){for(var a=0;a<this.newProjectWizardConfigForm.comList.length;a++)if(this.newProjectWizardConfigForm.comList[a].checked&&(!this.newProjectWizardConfigForm.comList[a].value||0==this.newProjectWizardConfigForm.comList[a].value||!this.newProjectWizardConfigForm.comList[a].templateId)){t=!1;break}}else for(var r=0;r<this.newProjectWizardConfigForm.comList.length;r++)if(this.newProjectWizardConfigForm.comList[r].checked&&this.newProjectWizardConfigForm.comList[r].dataList.length>0)for(var o=0;o<this.newProjectWizardConfigForm.comList[r].dataList.length;o++)if(!this.newProjectWizardConfigForm.comList[r].dataList[o].addr||!this.newProjectWizardConfigForm.comList[r].dataList[o].templateId){t=!1;break}if(!t)return this.$message.config({maxCount:1}),this.$message.destroy(),this.$message.warning(0==this.newProjectWizardConfigForm.devType?this.$t("pleaseCompleteCheckNumberOfDevicesSerialPort"):this.$t("pleaseCompleteCheckNumberOfDevicesSerialPortAndAddressOfDevices"));this.newProjectWizardConfigList=[],this.newProjectWizardConfigForm.comList.forEach((function(t){t.checked&&t.dataList.length>0&&t.dataList.forEach((function(a){a.checked&&e.newProjectWizardConfigList.push(Object(n.a)(Object(n.a)({},a),{name:t.name}))}))})),this.newProjectWizardCurent=1},rowspanMethod:function(e){var t=e.row,a=e._rowIndex,r=e.column,o=e.visibleData,n=t[r.property];if(n&&["name"].includes(r.property)){var i=o[a-1],l=o[a+1];if(i&&i[r.property]===n)return{rowspan:0,colspan:0};for(var s=1;l&&l[r.property]===n;)l=o[++s+a];if(s>1)return{rowspan:s,colspan:1}}},handleTransportChange:function(e){console.log(e),console.log(this.newProjectWizardConfigForm.transport)},handlePreviousFinallyChange:function(){this.newProjectWizardCurent=0},handleCompleteChange:function(){var e=this,t={channel:[],trans:[],language:"US"==e.lang?2:1};return e.newProjectWizardConfigForm.comList.forEach((function(e){e.checked&&t.channel.push({com:e.name,dev:function(){for(var t=[],a=0;a<e.dataList.length;a++)t.push({addr:Number(e.dataList[a].addr),template:e.dataList[a].templateId});return t}()})})),0==t.channel.length?(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.warning(e.$t("pleaseSelectDeviceInformation"))):0==e.newProjectWizardConfigForm.transport.length?(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.warning(e.$t("pleaseSelectForwardingProtocol"))):(e.transportList.forEach((function(a){-1!=e.newProjectWizardConfigForm.transport.indexOf(a.id)&&t.trans.push(a)})),e.newProjectWizardLoading=!0,void Object(m.R)(t).then((function(t){var a=t.data;return a?0!=a.code?(e.newProjectWizardLoading=!1,e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)):a.data.result?(e.newProjectWizardLoading=!1,e.newProjectWizardVisible=!1,e.$message.config({maxCount:1}),e.$message.destroy(),e.getChannelDataList(),e.$message.success(a.msg),void(e.newProjectWizardConfigForm.effectiveImmediately&&Object(m.fb)({re_run:1}).then((function(t){var a=t.data;return a?0!=a.code?(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)):(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.success(a.msg)):(e.newProjectWizardLoading=!1,!1)})).catch((function(e){return console.log(e),!1})))):(e.newProjectWizardLoading=!1,e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)):(e.newProjectWizardLoading=!1,!1)})).catch((function(t){return console.log(t),e.newProjectWizardLoading=!1,!1})))},handleAddOtherProjectChange:function(){var e=this;e.protocolList=[],e.downLoadTemplateList=[],Object(m.B)({pro_type:0}).then((function(t){var a=t.data;return!!a&&(0!=a.code?(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)):(a.data.forEach((function(t){e.protocolList.push({value:t.guid,lib_name:t.lib_name,template:t.template||"",default_cfg:t.default_cfg||"",oldDefaultCfg:t.default_cfg||"",label:"CN"==e.lang?t.name:t.name_eng||t.name||t.lib_name,up_group_id:t.group_id})})),e.newOtherProjectConfigForm={step:1,dataList:[],devList:[],effectiveImmediately:!0},void(e.newOtherProjectVisible=!0)))})).catch((function(e){console.log(e)}))},formatterAddcontent:function(e){return Number(String(e).replace(/[^0-9]/g,""))},handleNewOtherProjectCancel:function(){this.newOtherProjectVisible=!1,this.newOtherProjectLoading=!1},handleAddChannelChange:function(){this.newOtherProjectConfigForm.dataList.push({chl_name:"",chl_addr:"",protocol:void 0,chl_main_param:"",chlcoltfrq:500,chlcoltfrmstopms:300})},handeleChannelProtocol:function(e){var t=this;this.newOtherProjectConfigForm.dataList[e].chl_main_param=this.protocolList.find((function(a){return a.value==t.newOtherProjectConfigForm.dataList[e].protocol})).default_cfg},formatterOtherChlMaster:function(e){if(e){var t=JSON.parse(e);if(Object.prototype.hasOwnProperty.call(t,"ip_addr")){var a={ip_addr:JSON.parse(e).ip_addr,port:JSON.parse(e).port};return JSON.stringify(a)}var r={COM_NAME:JSON.parse(e).com_name};return JSON.stringify(r)}return""},handleDownLoadTemplateChange:function(e){var t=this;if(!t.newOtherProjectConfigForm.dataList[e].protocol)return t.$message.config({maxCount:1}),t.$message.destroy(),t.$message.warning(t.$t("pleaseSelectProtocolBeforeDownloading"));var a=t.protocolList.find((function(a){return a.value==t.newOtherProjectConfigForm.dataList[e].protocol}))?t.protocolList.find((function(a){return a.value==t.newOtherProjectConfigForm.dataList[e].protocol})).template:"";a&&Object(m.J)({name:a}).then((function(a){var r=a.data;if(r){if(0!=r.code)return t.$message.config({maxCount:1}),t.$message.destroy(),t.$message.error(r.msg);-1==t.downLoadTemplateList.indexOf(e)&&t.downLoadTemplateList.push(e),t.$message.config({maxCount:1}),t.$message.destroy(),t.$message.success(t.$t("downloadSuccessful"));var o=window.location.origin+"/"+r.data[0].file_path+"/"+r.data[0].file_name;l()({method:"get",url:o,responseType:"blob"}).then((function(e){var t=e.data,a=new Blob([t]),o=document.createElement("a"),n=window.URL.createObjectURL(a);o.href=n,o.download=r.data[0].file_name,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(n)}))}}))},isRepeat:function(e,t){for(var a={},r=0;r<e.length;r++){if(a[e[r][t]])return!1;a[e[r][t]]=e[r]}return!0},handleChannelNameBlur:function(e){e.toLowerCase().startsWith("com")&&(this.$message.destroy(),this.$message.warning(this.$t("chlNamenoCom")))},handleAddOtherProjectNextChange:function(){var e=!0,t=!0,a=!0,r=!0,o=!0,n=!0,i=[],l=[];if(this.channelList=[],0==this.newOtherProjectConfigForm.dataList.length)return this.$message.config({maxCount:1}),this.$message.destroy(),this.$message.warning(this.$t("pleaseConfigureChannelInformationFirst"));if(!this.isRepeat(this.newOtherProjectConfigForm.dataList,"chl_name"))return this.$message.config({maxCount:1}),this.$message.destroy(),this.$message.warning(this.$t("duplicateChannelNames"));for(var s=0;s<this.newOtherProjectConfigForm.dataList.length;s++){var c=this.newOtherProjectConfigForm.dataList[s];if(c.chl_name.toLowerCase().startsWith("com")){e=!1;break}if(!c.chl_name){t=!1;break}if(!c.chl_addr){a=!1;break}if(!c.chlcoltfrq){r=!1;break}if(!c.chlcoltfrmstopms){o=!1;break}if(!c.protocol){n=!1;break}this.channelList.push({name:c.chl_name,value:c.chl_name}),-1==this.downLoadTemplateList.indexOf(s)&&(i.push(s),l.push(c.chl_name))}return e?t?a?n?r?o?(0==i.length&&l.length,this.newOtherProjectWizardCurent=1,void(this.newOtherProjectConfigForm.step=2)):(this.$message.config({maxCount:1}),this.$message.destroy(),this.$message.warning(this.$t("frameIntervalCannotBeEmpty"))):(this.$message.config({maxCount:1}),this.$message.destroy(),this.$message.warning(this.$t("interactionFrequencyCannotBeEmpty"))):(this.$message.config({maxCount:1}),this.$message.destroy(),this.$message.warning(this.$t("channelProtocolCannotBeEmpty"))):(this.$message.config({maxCount:1}),this.$message.destroy(),this.$message.warning(this.$t("channelAddressCannotBeEmpty"))):(this.$message.config({maxCount:1}),this.$message.destroy(),this.$message.warning(this.$t("channelNameCannotBeEmpty"))):(this.$message.config({maxCount:1}),this.$message.destroy(),this.$message.warning(this.$t("chlNamenoCom")))},handleDeleteChannelChange:function(e,t){console.log(e);var a=this;a.$confirm({title:a.$t("hint"),content:a.$t("wantToDeleteChannel"),onOk:function(){a.newOtherProjectConfigForm.dataList.splice(t,1)},onCancel:function(){}})},handleChlmainparamChange:function(e,t){this.selectOtherProjectConfigForm.index=t;var a=e.chl_main_param?JSON.parse(e.chl_main_param):null;a&&(Object.prototype.hasOwnProperty.call(a,"ip_addr")?(this.selectOtherProjectConfigForm.isIp=!0,this.selectOtherProjectConfigForm.role=a?a.role:0,this.selectOtherProjectConfigForm.ip_addr=a?a.ip_addr:"",this.selectOtherProjectConfigForm.port=a?a.port:null,this.selectOtherProjectConfigForm.chlcoltfrq=500,this.selectOtherProjectConfigForm.chlcoltfrmstopms=300,this.selectOtherProjectConfigForm.timeout=1e3,this.selectOtherProjectConfigVisible=!0):(this.selectOtherProjectConfigForm.isIp=!1,this.selectOtherProjectConfigForm.com_name=a?a.com_name:0,this.selectOtherProjectConfigForm.baud=a?a.baud:void 0,this.selectOtherProjectConfigForm.data_bit=a?a.data_bit:void 0,this.selectOtherProjectConfigForm.stop_bit=a?a.stop_bit:void 0,this.selectOtherProjectConfigForm.check_bit=a?a.check_bit:void 0,this.selectOtherProjectConfigForm.chlcoltfrq=500,this.selectOtherProjectConfigForm.chlcoltfrmstopms=300,this.selectOtherProjectConfigForm.timeout=1e3,this.selectOtherProjectConfigVisible=!0))},handleSelectOtherProjectConfigCancelChange:function(){console.log(this.newOtherProjectConfigForm.dataList[this.selectOtherProjectConfigForm.index].chl_main_param),this.selectOtherProjectConfigVisible=!1},handleSelectOtherProjectConfigConfirmChange:function(){if(console.log(this.selectOtherProjectConfigForm.index),this.selectOtherProjectConfigForm.isIp){if(!/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(this.selectOtherProjectConfigForm.ip_addr))return this.$message.config({maxCount:1}),this.$message.destroy(),this.$message.warning(this.$t("pleaseEnterTheCorrectIPAddress"));var e={role:this.selectOtherProjectConfigForm.role,ip_addr:this.selectOtherProjectConfigForm.ip_addr,port:this.selectOtherProjectConfigForm.port,chlcoltfrq:this.selectOtherProjectConfigForm.chlcoltfrq,chlcoltfrmstopms:this.selectOtherProjectConfigForm.chlcoltfrmstopms,timeout:this.selectOtherProjectConfigForm.timeout};this.newOtherProjectConfigForm.dataList[this.selectOtherProjectConfigForm.index].chl_main_param=JSON.stringify(e)}else{var t={com_name:this.selectOtherProjectConfigForm.com_name,baud:this.selectOtherProjectConfigForm.baud,data_bit:this.selectOtherProjectConfigForm.data_bit,stop_bit:this.selectOtherProjectConfigForm.stop_bit,check_bit:this.selectOtherProjectConfigForm.check_bit,chlcoltfrq:this.selectOtherProjectConfigForm.chlcoltfrq,chlcoltfrmstopms:this.selectOtherProjectConfigForm.chlcoltfrmstopms,timeout:this.selectOtherProjectConfigForm.timeout};this.newOtherProjectConfigForm.dataList[this.selectOtherProjectConfigForm.index].chl_main_param=JSON.stringify(t)}this.selectOtherProjectConfigVisible=!1},handleAddDeviceChange:function(){this.newOtherProjectConfigForm.devList.push({channel:void 0,dev_name:"",dev_addr:"",template:"",file:null,file_name:""})},handleDeleteDeviceChange:function(e,t){console.log(e);var a=this;a.$confirm({title:a.$t("hint"),content:a.$t("wantToDeleteDevice"),onOk:function(){a.newOtherProjectConfigForm.devList.splice(t,1)},onCancel:function(){}})},handleUploadRowTagTemplate:function(e){var t=this;return t.openFileDialogOnClickStatus=!1,t.channelAndDevArr=[],t.channelAndDevTreeData=[],t.channelAndDevRowIndex=e,t.newOtherProjectConfigForm.devList[e].channel?""==String(t.newOtherProjectConfigForm.devList[e].dev_name)&&"null"!=String(t.newOtherProjectConfigForm.devList[e].dev_name)&&"undefined"!=String(t.newOtherProjectConfigForm.devList[e].dev_name)?(t.$message.config({maxCount:1}),t.$message.destroy(),t.$message.warning(t.$t("deviceNameCannotBeEmpty"))):""==String(t.newOtherProjectConfigForm.devList[e].dev_addr)&&"null"!=String(t.newOtherProjectConfigForm.devList[e].dev_addr)&&"undefined"!=String(t.newOtherProjectConfigForm.devList[e].dev_addr)?(t.$message.config({maxCount:1}),t.$message.destroy(),t.$message.warning(t.$t("deviceAddressCannotBeEmpty"))):(t.newOtherProjectConfigForm.dataList.forEach((function(e){var a={title:e.chl_name,key:e.chl_name};t.newOtherProjectConfigForm.devList.forEach((function(r){if(e.chl_name==r.channel)if(t.channelAndDevArr.push({title:r.dev_name,key:r.dev_name+"?pboxLoggerDevItem"}),Object.prototype.hasOwnProperty.call(a,"children")){var o={title:r.dev_name,key:r.dev_name+"?pboxLoggerDevItem"};a.children.push(o)}else a.children=[{title:r.dev_name,key:r.dev_name+"?pboxLoggerDevItem",devAddr:r.dev_addr,isLeaf:!0}]})),t.channelAndDevTreeData.push(a)})),void(t.openFileDialogOnClickStatus=!0)):(t.$message.config({maxCount:1}),t.$message.destroy(),t.$message.warning(t.$t("channelbelongsCannoBeEmpty")))},handleAddOtherProjectPreviousChange:function(){this.newOtherProjectWizardCurent=0,this.newOtherProjectConfigForm.step=1},beforeUploadTagFile:function(e){if(!e.name.includes(".xls")||e.name.includes(".xlsx"))return this.$message.config({maxCount:1}),this.$message.destroy(),this.$message.warning(this.$t("uploadedFileWrong")),!1;this.newOtherProjectFileList=[].concat(Object(r.a)(this.newOtherProjectFileList),[e])},handleUploadTagFileChange:function(){console.log("this.newOtherProjectFileList",this.newOtherProjectFileList);var e=this,t=new FormData;t.append("file_type",15),t.append("file_path","/data/webapp/devpoint"),t.append("file_name",e.newOtherProjectFileList[e.newOtherProjectFileList.length-1].name),t.append("file_bin",e.newOtherProjectFileList[e.newOtherProjectFileList.length-1]),e.newOtherProjectConfigForm.devList[e.channelAndDevRowIndex].file=e.newOtherProjectFileList[e.newOtherProjectFileList.length-1],e.newOtherProjectConfigForm.devList[e.channelAndDevRowIndex].template=e.newOtherProjectFileList[e.newOtherProjectFileList.length-1].name,e.newOtherProjectConfigForm.devList[e.channelAndDevRowIndex].file_name=e.newOtherProjectFileList[e.newOtherProjectFileList.length-1].name,Object(m.kb)(t).then((function(t){var a=t.data;return 0!=a.code?(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)):"success"!=a.data.result?(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(e.$t("uploadFailed"))):(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.success("success"),e.checkedChannelAndDevKeys=[e.newOtherProjectConfigForm.devList[e.channelAndDevRowIndex].dev_name+"?pboxLoggerDevItem"],void(e.channelAndDevVisible=!0))}))},handleChannelAndDevSelectChange:function(e,t){console.log("onCheck",e,t),this.checkedChannelAndDevKeys=e},handleSelectChannelAndDevCancelChange:function(){this.channelAndDevVisible=!1},handleSelectChannelAndDevConfirmChange:function(){var e=this;if(0==e.checkedChannelAndDevKeys.length)return e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.warning(e.$t("deviceSelectionCannotBeEmpty"));e.checkedChannelAndDevKeys.forEach((function(t){e.channelAndDevArr.forEach((function(a){if(t==a.key){var r=e.newOtherProjectConfigForm.devList.findIndex((function(e){return e.dev_name+"?pboxLoggerDevItem"==t}));e.$set(e.newOtherProjectConfigForm.devList[r],"template",e.newOtherProjectConfigForm.devList[e.channelAndDevRowIndex].template)}}))})),console.log(e.newOtherProjectConfigForm.devList),e.channelAndDevVisible=!1},handleCompleteOtherProjectChange:function(){var e=this,t=!0,a=!0,r=!0,o={channel:[],oth:1,language:"US"==e.lang?2:1};if(0==e.newOtherProjectConfigForm.devList.length)return e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.warning(e.$t("deviceListCannotBeEmpty"));for(var n=0;n<e.newOtherProjectConfigForm.devList.length;n++){var i=e.newOtherProjectConfigForm.devList[n];if(!i.dev_name){t=!1;break}if(!i.dev_addr){a=!1;break}if(!i.template){r=!1;break}}return t?a?r?(e.newOtherProjectConfigForm.dataList.forEach((function(t){var a={name:t.chl_name,chl_addr:t.chl_addr,chl_colt_freq:t.chlcoltfrq,chl_wait_time:t.chlcoltfrmstopms,id:t.protocol,chl_main_param:t.chl_main_param,dev:[]};e.newOtherProjectConfigForm.devList.forEach((function(e){t.chl_name==e.channel&&a.dev.push({name:e.dev_name,addr:e.dev_addr,template:e.template})})),o.channel.push(a)})),e.newOtherProjectLoading=!0,void Object(m.R)(o).then((function(t){var a=t.data;return a?0!=a.code?(e.newOtherProjectLoading=!1,e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)):a.data.result?(e.newOtherProjectLoading=!1,e.newOtherProjectVisible=!1,e.$message.config({maxCount:1}),e.$message.destroy(),e.getChannelDataList(),e.$message.success(a.msg),void(e.newOtherProjectConfigForm.effectiveImmediately&&Object(m.fb)({re_run:1}).then((function(t){var a=t.data;return a?0!=a.code?(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)):(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.success(a.msg)):(e.newOtherProjectLoading=!1,!1)})).catch((function(e){return console.log(e),!1})))):(e.newOtherProjectLoading=!1,e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)):(e.newOtherProjectLoading=!1,!1)})).catch((function(t){return console.log(t),e.newOtherProjectLoading=!1,!1}))):(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.warning(e.$t("templateCannotBeEmpty"))):(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.warning(e.$t("deviceAddressCannotBeEmpty"))):(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.warning(e.$t("deviceNameCannotBeEmpty")))}},created:function(){this.dataForm.intime=this.$getSystemDate(6),this.dataForm.outtime=this.$getSystemDate(6)},mounted:function(){this.newOtherProjectConfigComList=[];for(var e=1;e<17;e++)this.newOtherProjectConfigComList.push({name:"COM"+e,value:e});this.getChannelDataList()},watch:{lang:{handler:function(){this.typeList=[{name:this.$t("enable"),value:0},{name:this.$t("disabled"),value:1}],this.roleList=[{label:this.$t("activeConnection"),value:0},{label:this.$t("waitingForAccess"),value:1}],this.checkwayList=[{name:this.$t("none"),value:0},{name:this.$t("oddParity"),value:1},{name:this.$t("evenParity"),value:2}],this.chlValidList=[{name:this.$t("yes"),value:0},{name:this.$t("no"),value:2}],this.fdataflagList=[{label:this.$t("hexadecimal"),value:16},{label:this.$t("decimal"),value:10},{label:this.$t("string"),value:0}]},deep:!0,immediate:!0}}},p=(a("4481"),a("0c7c")),u=Object(p.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-card",[r("a-collapse",{model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[r("a-collapse-panel",{key:"1",attrs:{header:e.$t("channelList"),disabled:""}},[r("a-form-model",{attrs:{layout:"inline",model:e.dataForm}},[r("a-form-model-item",{attrs:{label:e.$t("channelType")}},[r("a-select",{staticStyle:{width:"240px"},attrs:{"show-search":"",allowClear:"",placeholder:e.$t("pleaseSelectChannelType"),"option-filter-prop":"children","filter-option":e.filterOption},on:{change:e.getChannelDataList},model:{value:e.dataForm.chlType,callback:function(t){e.$set(e.dataForm,"chlType",t)},expression:"dataForm.chlType"}},e._l(e.chlTypeList,(function(t){return r("a-select-option",{key:t.value,attrs:{label:t.name,value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),r("a-form-model-item",[r("a-space",[r("a-button",{attrs:{icon:"search"},on:{click:e.getChannelDataList}},[e._v(e._s(e.$t("search")))]),"visitor"!=e.user?r("a-button",{attrs:{type:"primary",icon:"deployment-unit"},on:{click:e.handleSavePrjGuideChange}},[e._v(e._s(e.$t("newProjectWizard")))]):e._e(),"visitor"!=e.user?r("a-button",{attrs:{type:"primary",icon:"plus-circle"},on:{click:e.handleAddOtherProjectChange}},[e._v(e._s(e.$t("addDevice")))]):e._e()],1)],1)],1),r("vxe-table",{ref:"recordTable",staticStyle:{"margin-top":"10px"},attrs:{border:"",resizable:"","auto-resize":"","sync-resize":"","show-overflow":"",size:"small","empty-text":e.$t("noData"),"highlight-current-row":"","highlight-hover-row":"",data:e.dataList,"sort-config":e.sortConfig,loading:e.dataListLoading}},[r("vxe-column",{key:"2",attrs:{field:"chl_id",title:e.$t("channelID"),width:"160",align:"center","show-overflow":"",fixed:"left",sortable:""}}),r("vxe-column",{key:"3",attrs:{field:"chl_name",title:e.$t("channelName"),width:"180",align:"center","show-overflow":"",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{style:{color:2==t.row.chl_valid?"#aaaaaa":""}},[e._v(e._s(t.row.chl_name))])]}}])}),r("vxe-column",{key:"4",attrs:{field:"chl_addr",title:e.$t("channelAddress"),width:"120",align:"center","show-overflow":""}}),r("vxe-column",{key:"5",attrs:{field:"chl_type",title:e.$t("channelType"),width:"140",align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(0==t.row.chl_type?e.$t("acquisitionChannel"):1==t.row.chl_type?e.$t("forwardingChannel"):2==t.row.chl_type?e.$t("internalPassage"):"--")+" ")]}}])}),r("vxe-column",{key:"6",attrs:{field:"chl_protocol",title:e.$t("protocolName"),"header-align":"center",width:"350","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticStyle:{display:"flex","align-items":"center"},on:{click:function(a){return e.handleProtocolSetAddrByChlId(t.row)}}},[r("a-icon",{style:{fontSize:"16px",cursor:"pointer",color:0==t.row.attr?"#999":"#FF7F50"},attrs:{type:"setting"}}),r("span",{staticStyle:{"margin-left":"2px"}},[e._v(e._s(t.row.chl_protocol))])],1)]}}])}),r("vxe-column",{key:"7",attrs:{field:"chl_main_param",title:e.$t("mainChannelParameters"),width:"240",align:"center","show-overflow":"",formatter:e.formatterChlMaster}}),r("vxe-column",{key:"8",attrs:{field:"chl_colt_freq",title:e.$t("interactionFrequencyMs"),width:"160",align:"center","show-overflow":""}}),e.isBaudExit?r("vxe-column",{key:"10",attrs:{field:"baud",title:e.$t("baudRate"),width:"200",align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.chl_main_param?JSON.parse(t.row.chl_main_param).baud:"--")+" ")]}}],null,!1,1180332582)}):e._e(),r("vxe-column",{key:"12",attrs:{field:"chl_desc",title:e.$t("channelDesc"),align:"center","show-overflow":"","min-width":"180"}}),r("vxe-table-column",{key:"13",attrs:{title:e.$t("option"),"header-align":"center",align:"center",width:"CN"==e.lang?250:400,fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[1!=t.row.chl_id?r("a",{on:{click:function(a){return e.handleChannelMonitorChange(t.row)}}},[e._v(e._s(e.$t("channelMonitoring")))]):e._e(),1!=t.row.chl_id?r("a-divider",{attrs:{type:"vertical"}}):e._e(),r("a",{on:{click:function(a){return e.handleDeviceManageChange(t.row)}}},[e._v(e._s(e.$t("deviceManagement")))]),1!=t.row.chl_id&&"visitor"!=e.user?r("a-divider",{attrs:{type:"vertical"}}):e._e(),1!=t.row.chl_id&&"visitor"!=e.user?r("a",{on:{click:function(a){return e.handleAddOrUpdateChange(t.row)}}},[e._v(e._s(e.$t("update")))]):e._e(),1!=t.row.chl_id&&2!=t.row.chl_id&&"visitor"!=e.user&&0==t.row.chl_type?r("a-divider",{attrs:{type:"vertical"}}):e._e(),1!=t.row.chl_id&&2!=t.row.chl_id&&"visitor"!=e.user&&0==t.row.chl_type?r("a-popconfirm",{attrs:{title:e.$t("wantToDeleteChannel"),"ok-text":e.$t("yes"),"cancel-text":e.$t("no")},on:{confirm:function(a){return e.handleDeleteChange(t.row)}}},[r("a",{staticStyle:{color:"#ff7875"}},[e._v(e._s(e.$t("delete")))])]):e._e()]}}])})],1)],1)],1),r("a-drawer",{attrs:{width:"600",title:e.addOrUpdateForm.chl_name,placement:"right",visible:e.addOrUpdateVisible},on:{close:e.handleAddOrUpdateVisibleCloseChange}},[r("a-form-model",{ref:"addOrUpdateForm",staticClass:"user-layout-login",attrs:{"label-col":"US"==e.lang?e.labelColAddOrUpdateEn:e.labelColAddOrUpdate,"wrapper-col":"US"==e.lang?e.wrapperColAddOrUpdateEn:e.wrapperColAddOrUpdate,model:e.addOrUpdateForm,rules:e.rules},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleAddOrUpdateVisibleChange(t)}}},[r("a-form-model-item",{attrs:{label:e.$t("channelAddress"),prop:"chl_addr"}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterChannelAddress"),allowClear:""},model:{value:e.addOrUpdateForm.chl_addr,callback:function(t){e.$set(e.addOrUpdateForm,"chl_addr",t)},expression:"addOrUpdateForm.chl_addr"}})],1),r("a-form-model-item",{attrs:{label:e.$t("channelDesc"),prop:"chl_desc"}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterChannelDesc"),allowClear:""},model:{value:e.addOrUpdateForm.chl_desc,callback:function(t){e.$set(e.addOrUpdateForm,"chl_desc",t)},expression:"addOrUpdateForm.chl_desc"}})],1),r("a-form-model-item",{attrs:{label:e.$t("interactionFrequency"),prop:"chl_colt_freq"}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterInteractionFrequency"),allowClear:""},model:{value:e.addOrUpdateForm.chl_colt_freq,callback:function(t){e.$set(e.addOrUpdateForm,"chl_colt_freq",t)},expression:"addOrUpdateForm.chl_colt_freq"}})],1),r("a-form-model-item",{attrs:{label:e.$t("frameInterval"),prop:"chl_wait_time"}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterIntervalBetweenEachFrame"),allowClear:""},model:{value:e.addOrUpdateForm.chl_wait_time,callback:function(t){e.$set(e.addOrUpdateForm,"chl_wait_time",t)},expression:"addOrUpdateForm.chl_wait_time"}})],1),0==e.addOrUpdateForm.protocol_type?[r("a-form-model-item",{attrs:{label:e.$t("communicationDirection"),prop:"chl_main_param.role"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseChoose"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:e.addOrUpdateForm.chl_main_param.role,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"role",t)},expression:"addOrUpdateForm.chl_main_param.role"}},e._l(e.roleList,(function(t){return r("a-select-option",{key:t.value,attrs:{label:t.label,value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),r("a-form-model-item",{attrs:{label:e.$t("reserve0"),prop:"chl_main_param.reserve0"}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterReserve0"),allowClear:""},model:{value:e.addOrUpdateForm.chl_main_param.reserve0,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"reserve0",t)},expression:"addOrUpdateForm.chl_main_param.reserve0"}})],1),r("a-form-model-item",{attrs:{label:e.$t("ipDomainName"),prop:"chl_main_param.ip_addr"}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterIPDomainName"),allowClear:""},model:{value:e.addOrUpdateForm.chl_main_param.ip_addr,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"ip_addr",t)},expression:"addOrUpdateForm.chl_main_param.ip_addr"}})],1),r("a-form-model-item",{attrs:{label:e.$t("reserve1"),prop:"chl_main_param.reserve1"}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterReserve1"),allowClear:""},model:{value:e.addOrUpdateForm.chl_main_param.reserve1,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"reserve1",t)},expression:"addOrUpdateForm.chl_main_param.reserve1"}})],1),r("a-form-model-item",{attrs:{label:e.$t("portNumber"),prop:"chl_main_param.port"}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterPortNumber"),allowClear:"",maxLength:8},model:{value:e.addOrUpdateForm.chl_main_param.port,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"port",t)},expression:"addOrUpdateForm.chl_main_param.port"}})],1),r("a-form-model-item",{attrs:{label:e.$t("reserve2"),prop:"chl_main_param.reserve2"}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterReserve2"),allowClear:""},model:{value:e.addOrUpdateForm.chl_main_param.reserve2,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"reserve2",t)},expression:"addOrUpdateForm.chl_main_param.reserve2"}})],1),r("a-form-model-item",{attrs:{label:e.$t("timeout"),prop:"chl_main_param.timeout"}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterTimeout"),allowClear:""},model:{value:e.addOrUpdateForm.chl_main_param.timeout,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"timeout",t)},expression:"addOrUpdateForm.chl_main_param.timeout"}})],1),r("a-form-model-item",{attrs:{label:e.$t("reserve3"),prop:"chl_main_param.reserve3"}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterReserve3"),allowClear:""},model:{value:e.addOrUpdateForm.chl_main_param.reserve3,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"reserve3",t)},expression:"addOrUpdateForm.chl_main_param.reserve3"}})],1)]:[r("a-form-model-item",{attrs:{label:e.$t("serialPortName"),prop:"chl_main_param.com_name"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseSelectSerialPortName"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:e.addOrUpdateForm.chl_main_param.com_name,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"com_name",t)},expression:"addOrUpdateForm.chl_main_param.com_name"}},e._l(e.comList,(function(t){return r("a-select-option",{key:t.value,attrs:{label:t.label,value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),r("a-form-model-item",{attrs:{label:e.$t("baudRate"),prop:"chl_main_param.baud"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseChoose"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:e.addOrUpdateForm.chl_main_param.baud,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"baud",t)},expression:"addOrUpdateForm.chl_main_param.baud"}},e._l(e.baudList,(function(t){return r("a-select-option",{key:t.value,attrs:{label:t.name,value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),r("a-form-model-item",{attrs:{label:e.$t("dataBit"),prop:"chl_main_param.data_bit"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseChoose"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:e.addOrUpdateForm.chl_main_param.data_bit,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"data_bit",t)},expression:"addOrUpdateForm.chl_main_param.data_bit"}},e._l(e.data_bitList,(function(t){return r("a-select-option",{key:t.value,attrs:{label:t.label,value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),r("a-form-model-item",{attrs:{label:e.$t("stopBit"),prop:"chl_main_param.stop_bit"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseChoose"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:e.addOrUpdateForm.chl_main_param.stop_bit,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"stop_bit",t)},expression:"addOrUpdateForm.chl_main_param.stop_bit"}},e._l(e.stopbitList,(function(t){return r("a-select-option",{key:t.value,attrs:{label:t.label,value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),r("a-form-model-item",{attrs:{label:e.$t("checkBit"),prop:"chl_main_param.check_bit"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseChoose"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:e.addOrUpdateForm.chl_main_param.check_bit,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"check_bit",t)},expression:"addOrUpdateForm.chl_main_param.check_bit"}},e._l(e.checkwayList,(function(t){return r("a-select-option",{key:t.value,attrs:{label:t.name,value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),r("a-form-model-item",{attrs:{label:e.$t("reserve0"),prop:"chl_main_param.reserve0"}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterReserve0"),allowClear:""},model:{value:e.addOrUpdateForm.chl_main_param.reserve0,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"reserve0",t)},expression:"addOrUpdateForm.chl_main_param.reserve0"}})],1),r("a-form-model-item",{attrs:{label:e.$t("timeout"),prop:"chl_main_param.timeout"}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterTimeout"),allowClear:""},model:{value:e.addOrUpdateForm.chl_main_param.timeout,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"timeout",t)},expression:"addOrUpdateForm.chl_main_param.timeout"}})],1),r("a-form-model-item",{attrs:{label:e.$t("reserve1"),prop:"chl_main_param.reserve1"}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterReserve1"),allowClear:""},model:{value:e.addOrUpdateForm.chl_main_param.reserve1,callback:function(t){e.$set(e.addOrUpdateForm.chl_main_param,"reserve1",t)},expression:"addOrUpdateForm.chl_main_param.reserve1"}})],1)],r("a-form-model-item",{attrs:{wrapperCol:{span:24}}},[r("a-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.handleAddOrUpdateVisibleChange}},[e._v(e._s(e.$t("submit")))])],1)],2)],1),r("a-modal",{attrs:{width:1200,title:e.$t("protocolFratureConfigChannel")+e.protocolSettingForm.chl_name+" "+e.$t("protocolFratureConfigProtocol")+e.protocolSettingForm.chl_protocol+")",cancelText:e.$t("cancel"),okText:e.$t("confirm")},on:{cancel:e.handleProtocolSettingClose,ok:e.handleProtocolSettingConfirm},model:{value:e.protocolSettingVisible,callback:function(t){e.protocolSettingVisible=t},expression:"protocolSettingVisible"}},[r("a-button",{on:{click:e.handleResetSetting}},[e._v(e._s(e.$t("restoreDefaultSettings")))]),r("vxe-table",{ref:"protocolSettingDescList",staticStyle:{"margin-top":"10px"},attrs:{border:"",resizable:"","auto-resize":"","sync-resize":"","show-overflow":"",size:"small","empty-text":e.$t("noData"),"highlight-current-row":"","highlight-hover-row":"","max-height":"400",data:e.protocolSettingDescList,loading:e.protocolSettingFormLoading}},[r("vxe-column",{attrs:{field:"f_no",title:e.$t("serialNumber"),width:"120",align:"center","show-overflow":""}}),r("vxe-column",{attrs:{field:"f_desc",title:e.$t("parameterDescription"),align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("US"==e.lang?t.row.f_descEng:t.row.f_desc)+" ")]}}])}),r("vxe-column",{attrs:{field:"f_dataflag",title:e.$t("parameterType"),width:"130",align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a-select",{staticStyle:{width:"100px"},attrs:{disabled:!!t.row.f_options,"show-search":"","option-filter-prop":"children",size:"small",placeholder:e.$t("pleaseChoose")},model:{value:t.row.f_dataflag,callback:function(a){e.$set(t.row,"f_dataflag",a)},expression:"scope.row.f_dataflag"}},e._l(e.fdataflagList,(function(t,a){return r("a-select-option",{key:a,attrs:{label:t.label,value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)]}}])}),r("vxe-column",{attrs:{field:"f_value",title:e.$t("parameterValue"),align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.f_options?r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"","option-filter-prop":"children",size:"small",placeholder:e.$t("pleaseChoose")},model:{value:t.row.f_value,callback:function(a){e.$set(t.row,"f_value",a)},expression:"scope.row.f_value"}},e._l(JSON.parse(t.row.f_options),(function(t,a){return r("a-select-option",{key:a,attrs:{label:"CN"==e.lang?t.desc:t.descEng||t.desc,value:t.value}},[e._v(" "+e._s("CN"==e.lang?t.desc:t.descEng||t.desc)+" ")])})),1):r("a-input",{staticStyle:{width:"100%"},attrs:{size:"small"},model:{value:t.row.f_value,callback:function(a){e.$set(t.row,"f_value",a)},expression:"scope.row.f_value"}})]}}])})],1)],1),r("a-modal",{attrs:{width:1200,title:e.$t("newProjectWizard"),footer:null},on:{cancel:e.handleNewProjectWizardCancel},model:{value:e.newProjectWizardVisible,callback:function(t){e.newProjectWizardVisible=t},expression:"newProjectWizardVisible"}},[r("a-spin",{attrs:{spinning:e.newProjectWizardLoading}},[r("a-steps",{attrs:{current:e.newProjectWizardCurent}},[r("a-step",{attrs:{title:e.$t("deviceManagement")}}),r("a-step",{attrs:{title:e.$t("forwardingManagement")}})],1),r("div",{staticStyle:{"margin-top":"20px"}},[r("a-form-model",{ref:"newProjectWizardConfigForm",attrs:{"label-col":"CN"==e.lang?e.labelColNewProject:e.labelColNewProjectEn,"wrapper-col":"CN"==e.lang?e.wrapperColNewProject:e.wrapperColNewProjectEn,model:e.newProjectWizardConfigForm}},[r("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:0==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 0"}],attrs:{label:e.$t("addType"),prop:"devType"}},[r("a-radio-group",{model:{value:e.newProjectWizardConfigForm.devType,callback:function(t){e.$set(e.newProjectWizardConfigForm,"devType",t)},expression:"newProjectWizardConfigForm.devType"}},[r("a-radio",{attrs:{value:0,disabled:""}},[e._v(e._s(e.$t("autoSearch")))]),r("a-radio",{attrs:{value:1}},[e._v(e._s(e.$t("manuallyEnterQuantity")))])],1)],1),r("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:0==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 0"}],attrs:{wrapperCol:{span:24},prop:"templateId"}},[r("a-row",{attrs:{type:"flex",align:"middle",justify:"space-between"}},[r("a-col",{attrs:{span:3}}),r("a-col",{directives:[{name:"show",rawName:"v-show",value:0==e.newProjectWizardConfigForm.devType,expression:"newProjectWizardConfigForm.devType == 0"}],staticStyle:{"text-align":"center"},attrs:{span:20}},[e._v(e._s(e.$t("pointTableTemplate")))]),r("a-col",{directives:[{name:"show",rawName:"v-show",value:1==e.newProjectWizardConfigForm.devType,expression:"newProjectWizardConfigForm.devType == 1"}],attrs:{span:21}},[r("a-row",{attrs:{type:"flex",align:"middle",justify:"space-between"}},[r("a-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[r("a-tooltip",{attrs:{placement:"top",title:e.newProjectWizardConfigForm.checked?e.$t("unSelectAll"):e.$t("selectAll")}},[r("a-checkbox",{on:{change:e.handleCheckedAllChange},model:{value:e.newProjectWizardConfigForm.checked,callback:function(t){e.$set(e.newProjectWizardConfigForm,"checked",t)},expression:"newProjectWizardConfigForm.checked"}})],1)],1),r("a-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[r("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[r("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.$t("logicalAddr")))]),r("a-checkbox",{on:{change:e.handleDevAddrAutoChange},model:{value:e.newProjectWizardConfigChecked,callback:function(t){e.newProjectWizardConfigChecked=t},expression:"newProjectWizardConfigChecked"}},[e._v(e._s(e.$t("deviceAddressAutoIncrements")))])],1)]),r("a-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[r("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[r("span",[e._v(e._s(e.$t("pointTableTemplate")))]),r("a-tooltip",{attrs:{placement:"top"}},[r("template",{slot:"title"},[r("span",[e._v(e._s(e.$t("performOperation")))])]),r("img",{attrs:{src:a("e5b2"),alt:""},on:{click:e.handleTemplateSameChange}})],2)],1)]),r("a-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v(e._s(e.$t("option")))])],1)],1)],1),e._l(e.newProjectWizardConfigForm.comList,(function(t,a){return r("a-row",{key:a,staticStyle:{padding:"5px 0"},style:{borderBottom:a==e.newProjectWizardConfigForm.comList.length-1?"none":"1px dashed "+e.theme.color},attrs:{type:"flex",align:"middle",justify:"space-between"}},[r("a-col",{attrs:{span:3}},[r("a-checkbox",{on:{change:function(t){return e.handleDeviceCheckAllChange(t,a)}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v(e._s(t.name+" ( "+t.dataList.length+e.$t("tower")+" )"))])],1),0==e.newProjectWizardConfigForm.devType?r("a-col",{attrs:{span:20}},[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseSelectPointTableTemplate"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:t.templateId,callback:function(a){e.$set(t,"templateId",a)},expression:"item.templateId"}},e._l(e.templateList,(function(t,a){return r("a-select-option",{key:a,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1):e._e(),r("a-col",{directives:[{name:"show",rawName:"v-show",value:1==e.newProjectWizardConfigForm.devType,expression:"newProjectWizardConfigForm.devType == 1"}],attrs:{span:21}},e._l(t.dataList,(function(o,n){return r("a-row",{key:n,attrs:{type:"flex",align:"middle",justify:"space-between"}},[r("a-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[r("a-checkbox",{on:{change:function(t){return e.handleDeviceChecChange(t,a,n)}},model:{value:o.checked,callback:function(t){e.$set(o,"checked",t)},expression:"dataItem.checked"}})],1),r("a-col",{attrs:{span:8}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterLogicalAddress"),allowClear:""},on:{input:function(t){return e.handleAddrChange(a,n)}},model:{value:o.addr,callback:function(t){e.$set(o,"addr",t)},expression:"dataItem.addr"}})],1),r("a-col",{attrs:{span:8}},[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseSelectPointTableTemplate"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:o.templateId,callback:function(t){e.$set(o,"templateId",t)},expression:"dataItem.templateId"}},e._l(e.templateList,(function(t,a){return r("a-select-option",{key:a,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),r("a-col",{style:{textAlign:t.dataList.length>1?"center":"left"},attrs:{span:4}},[r("a-space",[r("a-button",{attrs:{type:"primary",icon:"plus-circle"},on:{click:function(t){return e.handleAddDeviceByComChange(a,n)}}},[e._v(e._s(e.$t("add")))]),r("a-button",{directives:[{name:"show",rawName:"v-show",value:t.dataList.length>1,expression:"item.dataList.length > 1"}],attrs:{type:"danger",icon:"delete"},on:{click:function(t){return e.handleDeleteDeviceByComChange(a,n)}}},[e._v(e._s(e.$t("delete")))])],1)],1)],1)})),1)],1)}))],2),r("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:0==e.newProjectWizardCurent&&0==e.newProjectWizardConfigForm.devType,expression:"newProjectWizardCurent == 0 && newProjectWizardConfigForm.devType == 0"}],staticStyle:{"margin-top":"24px","text-align":"right"},attrs:{wrapperCol:{offset:2,span:22}}},[r("a-space",[r("a-button",{attrs:{type:"primary"},on:{click:e.handleStartSearchChange}},[e._v(e._s(e.$t("startSearch")))]),r("a-button",{attrs:{type:"primary"},on:{click:e.handleStopSearchChange}},[e._v(e._s(e.$t("stopSearch")))]),r("a-input",{staticStyle:{width:"300px"},attrs:{placeholder:e.$t("pleaseEnterTimeInterval"),suffix:e.$t("second")},model:{value:e.newProjectWizardConfigForm.duration,callback:function(t){e.$set(e.newProjectWizardConfigForm,"duration",t)},expression:"newProjectWizardConfigForm.duration"}})],1)],1),r("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:0==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 0"}],staticStyle:{"margin-top":"24px","text-align":"right"},attrs:{wrapperCol:{offset:2,span:22}}},[r("a-space",[r("a-button",{attrs:{type:"primary"},on:{click:e.handleFinallyChange}},[e._v(e._s(e.$t("nextStep")))])],1)],1),r("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:1==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 1"}],attrs:{label:e.$t("forward"),prop:"transport"}},[r("a-checkbox-group",{on:{change:e.handleTransportChange},model:{value:e.newProjectWizardConfigForm.transport,callback:function(t){e.$set(e.newProjectWizardConfigForm,"transport",t)},expression:"newProjectWizardConfigForm.transport"}},e._l(e.transportList,(function(t,a){return r("a-checkbox",{key:a,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1),r("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:1==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 1"}],attrs:{label:e.$t("effectiveImmediately"),prop:"effectiveImmediately"}},[r("a-checkbox",{model:{value:e.newProjectWizardConfigForm.effectiveImmediately,callback:function(t){e.$set(e.newProjectWizardConfigForm,"effectiveImmediately",t)},expression:"newProjectWizardConfigForm.effectiveImmediately"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:1==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 1"}]},[r("h2",[e._v(e._s(e.$t("overview")))]),r("vxe-table",{ref:"newProjectWizardTable",attrs:{border:"",resizable:"","auto-resize":"","sync-resize":"","show-overflow":"",size:"small","highlight-current-row":"","highlight-hover-row":"","max-height":"500","span-method":e.rowspanMethod,data:e.newProjectWizardConfigList,"empty-text":e.$t("noData")}},[r("vxe-column",{attrs:{field:"name",title:"COM",align:"center"}}),r("vxe-column",{attrs:{field:"addr",title:e.$t("logicalAddr"),align:"center"}}),r("vxe-column",{attrs:{field:"templateId",title:e.$t("pointTableTemplate"),align:"center"}})],1)],1),r("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:1==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 1"}],staticStyle:{"margin-top":"24px","text-align":"right"},attrs:{wrapperCol:{offset:2,span:22}}},[r("a-space",[r("a-button",{attrs:{type:"primary"},on:{click:e.handlePreviousFinallyChange}},[e._v(e._s(e.$t("previousStep")))]),r("a-button",{attrs:{type:"primary"},on:{click:e.handleCompleteChange}},[e._v(e._s(e.$t("complete")))])],1)],1)],1)],1)],1)],1),r("a-modal",{attrs:{width:600,title:e.$t("addDevice"),footer:null},on:{cancel:function(t){e.selectTemplateVisible=!1}},model:{value:e.selectTemplateVisible,callback:function(t){e.selectTemplateVisible=t},expression:"selectTemplateVisible"}},[r("a-form-model",{ref:"newProjectWizardConfigForm",attrs:{"label-col":(e.lang,e.labelColNewProject),"wrapper-col":(e.lang,e.wrapperColNewProject),model:e.newProjectWizardConfigForm}},[r("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:0==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 0"}],attrs:{label:e.$t("pointTableTemplate"),prop:"templateId"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseSelectPointTableTemplate"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:e.newProjectWizardConfigForm.templateId,callback:function(t){e.$set(e.newProjectWizardConfigForm,"templateId",t)},expression:"newProjectWizardConfigForm.templateId"}},e._l(e.templateList,(function(t,a){return r("a-select-option",{key:a,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),r("a-form-model-item",{staticStyle:{"margin-top":"24px","text-align":"right"},attrs:{wrapperCol:{offset:2,span:22}}},[r("a-space",[r("a-button",{on:{click:function(t){e.selectTemplateVisible=!1}}},[e._v(e._s(e.$t("cancel")))]),r("a-button",{attrs:{type:"primary"},on:{click:e.handleSelectTemplateChange}},[e._v(e._s(e.$t("confirm")))])],1)],1)],1)],1),r("a-modal",{attrs:{width:1200,title:e.$t("addDevice"),footer:null},on:{cancel:e.handleNewOtherProjectCancel},model:{value:e.newOtherProjectVisible,callback:function(t){e.newOtherProjectVisible=t},expression:"newOtherProjectVisible"}},[r("a-spin",{attrs:{spinning:e.newOtherProjectLoading}},[r("a-steps",{attrs:{current:e.newOtherProjectWizardCurent}},[r("a-step",{attrs:{title:e.$t("createNewChannel")}}),r("a-step",{attrs:{title:e.$t("createNewDevice")}})],1),r("a-form-model",{ref:"newOtherProjectConfigForm",attrs:{"label-col":"CN"==e.lang?e.labelColNewOtherProject:e.labelColNewOtherProjectEn,"wrapper-col":"CN"==e.lang?e.wrapperColNewOtherProject:e.wrapperColNewOtherProjectEn,model:e.newOtherProjectConfigForm}},[r("a-row",{directives:[{name:"show",rawName:"v-show",value:1==e.newOtherProjectConfigForm.step,expression:"newOtherProjectConfigForm.step == 1"}]},[r("a-col",{attrs:{span:24}},[r("a-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",icon:"circle-check"},on:{click:e.handleAddChannelChange}},[e._v(e._s(e.$t("add")))]),r("vxe-table",{ref:"protocolSettingDescList",staticStyle:{"margin-top":"10px"},attrs:{border:"",resizable:"","auto-resize":"","sync-resize":"","show-overflow":"",size:"small","highlight-current-row":"","highlight-hover-row":"","max-height":"400",data:e.newOtherProjectConfigForm.dataList,"empty-text":e.$t("noData")}},[r("vxe-column",{attrs:{field:"chl_name",title:e.$t("channelName"),align:"center","show-overflow":"",width:"200",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterChannelName")},on:{blur:function(a){return e.handleChannelNameBlur(t.row.chl_name)}},model:{value:t.row.chl_name,callback:function(a){e.$set(t.row,"chl_name","string"==typeof a?a.trim():a)},expression:"scope.row.chl_name"}})]}}])}),r("vxe-column",{attrs:{field:"chl_addr",title:e.$t("channelAddress"),align:"center","show-overflow":"",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterChannelAddress")},model:{value:t.row.chl_addr,callback:function(a){e.$set(t.row,"chl_addr","string"==typeof a?a.trim():a)},expression:"scope.row.chl_addr"}})]}}])}),r("vxe-column",{attrs:{field:"protocol",title:e.$t("channelProtocol"),align:"center","show-overflow":"",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row,o=t.rowIndex;return[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseSelectChannelProtocol"),"option-filter-prop":"children","filter-option":e.filterOption},on:{change:function(t){return e.handeleChannelProtocol(o)}},model:{value:a.protocol,callback:function(t){e.$set(a,"protocol",t)},expression:"row.protocol"}},e._l(e.protocolList,(function(t,a){return r("a-select-option",{key:a,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)]}}])}),r("vxe-column",{attrs:{field:"chl_main_param",title:e.$t("channelParameters"),align:"center","show-overflow":"",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row,o=t.rowIndex;return[a.chl_main_param?r("div",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.handleChlmainparamChange(a,o)}}},[e._v(e._s(e.formatterOtherChlMaster(a.chl_main_param)||"未配置通道参数"))]):r("div",[e._v(e._s(e.$t("channelParametersNotConfigured")))])]}}])}),r("vxe-column",{attrs:{field:"chlcoltfrq",title:e.$t("interactionFrequencyMs"),align:"center","show-overflow":"",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a-input-number",{staticStyle:{width:"100%"},attrs:{formatter:e.formatterAddcontent},model:{value:t.row.chlcoltfrq,callback:function(a){e.$set(t.row,"chlcoltfrq",a)},expression:"scope.row.chlcoltfrq"}})]}}])}),r("vxe-column",{attrs:{field:"chlcoltfrmstopms",title:e.$t("frameIntervalMs"),align:"center","show-overflow":"",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a-input-number",{staticStyle:{width:"100%"},attrs:{formatter:e.formatterAddcontent},model:{value:t.row.chlcoltfrmstopms,callback:function(a){e.$set(t.row,"chlcoltfrmstopms",a)},expression:"scope.row.chlcoltfrmstopms"}})]}}])}),r("vxe-column",{attrs:{title:e.$t("option"),width:"200",align:"center","show-overflow":"",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row,o=t.rowIndex;return[r("a",{on:{click:function(t){return e.handleDeleteChannelChange(a,o)}}},[e._v(e._s(e.$t("delete")))])]}}])})],1)],1)],1),r("a-row",{directives:[{name:"show",rawName:"v-show",value:2==e.newOtherProjectConfigForm.step,expression:"newOtherProjectConfigForm.step == 2"}]},[r("a-col",{attrs:{span:24}},[r("a-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",icon:"circle-check"},on:{click:e.handleAddDeviceChange}},[e._v("添加")]),r("vxe-table",{ref:"protocolSettingDescList",staticStyle:{"margin-top":"10px"},attrs:{border:"",resizable:"","auto-resize":"","sync-resize":"","show-overflow":"",size:"small","highlight-current-row":"","highlight-hover-row":"","max-height":"400",data:e.newOtherProjectConfigForm.devList,"empty-text":e.$t("noData")}},[r("vxe-column",{attrs:{field:"channel",title:e.$t("belongingChannel"),align:"center","show-overflow":"",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseSelectTheChannelYouBelongTo"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:t.row.channel,callback:function(a){e.$set(t.row,"channel",a)},expression:"scope.row.channel"}},e._l(e.channelList,(function(t,a){return r("a-select-option",{key:a,attrs:{value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),1)]}}])}),r("vxe-column",{attrs:{field:"dev_name",title:e.$t("deviceName"),align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterDevicename")},model:{value:t.row.dev_name,callback:function(a){e.$set(t.row,"dev_name","string"==typeof a?a.trim():a)},expression:"scope.row.dev_name"}})]}}])}),r("vxe-column",{attrs:{field:"dev_addr",title:e.$t("deviceAddress"),align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterTheDeviceAddress")},model:{value:t.row.dev_addr,callback:function(a){e.$set(t.row,"dev_addr","string"==typeof a?a.trim():a)},expression:"scope.row.dev_addr"}})]}}])}),r("vxe-column",{attrs:{field:"template",title:e.$t("currentTemplateName"),align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v(e._s(t.row.template||e.$t("templateNotUploaded")))])]}}])}),r("vxe-column",{attrs:{title:e.$t("option"),width:"200",align:"center","show-overflow":"",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row,o=t.rowIndex;return[r("a-upload",{ref:"uploadTagFileRef",attrs:{name:"file",accept:".xls",file:e.newOtherProjectFileList,showUploadList:!1,multiple:!1,action:"",openFileDialogOnClick:e.openFileDialogOnClickStatus,customRequest:e.handleUploadTagFileChange,"before-upload":e.beforeUploadTagFile}},[r("a",{ref:"uploadTagTemplateRef",on:{click:function(t){return e.handleUploadRowTagTemplate(o)}}},[e._v(e._s(e.$t("uploadPointTableTemplate")))])]),r("a-divider",{attrs:{type:"vertical"}}),r("a",{on:{click:function(t){return e.handleDeleteDeviceChange(a,o)}}},[e._v(e._s(e.$t("delete")))])]}}])})],1)],1),r("a-col",{staticStyle:{"margin-top":"10px","text-align":"right"},attrs:{span:24}},[r("a-checkbox",{model:{value:e.newOtherProjectConfigForm.effectiveImmediately,callback:function(t){e.$set(e.newOtherProjectConfigForm,"effectiveImmediately",t)},expression:"newOtherProjectConfigForm.effectiveImmediately"}},[e._v(" "+e._s(e.$t("effectiveImmediately"))+" ")])],1)],1),r("a-row",[r("a-col",{staticStyle:{"text-align":"right","margin-top":"20px"},attrs:{span:24}},[r("a-space",[r("a-button",{directives:[{name:"show",rawName:"v-show",value:1==e.newOtherProjectConfigForm.step,expression:"newOtherProjectConfigForm.step == 1"}],attrs:{type:"primary"},on:{click:e.handleAddOtherProjectNextChange}},[e._v(e._s(e.$t("nextStep")))]),r("a-button",{directives:[{name:"show",rawName:"v-show",value:2==e.newOtherProjectConfigForm.step,expression:"newOtherProjectConfigForm.step == 2"}],attrs:{type:"primary"},on:{click:e.handleAddOtherProjectPreviousChange}},[e._v(e._s(e.$t("previousStep")))]),r("a-button",{directives:[{name:"show",rawName:"v-show",value:2==e.newOtherProjectConfigForm.step,expression:"newOtherProjectConfigForm.step == 2"}],attrs:{type:"primary"},on:{click:e.handleCompleteOtherProjectChange}},[e._v(e._s(e.$t("complete")))]),r("a-button",{on:{click:e.handleNewOtherProjectCancel}},[e._v(e._s(e.$t("cancel")))])],1)],1)],1)],1)],1)],1),r("a-modal",{attrs:{width:1200,title:e.$t("channelParameters"),footer:null},on:{cancel:function(t){e.selectOtherProjectConfigVisible=!1}},model:{value:e.selectOtherProjectConfigVisible,callback:function(t){e.selectOtherProjectConfigVisible=t},expression:"selectOtherProjectConfigVisible"}},[r("a-form-model",{ref:"newOtherProjectConfigForm",attrs:{"label-col":"CN"==e.lang?e.labelColNewOtherProject:e.labelColNewOtherProjectEn,"wrapper-col":"CN"==e.lang?e.wrapperColNewOtherProject:e.wrapperColNewOtherProjectEn,model:e.newOtherProjectConfigForm}},[r("a-row",[e.selectOtherProjectConfigForm.isIp?[r("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12}},[r("a-form-model-item",{attrs:{label:e.$t("role"),prop:"role"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseSelectRole"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:e.selectOtherProjectConfigForm.role,callback:function(t){e.$set(e.selectOtherProjectConfigForm,"role",t)},expression:"selectOtherProjectConfigForm.role"}},e._l(e.roleList,(function(t,a){return r("a-select-option",{key:a,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),r("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12}},[r("a-form-model-item",{attrs:{label:e.$t("ipAddress"),prop:"ip_addr"}},[r("a-input",{attrs:{placeholder:e.$t("pleaseEnterIpAddress")},model:{value:e.selectOtherProjectConfigForm.ip_addr,callback:function(t){e.$set(e.selectOtherProjectConfigForm,"ip_addr","string"==typeof t?t.trim():t)},expression:"selectOtherProjectConfigForm.ip_addr"}})],1)],1),r("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12}},[r("a-form-model-item",{attrs:{label:e.$t("port"),prop:"port"}},[r("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1,max:65535,formatter:e.formatterAddcontent},model:{value:e.selectOtherProjectConfigForm.port,callback:function(t){e.$set(e.selectOtherProjectConfigForm,"port",t)},expression:"selectOtherProjectConfigForm.port"}})],1)],1)]:[r("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12}},[r("a-form-model-item",{attrs:{label:e.$t("serialPortName"),prop:"com_name"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseSelectSerialPortName"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:e.selectOtherProjectConfigForm.com_name,callback:function(t){e.$set(e.selectOtherProjectConfigForm,"com_name",t)},expression:"selectOtherProjectConfigForm.com_name"}},e._l(e.selectOtherProjectConfigFormComList,(function(t){return r("a-select-option",{key:t.value,attrs:{label:t.label,value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),r("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12}},[r("a-form-model-item",{attrs:{label:e.$t("baudRate"),prop:"baud"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseChoose"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:e.selectOtherProjectConfigForm.baud,callback:function(t){e.$set(e.selectOtherProjectConfigForm,"baud",t)},expression:"selectOtherProjectConfigForm.baud"}},e._l(e.baudList,(function(t){return r("a-select-option",{key:t.value,attrs:{label:t.name,value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1),r("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12}},[r("a-form-model-item",{attrs:{label:e.$t("dataBit"),prop:"data_bit"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseChoose"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:e.selectOtherProjectConfigForm.data_bit,callback:function(t){e.$set(e.selectOtherProjectConfigForm,"data_bit",t)},expression:"selectOtherProjectConfigForm.data_bit"}},e._l(e.data_bitList,(function(t){return r("a-select-option",{key:t.value,attrs:{label:t.label,value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),r("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12}},[r("a-form-model-item",{attrs:{label:e.$t("stopBit"),prop:"stop_bit"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseChoose"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:e.selectOtherProjectConfigForm.stop_bit,callback:function(t){e.$set(e.selectOtherProjectConfigForm,"stop_bit",t)},expression:"selectOtherProjectConfigForm.stop_bit"}},e._l(e.stopbitList,(function(t){return r("a-select-option",{key:t.value,attrs:{label:t.label,value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)],1),r("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12}},[r("a-form-model-item",{attrs:{label:e.$t("checkBit"),prop:"check_bit"}},[r("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseChoose"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:e.selectOtherProjectConfigForm.check_bit,callback:function(t){e.$set(e.selectOtherProjectConfigForm,"check_bit",t)},expression:"selectOtherProjectConfigForm.check_bit"}},e._l(e.checkwayList,(function(t){return r("a-select-option",{key:t.value,attrs:{label:t.name,value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1)],r("a-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12}},[r("a-form-model-item",{attrs:{label:e.$t("timeouMs"),prop:"timeout"}},[r("a-input-number",{staticStyle:{width:"100%"},attrs:{formatter:e.formatterAddcontent},model:{value:e.selectOtherProjectConfigForm.timeout,callback:function(t){e.$set(e.selectOtherProjectConfigForm,"timeout",t)},expression:"selectOtherProjectConfigForm.timeout"}})],1)],1)],2),r("a-row",[r("a-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24,xxl:24}},[r("a-form-model-item",{staticStyle:{"margin-top":"24px","text-align":"right"},attrs:{wrapperCol:{offset:2,span:22}}},[r("a-space",[r("a-button",{on:{click:e.handleSelectOtherProjectConfigCancelChange}},[e._v(e._s(e.$t("cancel")))]),r("a-button",{attrs:{type:"primary"},on:{click:e.handleSelectOtherProjectConfigConfirmChange}},[e._v(e._s(e.$t("confirm")))])],1)],1)],1)],1)],1)],1),r("a-modal",{attrs:{title:e.$t("selectDevice"),bodyStyle:{maxHeight:"600px",overflow:"auto"}},on:{cancel:e.handleSelectChannelAndDevCancelChange,ok:e.handleSelectChannelAndDevConfirmChange},model:{value:e.channelAndDevVisible,callback:function(t){e.channelAndDevVisible=t},expression:"channelAndDevVisible"}},[r("a-tree",{attrs:{defaultExpandAll:"",checkable:"","tree-data":e.channelAndDevTreeData},on:{check:e.handleChannelAndDevSelectChange},model:{value:e.checkedChannelAndDevKeys,callback:function(t){e.checkedChannelAndDevKeys=t},expression:"checkedChannelAndDevKeys"}})],1)],1)}),[],!1,null,"3b8ba8c4",null).exports;t.default=u},"1c86":function(e,t,a){},4481:function(e,t,a){"use strict";var r=a("1c86");a.n(r).a},"498a":function(e,t,a){"use strict";var r=a("23e7"),o=a("58a8").trim;r({target:"String",proto:!0,forced:a("c8d2")("trim")},{trim:function(){return o(this)}})},a87f:function(e,t,a){var r,o,n=a("9523");e.exports={messages:{CN:(r={protocol:"协议类型",pleaseSelectedProtocol:"请选择协议类型",protocolName:"协议名称",parity:"校验方式",pleaseSelectedParity:"请选择校验方式",baudRate:"波特率",pleaseSelectedBaudRate:"请选择波特率",startAddress:"起始地址",pleaseEnterStartAddress:"请输入起始地址(1-247)",endAddress:"终止地址",pleaseEnterEndAddress:"请输入终止地址(1-247)",submit:"提交",nightCommSettings:"夜间通信设置",nightSilent:"夜间静默",pleaseSelectedNightSilentSettings:"请选择夜间静默",enterTime:"进入时间",exitTime:"退出时间",wakeupPeriod:"唤醒周期",pleaseEnterWakeupPeriod:"请输入唤醒周期(30-1440)",enable:"使能",disabled:"禁能",none:"无校验",oddParity:"奇校验",evenParity:"偶校验",channelList:"通道列表",search:"查询",channelID:"通道ID",channelName:"通道名称",pleaseEnterChannelName:"请输入通道名称",channelAddress:"通道地址",pleaseEnterChannelAddress:"请输入通道地址",channelType:"通道类型",pleaseSelectChannelType:"请选择通道类型",mainChannelParameters:"主通道参数",pleaseEnterMainChannelParameters:"请输入主通道参数",interactionFrequency:"交互频率",pleaseEnterInteractionFrequency:"请输入交互频率",frameInterval:"每帧间隔",pleaseEnterIntervalBetweenEachFrame:"请输入每帧间隔",channelValidity:"通道有效性",channelDesc:"通道描述",pleaseEnterChannelDesc:"请输入通道描述",yes:"是",no:"否",internalPassage:"内部通道",acquisitionChannel:"采集通道",forwardingChannel:"转发通道",option:"操作",update:"修改",delete:"删除",channelMonitoring:"通道监测",deviceManagement:"设备管理",protocolFratureConfigChannel:"规约特征配置(通道：",protocolFratureConfigProtocol:"协议：",restoreDefaultSettings:"还原默认设置",serialNumber:"编号",parameterDescription:"参数描述",parameterType:"参数类型",hexadecimal:"十六进制",decimal:"十进制",string:"字符串",pleaseChoose:"请选择",parameterValue:"参数值",confirm:"确定",cancel:"取消",newProjectWizard:"新建工程向导",projectType:"工程类型",photovoltaicEngineering:"光伏工程",otherProjects:"其它工程",pointTableTemplate:"点表模板",previousStep:"上一步",nextStep:"下一步",manuallyEnterQuantity:"手动",quantity:"数量",pleaseEnterQuantity:"请输入数量",deviceStartingCommunicationAddress:"设备起始通讯地址",pleaseEnterInitialCommunicationAddressOfDevice:"请输入设备起始通讯地址",deviceAddressAutoIncrements:"设备地址自动递增",forward:"转发",complete:"完成",pleaseSelectDeviceInformation:"请选择设备信息",pleaseSelectForwardingProtocol:"请选择转发协议",pleaseCompleteCheckNumberOfDevicesSerialPort:"请补全勾选串口中的设备数量",pleaseCompleteCheckNumberOfDevicesSerialPortAndAddressOfDevices:"请补全勾选串口中的设备数量以及设备起始通讯地址",pleaseEnterTimeInterval:"请输入时间间隔",startSearch:"开始搜索",stopSearch:"停止搜索",second:"秒",forwardingManagement:"转发管理",addType:"添加类型",pleaseSelectPointTableTemplate:"请选择点表模板",deviceList:"设备列表",standby:"待机",run:"运行",fault:"故障",communicationInterruption:"通讯中断",offline:"离线",unknown:"未知",add:"添加",unSelectAll:"全不选",selectAll:"全选",selectPointTableTemplate:"选择点表模板",performOperation:"执行此操作, 则该串口下选中的的设备点表模板批量相同.",tower:"台",effectiveImmediately:"完成后工程立即生效",overview:"总览",logicalAddr:"逻辑地址",pleaseEnterLogicalAddress:"请输入逻辑地址",autoSearch:"自动搜索",communicationDirection:"通讯方向",reserve0:"保留0",pleaseEnterReserve0:"请输入保留0",ipDomainName:"IP/域名",pleaseEnterIPDomainName:"请输入IP/域名",ipDomainNameFormatError:"IP/域名格式错误",reserve1:"保留1",pleaseEnterReserve1:"请输入保留1",portNumber:"端口号",pleaseEnterPortNumber:"请输入端口号",reserve2:"保留2",pleaseEnterReserve2:"请输入保留2",timeout:"超时(ms)",pleaseEnterTimeout:"请输入超时",reserve3:"保留3",pleaseEnterReserve3:"请输入保留3",serialPortName:"串口名称",pleaseSelectSerialPortName:"请选择串口名称",dataBit:"数据位",pleaseSelectDataBit:"请选择数据位",stopBit:"停止位",pleaseSelectStopBit:"请选择停止位",checkBit:"校验位",pleaseSelectCheckBit:"请选择校验位",activeConnection:"主动连接(客户端)",waitingForAccess:"等待接入(服务端)",channelAddressCannotBeEmpty:"通道地址不能为空",pleaseEnterIntNumber:"请输入数字",enterCorrectPort:"请输入正确的端口号",addDevice:"添加第三方采集设备",createOtherProjects:"新建其他工程",createNewChannel:"新建通道",createNewDevice:"新建设备",channelParameters:"通道参数",channelParametersNotConfigured:"未配置通道参数",interactionFrequencyMs:"交互频率(ms)",frameIntervalMs:"帧间隔(ms)",downloadPointTableTemplate:"下载点表模板",belongingChannel:"所属通道",pleaseSelectTheChannelYouBelongTo:"请选择所属通道",deviceName:"设备名称",pleaseEnterDevicename:"请输入设备名称",deviceAddress:"设备地址",pleaseEnterTheDeviceAddress:"请输入设备地址",currentTemplateName:"当前模板名称",templateNotUploaded:"未上传模板",uploadPointTableTemplate:"上传点表模板",role:"角色",pleaseSelectRole:"请选择角色",ipAddress:"IP地址",pleaseEnterIpAddress:"请输入IP地址",port:"端口",timeouMs:"超时时间(ms)",selectDevice:"选择设备",pleaseSelectProtocolBeforeDownloading:"请先选择协议再进行下载",pleaseConfigureChannelInformationFirst:"请先配置通道信息",duplicateChannelNames:"通道名称不允许重复，请先删除重复的通道名称",channelNameCannotBeEmpty:"通道名称不能为空"},n(r,"channelAddressCannotBeEmpty","通道地址不能为空"),n(r,"channelProtocolCannotBeEmpty","通道协议不能为空"),n(r,"interactionFrequencyCannotBeEmpty","交互频率(ms)不能为空"),n(r,"frameIntervalCannotBeEmpty","帧间隔(ms)不能为空"),n(r,"channel","通道"),n(r,"templateNotDownloaded","未下载模板"),n(r,"hint","提示"),n(r,"wantToDeleteChannel","确定要删除该通道吗？"),n(r,"wantToDeleteDevice","确定要删除该设备吗？"),n(r,"channelbelongsCannoBeEmpty","所属通道不能为空"),n(r,"deviceNameCannotBeEmpty","设备名称不能为空"),n(r,"deviceAddressCannotBeEmpty","设备地址不能为空"),n(r,"uploadedFileWrong","上传文件格式错误、请上传xls文件"),n(r,"uploadFailed","上传失败"),n(r,"deviceSelectionCannotBeEmpty","设备选择不能为空"),n(r,"deviceListCannotBeEmpty","设备列表不能为空"),n(r,"templateCannotBeEmpty","模板不能为空"),n(r,"channelProtocol","通道协议"),n(r,"pleaseSelectChannelProtocol","请选择通道协议"),n(r,"pleaseEnterTheCorrectIPAddress","请输入正确的IP地址"),n(r,"noData","暂无数据"),n(r,"downloadSuccessful","下载成功"),n(r,"chlNamenoCom",'通道名称不能以 "com" 开头'),n(r,"opertionError","操作失败"),n(r,"success","成功"),r),US:(o={protocol:"Protocol",pleaseSelectedProtocol:"Please select protocol",protocolName:"Protocol name",parity:"Parity",pleaseSelectedParity:"Please select parity",baudRate:"Baud rate",pleaseSelectedBaudRate:"Please select Baud rate",startAddress:"Start address",pleaseEnterStartAddress:"Please Enter Start Address (1-247)",endAddress:"End address",pleaseEnterEndAddress:"Please Enter End Address(1-247)",submit:"Submit",nightCommSettings:"Night Comm. Settings",nightSilent:"Night silent",pleaseSelectedNightSilentSettings:"Please Selected Night SilentSettings",enterTime:"Enter time",exitTime:"Exit time",wakeupPeriod:"Wakeup period",pleaseEnterWakeupPeriod:"Please Enter Wakeup Period",enable:"Enable",disabled:"Disabled",none:"None",oddParity:"Odd Parity",evenParity:"Even Parity",channelList:"Channel List",search:"Search",channelID:"Channel ID",channelName:"Channel name",pleaseEnterChannelName:"Please enter channel name",channelAddress:"Channel address",pleaseEnterChannelAddress:"Please enter the channel address",channelType:"Channel type",pleaseSelectChannelType:"Please select channel type",mainChannelParameters:"Main channel parameters",pleaseEnterMainChannelParameters:"Please enter the main channel parameters",interactionFrequency:"Interaction frequency",pleaseEnterInteractionFrequency:"Please enter interaction frequency",frameInterval:"Frame interval",pleaseEnterIntervalBetweenEachFrame:"Please enter the interval between each frame",channelValidity:"Channel validity",channelDesc:"Channel descesription",pleaseEnterChannelDesc:"Please enter channel description",yes:"Yes",no:"No",internalPassage:"Internal passage",acquisitionChannel:"Acquisition channel",forwardingChannel:"Forwarding channel",option:"Option",update:"Update",delete:"Delete",channelMonitoring:"Channel monitoring",deviceManagement:"Device management",protocolFratureConfigChannel:"Protocol feature configuration (channel:",protocolFratureConfigProtocol:"protocol:",restoreDefaultSettings:"Restore default settings",serialNumber:"Serial number",parameterDescription:"Parameter Description",parameterType:"Parameter Type",hexadecimal:"Hexadecimal",decimal:"Decimal",string:"String",pleaseChoose:"Please choose",parameterValue:"Parameter value",confirm:"Confirm",cancel:"Cancel",newProjectWizard:"New Project Wizard",projectType:"Project type",photovoltaicEngineering:"Photovoltaic engineering",otherProjects:"Other projects",pointTableTemplate:"Point table template",previousStep:"Previous step",nextStep:"Next step",manuallyEnterQuantity:"Manually",quantity:"Quantity",pleaseEnterQuantity:"Please enter quantity",deviceStartingCommunicationAddress:"Communication address",pleaseEnterInitialCommunicationAddressOfDevice:"Please enter the initial communication address of the device",deviceAddressAutoIncrements:"Device address auto-increments",forward:"Forward",complete:"Complete",pleaseSelectDeviceInformation:"Please select device information",pleaseSelectForwardingProtocol:"Please select a forwarding protocol",pleaseCompleteCheckNumberOfDevicesSerialPort:"Please complete the check box to check the number of devices in the serial port.",pleaseCompleteCheckNumberOfDevicesSerialPortAndAddressOfDevices:"Please complete and check the number of devices in the serial port and the starting communication address of the device",pleaseEnterTimeInterval:"Please enter the time interval",startSearch:"Start search",stopSearch:"Stop search",second:"Second",forwardingManagement:"Forwarding management",addType:"Add type",pleaseSelectPointTableTemplate:"Please select a point table template",deviceList:"Device list",standby:"Standby",run:"Run",fault:"Fault",communicationInterruption:"Communication interruption",offline:"Offline",unknown:"Unknown",add:"Add",unSelectAll:"Unselect all",selectAll:"Select all",selectPointTableTemplate:"Select point table template",performOperation:"If you perform this operation, the device point table templates selected under the serial port will be the same in batches.",tower:"Tower",effectiveImmediately:"The project will take effect immediately upon completion",overview:"Overview",logicalAddr:"Logical Addr",pleaseEnterLogicalAddress:"Please enter logical address",autoSearch:"Auto Search",communicationDirection:"Communication direction",reserve0:"Reserve0",pleaseEnterReserve0:"Please enter reserve0",ipDomainName:"IP/domain name",pleaseEnterIPDomainName:"Please enter IP/domain name",ipDomainNameFormatError:"IP/domain name format error",reserve1:"Reserve1",pleaseEnterReserve1:"Please enter reserve1",portNumber:"Port number",pleaseEnterPortNumber:"Please enter the port number",reserve2:"Reserve2",pleaseEnterReserve2:"Please enter reserve2",timeout:"Timeout(ms)",pleaseEnterTimeout:"Please enter the timeout",reserve3:"Reserve3",pleaseEnterReserve3:"Please enter reserve3",serialPortName:"Serial port name",pleaseSelectSerialPortName:"Please select the serial port name",dataBit:"Data bit",pleaseSelectDataBit:"Please select data bit",stopBit:"Stop bit",pleaseSelectStopBit:"Please select stop bit",checkBit:"Check bit",pleaseSelectCheckBit:"Please select check bit",activeConnection:"Active connection (client)",waitingForAccess:"Waiting for access (server)",channelAddressCannotBeEmpty:"Channel address cannot be empty",pleaseEnterIntNumber:"Please enter the number",enterCorrectPort:"Please enter the correct port number",addDevice:"Add third-party collection devices",createOtherProjects:"Create other projects",createNewChannel:"Create new channel",createNewDevice:"New device",channelParameters:"Channel parameters",channelParametersNotConfigured:"Channel parameters not configured",interactionFrequencyMs:"Interaction frequency (ms)",frameIntervalMs:"Frame interval (ms)",downloadPointTableTemplate:"Download point table template",belongingChannel:"Belonging channel",pleaseSelectTheChannelYouBelongTo:"Please select the channel you belong to",deviceName:"Device name",pleaseEnterDevicename:"Please enter device name",deviceAddress:"Device address",pleaseEnterTheDeviceAddress:"Please enter the device address",currentTemplateName:"Current template name",templateNotUploaded:"Template not uploaded",uploadPointTableTemplate:"Upload point table template",role:"Role",pleaseSelectRole:"Please select a role",ipAddress:"IP address",pleaseEnterIpAddress:"Please enter IP address",port:"Port",timeouMs:"Timeout (ms)",selectDevice:"Select device",pleaseSelectProtocolBeforeDownloading:"Please select the protocol before downloading",pleaseConfigureChannelInformationFirst:"Please configure channel information first",duplicateChannelNames:"Duplicate channel names are not allowed, please delete duplicate channel names first",channelNameCannotBeEmpty:"Channel name cannot be empty"},n(o,"channelAddressCannotBeEmpty","Channel address cannot be empty"),n(o,"channelProtocolCannotBeEmpty","Channel protocol cannot be empty"),n(o,"interactionFrequencyCannotBeEmpty","Interaction frequency (ms) cannot be empty"),n(o,"frameIntervalCannotBeEmpty","Frame interval (ms) cannot be empty"),n(o,"channel","Channel"),n(o,"templateNotDownloaded","Template not downloaded"),n(o,"hint","Hint"),n(o,"wantToDeleteChannel","Are you sure you want to delete this channel?"),n(o,"wantToDeleteDevice","Are you sure you want to delete this device?"),n(o,"channelbelongsCannoBeEmpty","The channel it belongs to cannot be empty"),n(o,"deviceNameCannotBeEmpty","Device name cannot be empty"),n(o,"deviceAddressCannotBeEmpty","Device address cannot be empty"),n(o,"uploadedFileWrong","The format of the uploaded file is wrong, please upload xls file"),n(o,"uploadFailed","Upload failed"),n(o,"deviceSelectionCannotBeEmpty","Device selection cannot be empty"),n(o,"deviceListCannotBeEmpty","Device list cannot be empty"),n(o,"templateCannotBeEmpty","Template cannot be empty"),n(o,"channelProtocol","Channel protocol"),n(o,"pleaseSelectChannelProtocol","Please select channel protocol"),n(o,"pleaseEnterTheCorrectIPAddress","Please enter the correct IP address"),n(o,"noData","No data"),n(o,"downloadSuccessful","Download successful"),n(o,"chlNamenoCom",'Channel name cannot start with "com"'),n(o,"opertionError","Operation failed"),n(o,"success","Success"),o)}}},c8d2:function(e,t,a){var r=a("d039"),o=a("5899");e.exports=function(e){return r((function(){return!!o[e]()||"​᠎"!="​᠎"[e]()||o[e].name!==e}))}},e5b2:function(e,t,a){e.exports=a.p+"assets/same.b8b52ce4.png"}}]);