const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/juhe-CHU9jEk4.js","assets/index-CddQmI-c.js","assets/index-D4hT4IQ7.css"])))=>i.map(i=>d[i]);
import{R as Ge,b as D,o as v,e as p,d as _e,s as b,i as Re,c as H,a2 as $e,w as m,f as t,a_ as Z,aO as ee,_ as Ye,a7 as ze,t as F,W as Ce,aI as De,at as me,aE as Ve,B as Je,g as y,a$ as c,z as Ke,Y as Xe,a as pe,D as Ae,aR as ke,b0 as Qe,a1 as Ze,J as et,G as ie,aB as tt,h as be,aL as at,b2 as nt,b3 as ot,b4 as st,a3 as lt,ay as rt,$ as it,aN as ut,aA as dt,aD as ct,aS as pt}from"./index-CddQmI-c.js";import{_ as mt,u as Be,a as ft,i as vt,r as gt,p as _t,b as yt,c as ht}from"./juhe-CHU9jEk4.js";import{f as Oe,a as Fe,b as bt,c as Le,d as xt,e as wt}from"./home-DxOiQsRM.js";import{_ as Me,a as Ne}from"./Grid-CG_YWdVR.js";import{p as jt}from"./business-C7uYL7a-.js";import{u as kt}from"./usePageData-BKzmIEAP.js";import{_ as Ct}from"./RadioButton-Dnz1Sa4x.js";import{_ as Dt}from"./DatePicker-D516kcb4.js";const Tt={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"};function Et(te,x){return v(),D("svg",Tt,x[0]||(x[0]=[p("path",{fill:"currentColor",d:"M19 6a1 1 0 0 0-1 1v4a1 1 0 0 1-1 1H7.41l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0-.21.33a1 1 0 0 0 0 .76a1 1 0 0 0 .21.33l3 3a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.42L7.41 14H17a3 3 0 0 0 3-3V7a1 1 0 0 0-1-1"},null,-1)]))}const St=Ge({name:"uil-enter",render:Et}),Pt={class:"item"},zt={class:"flex items-center"},At={class:"text-16px",style:{"font-weight":"bold"}},Lt=_e({name:"CardData",__name:"card-data",setup(te){const x=b([{key:"project",title:"é¡¹ç›®æ€»æ•°",value:0,icon:"xiangmu"},{key:"contract",title:"åˆåŒæ€»æ•°",value:0,icon:"hetong"},{key:"debug",title:"è°ƒè¯•æ€»æ•°",value:0,icon:"tiaoshi"}]),R=async()=>{const{data:P,error:j}=await Oe();j||(x.value[0].value=P.project.projects,x.value[1].value=P.project.contracts)},$=async()=>{const{data:P,error:j}=await Fe();j||(x.value[2].value=P.debugs)};return Re(()=>{R(),$()}),(P,j)=>{const d=Ye,w=mt,l=Ne,g=Me,r=$e;return v(),H(r,{bordered:!1,size:"small",class:"card-wrapper","content-style":{padding:"0px 0px"}},{default:m(()=>[t(g,{cols:"1 s:1 m:1 l:1 xl:3",responsive:"screen",class:"gridCss"},{default:m(()=>[(v(!0),D(ee,null,Z(x.value,(A,z)=>(v(),H(l,{key:A.key},{default:m(()=>[p("div",Pt,[p("div",zt,[t(d,{"local-icon":A.icon,class:"font-size-28px mr-5px",style:ze({color:z==0?"#00ff85":z==1?"#00eaff":"#ffdd00"})},null,8,["local-icon","style"]),p("h3",At,F(A.title),1)]),t(w,{"start-value":1,"end-value":A.value,style:ze([{color:z==0?"#00ff85":z==1?"#00eaff":"#ffdd00"},{"font-family":"dsdigits","font-weight":"bolder"}]),class:"text-28px dark:text-dark text-center"},null,8,["end-value","style"])])]),_:2},1024))),128))]),_:1})]),_:1})}}}),It=Ce(Lt,[["__scopeId","data-v-ed9b6f55"]]),Ie=_e({name:"SimplePieChart",__name:"pie-chart",props:{data:{},name:{}},setup(te){const x=te,R=De(),{domRef:$,updateOptions:P}=Be(()=>({tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},title:{text:"",top:"45%",textAlign:"center",left:"65%",textStyle:{fontSize:16,fontWeight:500}},legend:{orient:"vertical",left:"5%",top:"center",icon:"circle",itemWidth:10,itemHeight:10,formatter:function(d){const w=x.data.find(l=>l.name===d);return w?`${d} {valueStyle|${w.value||0}ä¸ª}`:d},textStyle:{rich:{valueStyle:{color:"#1890ff",fontWeight:"bold",fontSize:14}},fontSize:14}},series:[{type:"pie",radius:["75","80"],center:["65%","50%"],avoidLabelOverlap:!0,hideOverlap:!0,label:{show:!0,position:"inside",formatter:"{c}ä¸ª",fontSize:14},labelLine:{show:!0},data:[]}]}));function j(){P(d=>{const w=x.data||[],l=w.reduce((g,r)=>g+(r.value||0),0);return d.title.text=`${x.name??""}${l}`,d.series[0].data=w.map(g=>({name:g.name,value:g.value,itemStyle:{color:g.color,borderWidth:3,borderColor:g.color,shadowBlur:15,shadowColor:g.color}})),d.legend.data=w.map(g=>g.name),d})}return me(()=>x.data,j,{deep:!0}),me(()=>x.name,j),me(()=>R.locale,j),j(),(d,w)=>(v(),D("div",{ref_key:"domRef",ref:$,class:"h-260px w-full overflow-hidden"},null,512))}}),Rt=_e({name:"PieChart",__name:"pie-chart1",props:{data:{},name:{}},setup(te){const x=te,R=De(),$=["#fb923c","#94d82d","#9ca3af"],P=["#ef4444","#22c55e"],{domRef:j,updateOptions:d}=Be(()=>({tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},title:{text:"",top:"45%",textAlign:"center",left:"65%",textStyle:{fontSize:16,fontWeight:500}},legend:[{data:["ç°åœºè°ƒè¯•","è¿œç¨‹è°ƒè¯•","æ— éœ€è°ƒè¯•"],orient:"vertical",left:"5%",top:"25%",icon:"circle",itemWidth:10,itemHeight:10,formatter:function(g){const A=w.value.series[0].data.find(z=>z.name===g);return A?`${g} {valueStyle|${A.value||0}ä¸ª}`:g},textStyle:{rich:{valueStyle:{color:"#1890ff",fontWeight:"bold",fontSize:14}},fontSize:14}},{data:["å·²å»¶æœŸ","æ­£å¸¸"],orient:"vertical",left:"5%",top:"55%",icon:"circle",itemWidth:10,itemHeight:10,formatter:function(g){const A=w.value.series[1].data.find(z=>z.name===g);return A?`${g} {valueStyle|${A.value||0}ä¸ª}`:g},textStyle:{rich:{valueStyle:{color:"#1890ff",fontWeight:"bold",fontSize:14}},fontSize:14}}],series:[{color:$,type:"pie",radius:[75,80],center:["65%","50%"],avoidLabelOverlap:!0,label:{show:!0,position:"inside",formatter:"{c}ä¸ª",fontSize:14},labelLine:{show:!1},data:[]},{color:P,type:"pie",radius:[55,60],center:["65%","50%"],avoidLabelOverlap:!0,label:{show:!0,position:"inside",formatter:"{c}ä¸ª",fontSize:14},labelLine:{show:!1},data:[]}]})),w=b({});function l(){d(g=>{var le;const r=((le=x.data)==null?void 0:le.project)||{};g.title.text=`${x.name}${r.projects??""}`;const A=["ç°åœºè°ƒè¯•","è¿œç¨‹è°ƒè¯•","æ— éœ€è°ƒè¯•"];g.series[0].data=A.map((M,T)=>({name:M,value:r[`proDtype${T}`]||0,itemStyle:{borderWidth:5,shadowBlur:20,borderColor:$[T],shadowColor:$[T]}}));const z=["å·²å»¶æœŸ","æ­£å¸¸"],ue=["proPtype1","proPtype0"];return g.series[1].data=z.map((M,T)=>({name:M,value:r[ue[T]]||0,itemStyle:{borderWidth:5,shadowBlur:20,borderColor:P[T],shadowColor:P[T]}})),w.value=g,g})}return me(()=>x.data,l,{deep:!0}),me(()=>R.locale,l),l(),(g,r)=>(v(),D("div",{ref_key:"domRef",ref:j,class:"h-260px overflow-hidden"},null,512))}}),$t={class:"map-container"},Vt={class:"toolbar"},Bt={key:1},Ot=_e({__name:"trajectory_chart",props:{projectDistributionData:{},data:{},dates:{}},setup(te,{expose:x}){let R=te;const $=b("china"),P=b([]),j=b(null);let d=null;const w=b(),l=b("both"),g={åŒ—äº¬:"beijing",å¤©æ´¥:"tianjin",ä¸Šæµ·:"shanghai",é‡åº†:"chongqing",æ²³åŒ—:"hebei",å±±è¥¿:"shanxi",å†…è’™å¤:"neimenggu",è¾½å®:"liaoning",å‰æ—:"jilin",é»‘é¾™æ±Ÿ:"heilongjiang",æ±Ÿè‹:"jiangsu",æµ™æ±Ÿ:"zhejiang",å®‰å¾½:"anhui",ç¦å»º:"fujian",æ±Ÿè¥¿:"jiangxi",å±±ä¸œ:"shandong",æ²³å—:"henan",æ¹–åŒ—:"hubei",æ¹–å—:"hunan",å¹¿ä¸œ:"guangdong",å¹¿è¥¿:"guangxi",æµ·å—:"hainan",å››å·:"sichuan",è´µå·:"guizhou",äº‘å—:"yunnan",è¥¿è—:"xizang",é™•è¥¿:"shanxi1",ç”˜è‚ƒ:"gansu",é’æµ·:"qinghai",å®å¤:"ningxia",æ–°ç–†:"xinjiang",é¦™æ¸¯:"hongkong",æ¾³é—¨:"macau",å°æ¹¾:"taiwan"};function r(s){return{åŒ—äº¬:[116.4074,39.9042],å¤©æ´¥:[117.2,39.1333],æ²³åŒ—:[114.5025,38.0455],å±±è¥¿:[112.549,37.857],å†…è’™å¤:[111.6708,40.8183],è¾½å®:[123.4291,41.7968],å‰æ—:[125.3245,43.8868],é»‘é¾™æ±Ÿ:[126.6424,45.756],ä¸Šæµ·:[121.4737,31.2304],æ±Ÿè‹:[118.7674,32.0415],æµ™æ±Ÿ:[120.1536,30.2875],å®‰å¾½:[117.283,31.8612],ç¦å»º:[119.3062,26.0753],æ±Ÿè¥¿:[115.8922,28.6765],å±±ä¸œ:[117.0009,36.6758],æ²³å—:[113.6654,34.757],æ¹–åŒ—:[114.2986,30.5844],æ¹–å—:[112.9823,28.1941],å¹¿ä¸œ:[113.2806,23.1252],å¹¿è¥¿:[108.32,22.824],æµ·å—:[110.3312,20.031],é‡åº†:[106.504,29.533],å››å·:[104.0657,30.6595],è´µå·:[106.7135,26.5783],äº‘å—:[102.7123,25.0406],è¥¿è—:[91.1175,29.6469],é™•è¥¿:[108.948,34.2632],ç”˜è‚ƒ:[103.8233,36.0586],é’æµ·:[101.7789,36.6232],å®å¤:[106.2782,38.4663],æ–°ç–†:[87.6177,43.7928],å°æ¹¾:[121.5091,25.044],é¦™æ¸¯:[114.1734,22.3206],æ¾³é—¨:[113.5491,22.1987]}[s]||null}function A(s){const o=ht.find(u=>u.city===s);return o?[o.lng,o.lat]:null}async function z(){j.value&&(d=vt(j.value),await de("china"),window.addEventListener("resize",()=>d==null?void 0:d.resize()))}async function ue(s){try{return(await yt(Object.assign({"../../../assets/map/anhui.json":()=>c(()=>import("./anhui-itXsmiYb.js"),[]),"../../../assets/map/aomen.json":()=>c(()=>import("./aomen-CvhUKNbQ.js"),[]),"../../../assets/map/beijing.json":()=>c(()=>import("./beijing-BY449fIP.js"),[]),"../../../assets/map/china.json":()=>c(()=>import("./china-VoTTtmff.js"),[]),"../../../assets/map/chongqing.json":()=>c(()=>import("./chongqing-CQxENMLR.js"),[]),"../../../assets/map/city.json":()=>c(()=>import("./juhe-CHU9jEk4.js").then(u=>u.d),__vite__mapDeps([0,1,2])),"../../../assets/map/fujian.json":()=>c(()=>import("./fujian-DMjqeJN6.js"),[]),"../../../assets/map/gansu.json":()=>c(()=>import("./gansu-CRFNUfIK.js"),[]),"../../../assets/map/guangdong.json":()=>c(()=>import("./guangdong-DrCxObPG.js"),[]),"../../../assets/map/guangxi.json":()=>c(()=>import("./guangxi-BpEUbHdK.js"),[]),"../../../assets/map/guizhou.json":()=>c(()=>import("./guizhou-BY1JCp8Q.js"),[]),"../../../assets/map/hainan.json":()=>c(()=>import("./hainan-D2Sf7JTA.js"),[]),"../../../assets/map/hebei.json":()=>c(()=>import("./hebei-DTrnS0O1.js"),[]),"../../../assets/map/heilongjiang.json":()=>c(()=>import("./heilongjiang-DAACJd-E.js"),[]),"../../../assets/map/henan.json":()=>c(()=>import("./henan-DIkIePKJ.js"),[]),"../../../assets/map/hubei.json":()=>c(()=>import("./hubei-Bwnp1LoM.js"),[]),"../../../assets/map/hunan.json":()=>c(()=>import("./hunan-JCtVINy3.js"),[]),"../../../assets/map/jiangsu.json":()=>c(()=>import("./jiangsu-CLS7jcCc.js"),[]),"../../../assets/map/jiangxi.json":()=>c(()=>import("./jiangxi-CNAW8yFe.js"),[]),"../../../assets/map/jilin.json":()=>c(()=>import("./jilin-Bi5EpTmL.js"),[]),"../../../assets/map/liaoning.json":()=>c(()=>import("./liaoning-Do0e7YUX.js"),[]),"../../../assets/map/neimenggu.json":()=>c(()=>import("./neimenggu-CFQ1EPad.js"),[]),"../../../assets/map/ningxia.json":()=>c(()=>import("./ningxia-Bd5m21w_.js"),[]),"../../../assets/map/qinghai.json":()=>c(()=>import("./qinghai-DZmk70v-.js"),[]),"../../../assets/map/shandong.json":()=>c(()=>import("./shandong-CSwMvLbR.js"),[]),"../../../assets/map/shanghai.json":()=>c(()=>import("./shanghai-Dcy8PZ0o.js"),[]),"../../../assets/map/shanxi.json":()=>c(()=>import("./shanxi-6IIkp01T.js"),[]),"../../../assets/map/shanxi1.json":()=>c(()=>import("./shanxi1-CYyZbQBJ.js"),[]),"../../../assets/map/sichuan.json":()=>c(()=>import("./sichuan-DbWrPnDk.js"),[]),"../../../assets/map/taiwan.json":()=>c(()=>import("./taiwan-5IN91H0y.js"),[]),"../../../assets/map/tianjin.json":()=>c(()=>import("./tianjin-DmXrewkB.js"),[]),"../../../assets/map/xianggang.json":()=>c(()=>import("./xianggang-CCDY8cPS.js"),[]),"../../../assets/map/xinjiang.json":()=>c(()=>import("./xinjiang-CTJGzQIj.js"),[]),"../../../assets/map/xizang.json":()=>c(()=>import("./xizang-DdTsLb_A.js"),[]),"../../../assets/map/yunnan.json":()=>c(()=>import("./yunnan-CVzIswEy.js"),[]),"../../../assets/map/zhejiang.json":()=>c(()=>import("./zhejiang-1lSaxhlD.js"),[])}),`../../../assets/map/${s}.json`,6)).default}catch{return console.warn("åœ°å›¾ä¸å­˜åœ¨ï¼š",s),null}}function le(s){const o=s.features.flatMap(_=>_.geometry.coordinates.flat(2)),u=o.filter((_,C)=>C%2===0),f=o.filter((_,C)=>C%2===1);return[(Math.min(...u)+Math.max(...u))/2,(Math.min(...f)+Math.max(...f))/2]}const M=new Map,T=b({contractname:"",proname:"",dispatch:"",debugname:"",dbdbtime:""}),xe=async(s,o)=>{for(const u of s){const f=u.creater;if(!M.has(f)){const{data:_}=await Le({pid:u.pid>0?u.pid:void 0,creater:u.creater});M.set(f,_)}}d==null||d.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:o})},ae=async s=>{const{data:o}=await Le({pid:s.pid>0?s.pid:void 0,creater:s.creater});T.value=o,M.set(s.creater,o),d==null||d.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:s._index})};function fe(s){if(!s||!s.length)return[];const o=[],u=.01,f=new Set;for(let _=0;_<s.length;_++){if(f.has(_))continue;const C=s[_],N=[C];for(let L=_+1;L<s.length;L++){if(f.has(L))continue;const U=s[L],q=Math.abs(C.longitude-U.longitude),ne=Math.abs(C.latitude-U.latitude);q<u&&ne<u&&(N.push(U),f.add(L))}if(f.add(_),N.length===1)o.push({...C,value:[C.longitude,C.latitude],isCluster:!1,name:C.username||"æœªçŸ¥",_index:o.length});else{const L=N.map(J=>J.username||"æœªçŸ¥"),U=L.length>3?`${L.slice(0,3).join(", ")} ç­‰${L.length}äºº`:L.join(", "),q=N.reduce((J,K)=>J+K.longitude,0)/N.length,ne=N.reduce((J,K)=>J+K.latitude,0)/N.length;o.push({name:U,value:[q,ne],isCluster:!0,clusterData:N,_index:o.length})}}return o}const ve=()=>{var u;const s=(u=w.value)==null?void 0:u.map(f=>{const _=f.coord||r(f.name);return!_||!f.counts||f.counts<=0?null:{name:f.name,value:[..._,f.counts],counts:f.counts}}).filter(Boolean),o=fe(R.data);return{countData:l.value==="count"||l.value==="both"?s:[],positionData:l.value==="position"||l.value==="both"?o:[]}};async function de(s){var ce;const o=await ue(s);if(!o)return;gt(s,o);const u=(ce=w.value)==null?void 0:ce.map(i=>{const h=i.coord||r(i.name);return!h||!i.counts||i.counts<=0?null:{name:i.name,value:[...h,i.counts],counts:i.counts}}).filter(Boolean);le(o);const f=u==null?void 0:u.filter(i=>i.counts>0),_=Math.max(...f.map(i=>i.counts),1),C=Math.min(...f.map(i=>i.counts),0),N=45,L=25,U=i=>{if(_===C)return L;const h=(N-L)/(_-C),V=L-h*C;return Math.max(h*i+V,L)},{countData:q,positionData:ne}=ve(),J={tooltip:{trigger:"item",backgroundColor:"transparent",borderWidth:0,extraCssText:"box-shadow:none; padding:0;",formatter:i=>{var V,X,k,O,Q;if(!i.data)return"";const h=i.data;if(h.isCluster){xe(h.clusterData,h._index);let G=`<div style="
          min-width: 260px;
          font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
          font-size: 13px;
          color: #333;
          line-height: 1.6;
          background: #fff;
          border-radius: 10px;
          padding: 12px 14px 10px;
          box-shadow: 0 4px 14px rgba(0,0,0,0.15);
          border: 1px solid #f0f0f0;
        ">`;return h.clusterData.forEach(Y=>{const W=M.get(Y.creater);G+=`
            <div style="display:flex;margin-bottom:10px;">
              <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; margin-right:20px; width:50px;">
                <img src="${Y.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png"}"
                    style="width:36px; height:36px; border-radius:50%;" />
                <div style="font-size:14px; font-weight:600; color:#1890ff; text-align:center; margin-top:4px;">
                  ${Y.username||"æœªçŸ¥"}
                </div>
              </div>
              <div style="flex:1">
                <div style="font-size:14px;color:#333;"><b>æ‰“å¡æ—¶é—´ï¼š</b><span style="color:#1890ff;">${Y.dbtime||"-"}</span></div>
                <div style="font-size:14px;color:#333;"><b>æ‰“å¡åœ°å€ï¼š</b><span style="color:#1890ff;">${Y.address||"-"}</span></div>
                ${W?`
                    <div style="margin-top:4px;font-size:14px;">
                      <div style="color:#333;"><b>é¡¹ç›®åç§°ï¼š</b><span style="color:#1890ff;">${W.proname||"-"}</span></div>
                      <div style="color:#333;"><b>åˆåŒåç§°ï¼š</b><span style="color:#1890ff;">${W.contractname||"-"}</span></div>
                      <div style="color:#333;"><b>ä»»åŠ¡åç§°ï¼š</b><span style="color:#1890ff;">${W.debugname||"-"}</span></div>
                    </div>`:'<div style="color:#999;"></div>'}
              </div>
            </div>
            <hr style="border:0;border-top:1px dashed #e8e8e8;margin:6px 0;" />
          `}),G+="</div>",G}else{const G=h.creater;M.has(G)?T.value=M.get(G):(T.value={contractname:"",proname:"",dispatch:"",debugname:"",dbdbtime:""},ae(h));const Y=T.value&&Object.values(T.value).some(we=>we);let W=`<div style="
          min-width: 260px;
          font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
          font-size: 14px;
          color: #333;
          line-height: 1.6;
          background: #fff;
          border-radius: 10px;
          padding: 12px 14px 10px;
          box-shadow: 0 4px 14px rgba(0,0,0,0.15);
          border: 1px solid #f0f0f0;
        ">
          <div style="display: flex; align-items: center; margin-bottom: 8px;">
            <img src="${h.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png"}" style="width:38px;height:38px;border-radius:50%;object-fit:cover;margin-right:10px;box-shadow:0 1px 4px rgba(0,0,0,0.15);" />
            <div>
              <div style="font-weight:bold;font-size:15px;color:#1890ff;">${h.username||"æœªçŸ¥äººå‘˜"}</div>
              <div style="font-size:12px;color:#999;">è°ƒè¯•äººå‘˜</div>
            </div>
          </div>
          <div style="border-top:1px dashed #e8e8e8;margin:6px 0;"></div>
          <div><b>æ‰“å¡æ—¶é—´ï¼š</b><span style="color:#1890ff;">${h.dbtime||"-"}</span></div>
          <div><b>åœ°å€ï¼š</b><span style="color:#1890ff;">${h.address||"-"}</span></div>`;return Y?W+=`
            <div style="margin-top: 6px; font-weight: 500; color: #666;">é¡¹ç›®ä¿¡æ¯</div>
            <div><b>é¡¹ç›®åç§°ï¼š</b><span style="color:#1890ff;">${((V=T.value)==null?void 0:V.proname)||"-"}</span></div>
            <div><b>åˆåŒåç§°ï¼š</b><span style="color:#1890ff;">${((X=T.value)==null?void 0:X.contractname)||"-"}</span></div>
            <div><b>è°ƒåº¦åç§°ï¼š</b><span style="color:#1890ff;">${((k=T.value)==null?void 0:k.dispatch)||"-"}</span></div>
            <div><b>è°ƒè¯•ä»»åŠ¡ï¼š</b><span style="color:#1890ff;">${((O=T.value)==null?void 0:O.debugname)||"-"}</span></div>
            <div><b>å¼€å§‹æ—¶é—´ï¼š</b><span style="color:#1890ff;">${((Q=T.value)==null?void 0:Q.dbdbtime)||"-"}</span></div>
          `:W+=`<div><b>é¡¹ç›®åç§°ï¼š</b><span style="color:#1890ff;">${h.proname||"-"}</span></div>`,W+="</div>",W}}},geo:{map:s,roam:!0,zoom:1.2,scaleLimit:{min:1,max:15},center:null,label:{show:!0},itemStyle:{areaColor:"#f7f9fb",borderColor:"#d0d7de"},emphasis:{itemStyle:{areaColor:"#e6f4ff"}}},series:[{type:"scatter",name:"æ•°é‡ç‚¹",coordinateSystem:"geo",symbol:`image://${_t}`,zlevel:2,symbolSize:i=>U(i[2]),label:{show:!0,formatter:i=>i.value[2],color:"#fff",fontSize:10,fontWeight:"bold",textShadowColor:"rgba(0,0,0,0.45)",textShadowBlur:4,textShadowOffsetX:1,textShadowOffsetY:1},tooltip:{backgroundColor:"rgba(0,0,0,0.75)",borderWidth:0,extraCssText:"border-radius:8px; padding:8px 12px;",formatter:i=>{const h=i.data.counts||0;return`
              <div style="font-size:13px; line-height:1.6; color:#fff;">
                <div style="font-weight:600; margin-bottom:4px;">${i.data.name||""}</div>
                <div>
                  é¡¹ç›®æ•°é‡ï¼š
                  <span style="color:#FFD700; font-weight:600;">${h}</span>
                </div>
              </div>
            `}},itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#6fa8ff"},{offset:1,color:"#4169e1"}]},shadowColor:"rgba(65,105,225,0.45)",shadowBlur:12,shadowOffsetY:4},emphasis:{scale:!0,itemStyle:{shadowBlur:18,shadowColor:"rgba(65,105,225,0.7)"},label:{fontSize:12}},data:q},{name:"ä½ç½®ç‚¹",type:"scatter",coordinateSystem:"geo",zlevel:3,symbolSize:(i,h)=>h.data.isCluster?16:12,symbol:"circle",label:{show:!0,position:"right",distance:0,formatter:i=>i.data.name,color:"#52c41a",fontWeight:600,fontSize:14,backgroundColor:"rgba(255,255,255,1)",padding:[5,5],borderRadius:6,borderColor:"rgba(82, 196, 26,0.4)",borderWidth:1,shadowColor:"rgba(82, 196, 26,0.4)",shadowBlur:4},itemStyle:{color:i=>(i.data.isCluster,"#52c41a"),borderColor:"#fff",borderWidth:2,shadowColor:i=>(i.data.isCluster,"rgba(82, 196, 26,0.6)"),shadowBlur:8},emphasis:{scale:!0,label:{fontSize:13,fontWeight:700},itemStyle:{shadowBlur:14}},data:ne}]};d==null||d.setOption(J);const K=async i=>{const h=i.name,V=g[h];if(!V)return;let X=[];const k=await ye(h);console.log(k,"res"),X=k,X=X.map(O=>{const Q=A(O.name);return Q?{...O,coord:Q}:null}).filter(Boolean),P.value.push({map:$.value,data:w.value}),$.value=V,w.value=X,de(V)};d==null||d.off("click"),d==null||d.on("click",i=>K(i))}async function ge(){if(!P.value.length)return;const s=P.value.pop();$.value=s.map,w.value=R.projectDistributionData,de($.value)}const ye=async s=>{var _;const o=(_=R.projectDistributionData.find(C=>C.name===s))==null?void 0:_.id,{data:u,error:f}=await bt({pid:o,dates:R.dates});return console.log(u,"data"),u},B=s=>{var u;if(l.value=s,!d)return;const o=(u=w.value)==null?void 0:u.map(f=>{const _=f.coord||r(f.name);return!_||!f.counts||f.counts<=0?null:{name:f.name,value:[..._,f.counts],counts:f.counts}}).filter(Boolean);d.setOption({series:[{name:"æ•°é‡ç‚¹",data:s==="count"||s==="both"?o:[]},{name:"ä½ç½®ç‚¹",data:s==="position"||s==="both"?fe(R.data):[]}]})};return x({toggleViewMode:B}),me(()=>R.projectDistributionData,async s=>{w.value=R.projectDistributionData,await Ve(),z()},{deep:!0,immediate:!0}),(s,o)=>{const u=Je,f=ft;return v(),D("div",$t,[p("div",Vt,[t(f,{size:"small"},{default:m(()=>[t(u,{type:l.value==="count"?"primary":"default",onClick:o[0]||(o[0]=_=>B("count"))},{default:m(()=>o[3]||(o[3]=[y(" æ•°é‡ ")])),_:1,__:[3]},8,["type"]),t(u,{type:l.value==="position"?"primary":"default",onClick:o[1]||(o[1]=_=>B("position"))},{default:m(()=>o[4]||(o[4]=[y(" ä½ç½® ")])),_:1,__:[4]},8,["type"]),t(u,{type:l.value==="both"?"primary":"default",onClick:o[2]||(o[2]=_=>B("both"))},{default:m(()=>o[5]||(o[5]=[y(" å…¨éƒ¨ ")])),_:1,__:[5]},8,["type"])]),_:1}),P.value.length>0?(v(),H(u,{key:0,class:"ml-20px",size:"small",onClick:ge},{default:m(()=>o[6]||(o[6]=[y(" è¿”å›ä¸Šä¸€çº§ ")])),_:1,__:[6]})):(v(),D("div",Bt))]),p("div",{ref_key:"chartRef",ref:j,class:"echart"},null,512)])}}}),Ft=Ce(Ot,[["__scopeId","data-v-29c9e715"]]),Mt={class:"flex justify-between"},Nt={class:"clockInInfo"},Ht={style:{color:"#1890ff","font-weight":"700","font-size":"20px"}},Wt={style:{color:"#52c41a","font-weight":"700","font-size":"20px"}},Ut={style:{color:"#faad14","font-weight":"700","font-size":"20px"}},qt={style:{color:"#8a8886","font-weight":"700","font-size":"20px"}},Gt={key:0,class:"details"},Yt={class:"shrink-0 flex flex-col items-center justify-center w-20"},Jt=["src"],Kt={class:"mt-2 c-#52c41a text-sm font-bold text-center truncate w-full"},Xt={class:"flex-1 flex flex-col justify-center gap-1"},Qt={class:"flex text-sm"},Zt={class:"text-[#4169e1] font-semibold outPeopleText"},ea={class:"flex text-sm"},ta={class:"text-[#4169e1] font-semibold outPeopleText"},aa={class:"flex text-sm"},na={class:"text-[#4169e1] font-semibold outPeopleText"},oa={class:"mt-10px"},sa=_e({name:"home",__name:"index",setup(te){const x=Ke(),R=De(),$=Xe(),P=pe(()=>R.isMobile?0:16),{pageData:j,getData:d}=kt(pt),w=async()=>{await d({usertypes:"2,3"}),j.data=j.data.filter(e=>e.status==0)},l=b("year"),g=b([{label:"æ—¥",value:"day"},{label:"æœˆ",value:"month"},{label:"å¹´",value:"year"},{label:"ç´¯è®¡",value:"total"}]),r=Ae({dayTime:String(ke(0,null)),monthTime:String(ke(3,null)),yearTime:String(ke(4,null))}),A=b(null);async function z(e,a){var I;ve(),ge(),V(),(I=A.value)==null||I.toggleViewMode("both")}const ue=e=>{var a;l.value=e,ve(),ge(),V(),(a=A.value)==null||a.toggleViewMode("both")},le=b([]),M=b([]),T=b([]),xe=b([]),ae=b([]),fe=b([]),ve=async()=>{const{data:e,error:a}=await Oe({s:l.value=="total"?void 0:l.value=="day"?r.dayTime:l.value=="month"?r.monthTime:r.yearTime});if(!a){le.value=e,M.value=[{name:"æœªæ ¸å‡†",value:e.project.projectn1,color:"#a27ff9"},{name:"æœªå¼€å§‹",value:e.project.project0,color:"#9ca3af"},{name:"è¿›è¡Œä¸­",value:e.project.project1,color:"#3b82f6"},{name:"å¾…å®¡æ ¸",value:e.project.project2,color:"#facc15"},{name:"å·²å®Œæˆ",value:e.project.project3,color:"#22c55e"}],T.value=[{name:"æ­£å¸¸",value:e.project.proPtype0,color:"#22c55e"},{name:"å»¶æœŸ",value:e.project.proPtype1,color:"#ef4444"}],xe.value=[{name:"ç°åœºè°ƒè¯•",value:e.project.proDtype0,color:"#fb923c"},{name:"è¿œç¨‹è°ƒè¯•",value:e.project.proDtype1,color:"#94d82d"},{name:"æ— éœ€è°ƒè¯•",value:e.project.proDtype2,color:"#9ca3af"}];const I=new Map(e==null?void 0:e.norms.map(E=>[E.creater,E.totalscore])),re=new Map(e==null?void 0:e.debug.map(E=>[E.creater,E])),oe=j.data.map(E=>{const S=re.get(E.id),se=I.get(E.id)??0;return{...E,totalscore:se,debug:S?S.debugs:0,username:E.username??(S==null?void 0:S.username)??null,userimage:E.userimage??(S==null?void 0:S.userimage)??null,total:se+(S?S.debugs:0)}});[3,5,6].includes(x.userInfo.usertype)?ae.value=oe.sort((E,S)=>S.debug-E.debug):ae.value=oe.sort((E,S)=>S.totalscore+S.debug-(E.totalscore+E.debug)),fe.value=[...ae.value]}},de=b([]),ge=async()=>{const{data:e,error:a}=await Fe({s:l.value=="total"?void 0:l.value=="day"?r.dayTime:l.value=="month"?r.monthTime:r.yearTime});a||(de.value=[{name:"ç”³è¯·ä¸­",value:e.debugn1,color:"#FB923C"},{name:"å¾…è°ƒè¯•",value:e.debug0,color:"#9ca3af"},{name:"å¼€å§‹è°ƒè¯•",value:e.debug1,color:"#3B82F6"},{name:"å¾…å®¡æ ¸",value:e.debug2,color:"#FACC15"},{name:"å®¡æ ¸å®Œæˆ",value:e.debug3,color:"#10B981"}])},ye=[{key:"proname",width:300,title(){return t("div",{class:"font-size-16px font-bold"},[y("è¿‘æœŸé¡¹ç›®")])},ellipsis:{tooltip:!0},render:e=>{if(e.status===null)return null;const a=it(jt[e.status]);return t("div",null,[t(ut,{placement:"top",trigger:"hover"},{trigger:()=>t("div",{class:"cursor-pointer text-ellipsis overflow-hidden whitespace-nowrap font-bold",onClick:()=>we(e),style:"max-width: 280px;"},[e.proname||"-"]),default:()=>e.proname||"-"}),t("div",{style:"display:flex; gap:3px; line-height:1.4;"},[t("div",{class:" flex"},[t("span",{style:"color:#666"},[y("è¿›åº¦ï¼š")]),t(dt,{type:"line",style:"width: 100px;",showIndicator:!0,percentage:e.progess,"indicator-placement":"inside",processing:!0,color:e.progess==100?"#22C55E":"#1890ff"},null)]),t("div",{class:" flex ml-8px"},[t("span",{style:"color:#666 flex"},[y("çŠ¶æ€ï¼š")]),t("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:e.status===0?"#9ca3af":e.status===1?"#3B82F6":e.status===2?"#f1c40f":"#2ecc71",borderRadius:"50%"}},[t("span",{style:{width:"10px",height:"10px",marginRight:"5px",backgroundColor:e.status===0?"#9ca3af":e.status===1?"#3B82F6":e.status===2?"#f1c40f":"#2ecc71",borderRadius:"50%"}},null),t("span",null,[a])])])])])}},{key:"clockinusername",title:"æœ€åæ‰“å¡ä¿¡æ¯",align:"left",width:220,render(e){return t("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[t("div",null,[t("span",{style:"color:#666"},[y("æ—¶é—´ï¼š")]),t("span",{style:" font-weight:500"},[e.lastclockintime||"-"])]),t("div",null,[t("span",{style:"color:#666"},[y("æ‰“å¡äººï¼š")]),t("span",{style:"font-weight:500"},[e.clockinusername||"-"])])])}},{key:"clockincounts",title:"æ‰“å¡ä¿¡æ¯",align:"left",width:200,render(e){return t("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[t("div",null,[t("span",{style:"color:#666"},[y("æ‰“å¡äººæ•°ï¼š")]),t("span",{style:"font-weight:500"},[e.clockincounts!=null?e.clockincounts+"äºº":"-"])]),t("div",null,[t("span",{style:"color:#666"},[y("æ‰“å¡äººï¼š")]),t("span",{style:" font-weight:500"},[e.clockinusers||"-"])])])}},{key:"debugname",title:"è°ƒè¯•ä»»åŠ¡ä¿¡æ¯",align:"left",width:260,render(e){return t("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[t("div",null,[t("span",{style:"color:#666"},[y("ä»»åŠ¡åç§°ï¼š")]),t("span",{style:"font-weight:500"},[e.debugname||"-"])]),t("div",null,[t("span",{style:"color:#666"},[y("çŠ¶æ€ï¼š")]),t(ct,{size:"small",color:{color:e.debugstatus==-1?"rgba(251, 146, 60, 0.15)":e.debugstatus==0?"rgba(156, 163, 175, 0.15)":e.debugstatus==1?"rgba(59, 130, 246, 0.15)":e.debugstatus==2?"rgba(250, 204, 21, 0.15)":"rgba(16, 185, 129, 0.15)",textColor:e.debugstatus==-1?"#FB923C":e.debugstatus==0?"#9CA3AF":e.debugstatus==1?"#3B82F6":e.debugstatus==2?"#FACC15":"#10B981",borderColor:e.debugstatus==-1?"#FB923C":e.debugstatus==0?"#9CA3AF":e.debugstatus==1?"#3B82F6":e.debugstatus==2?"#FACC15":"#10B981"}},{default:()=>[e.debugstatus==-1?"ç”³è¯·ä¸­":e.debugstatus==0?"å¾…è°ƒè¯•":e.debugstatus==1?"å¼€å§‹è°ƒè¯•":e.debugstatus==2?"å¾…å®¡æ ¸":"å®¡æ ¸å®Œæˆ"]})])])}},{key:"username",title:"è°ƒè¯•ä¿¡æ¯",align:"left",width:230,render(e){return t("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[t("div",null,[t("span",{style:"color:#666"},[y("æ—¶é—´ï¼š")]),t("span",{style:" font-weight:500"},[e.dbdbtime||"-"])]),t("div",null,[t("span",{style:"color:#666"},[y("è°ƒè¯•äººï¼š")]),t("span",{style:"font-weight:500"},[e.username||"-"])])])}},{title:"ä»»åŠ¡å®¡æ ¸æ—¶é—´",key:"ckdbtime",width:120}],B=Ae({page:1,pageSize:20,showSizePicker:!0,fuzzy:"",itemCount:0,pageSizes:[10,20],prefix:()=>`å…± ${B.itemCount} æ¡`,onChange:e=>{B.page=e,o()},onUpdatePageSize:e=>{B.pageSize=e,B.page=1,o()}}),s=b([]),o=async()=>{const{data:e,error:a}=await Qe({page:B.page,limit:B.pageSize});a||(s.value=e.list,B.itemCount=e.total)},u=b([]),f=async()=>{const{data:e,error:a}=await xt();a||(u.value=e)},_=pe(()=>u.value.filter(e=>e.pid!=-1)),C=pe(()=>u.value.filter(e=>e.pid==-1)),N=pe(()=>j.data.filter(e=>!u.value.some(a=>a.creater==e.id))),L=pe(()=>_.value.length),U=pe(()=>C.value.length),q=b(!1),ne=b("allPeople"),J=()=>{q.value=!q.value},K=b(null),ce=b(null),i=b([]),h=b(""),V=async()=>{const{data:e,error:a}=await wt({detes:l.value=="total"?void 0:l.value=="day"?r.dayTime:l.value=="month"?r.monthTime:r.yearTime});a||(h.value=l.value=="total"?void 0:l.value=="day"?r.dayTime:l.value=="month"?r.monthTime:r.yearTime,i.value=e)},X=()=>{if(!k.value)return;const e=k.value.children[0];let a=k.value.querySelector(".clone");a?a.innerHTML=e.innerHTML:(a=e.cloneNode(!0),a.classList.add("clone"),k.value.appendChild(a)),a.style.display="block"},k=b(null);let O=null;const Q=()=>{if(!k.value)return;O&&clearInterval(O);const e=k.value,a=e.children[0],I=e.querySelector(".clone");I&&(I.style.display="block",O=window.setInterval(()=>{e.scrollTop+=1,e.scrollTop>=a.scrollHeight&&(e.scrollTop=0)},30))},G=()=>{if(O&&(clearInterval(O),O=null),k.value){const e=k.value.querySelector(".clone");e&&(e.style.display="none"),k.value.scrollTop=0}};Re(async()=>{w(),Y(),f(),V(),K.value=window.setInterval(Y,1e3*60*5),ce.value=window.setInterval(f,1e3*60*5),setTimeout(()=>{if(k.value=document.querySelector(".n-scrollbar-container"),!k.value)return;const e=k.value.children[0];if(!k.value.querySelector(".clone")){const a=e.cloneNode(!0);a.classList.add("clone"),k.value.appendChild(a)}k.value.addEventListener("mouseenter",G),k.value.addEventListener("mouseleave",Q),Q()},1e3)}),Ze(()=>{K.value&&clearInterval(K.value),ce.value&&clearInterval(ce.value),O&&clearInterval(O)});function Y(){ve(),ge(),o(),V()}const W=e=>{$.push({path:"/trajectory/realtimetrajectory"})},we=e=>{$.push("/projectmanagement/orderdetail?prjId="+e.id),x.setProjectInfo({pid:e.id,pname:e.proname})},He=e=>{setTimeout(()=>G(),200),e.order?ae.value.sort((a,I)=>{const re=a[e.columnKey]||0,oe=I[e.columnKey]||0;return e.order==="ascend"?re-oe:oe-re}):ae.value=[...fe.value],Ve(()=>{X(),G(),Q()})},Te=[{title:()=>t("div",{class:"text-[12px] font-medium"},[y("æ’å")]),key:"rank",width:40,align:"center",render:(e,a)=>t("div",{class:["rank-index",{first:a===0,second:a===1,third:a===2}]},[a+1])},{title:()=>t("div",{class:"text-[12px] font-medium"},[y("è°ƒè¯•äºº")]),key:"username",width:80,align:"center",render:e=>t("div",{class:"flex-col items-center"},[t("img",{src:e.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png",class:"w-6 h-6 rounded-full"},null),t("span",null,[e.username])])},{title:()=>t("div",{class:"text-[12px] font-medium"},[y("è°ƒè¯•ç§¯åˆ†")]),key:"debug",width:80,sorter:!0,align:"center"},{title:()=>t("div",{class:"text-[12px] font-medium"},[y("è¡Œä¸ºå¾—åˆ†")]),key:"totalscore",width:80,sorter:!0,align:"center"},{title:()=>t("div",{class:"text-[12px] font-medium"},[y("æ€»å¾—åˆ†")]),key:"total",width:80,sorter:!0,align:"center"}],Ee=[{title:()=>t("div",{class:"text-[12px] font-medium"},[y("æ’å")]),key:"rank",width:40,align:"center",render:(e,a)=>t("div",{class:["rank-index",{first:a===0,second:a===1,third:a===2}]},[a+1])},{title:()=>t("div",{class:"text-[12px] font-medium"},[y("è°ƒè¯•äºº")]),key:"username",width:80,align:"center",render:e=>t("div",{class:"flex items-center justify-center"},[t("img",{src:e.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png",class:"w-6 h-6 mr-5px rounded-full"},null),t("span",null,[e.username])])},{title:()=>t("div",{class:"text-[12px] font-medium"},[y("è°ƒè¯•ç§¯åˆ†")]),key:"debug",width:80,sorter:!0,align:"center"}];return(e,a)=>{const I=Dt,re=Ct,oe=tt,E=et,S=$e,se=Ne,he=st,We=lt,Ue=ot,qe=St,Se=rt,Pe=Me;return v(),H(E,{vertical:"",size:16},{default:m(()=>[t(Pe,{"x-gap":P.value,"y-gap":16,responsive:"screen","item-responsive":""},{default:m(()=>[t(se,{span:"24 s:24 m:6"},{default:m(()=>[t(S,{size:"small",title:"",bordered:!1,class:"h-full card-wrapper"},{header:m(()=>[t(It)]),default:m(()=>[p("div",Mt,[a[9]||(a[9]=p("h2",null,null,-1)),t(E,null,{default:m(()=>[l.value==="day"?(v(),H(I,{key:0,size:"small","formatted-value":r.dayTime,"onUpdate:formattedValue":[a[0]||(a[0]=n=>r.dayTime=n),z],type:"date","value-format":"yyyy-MM-dd",style:{width:"120px"}},null,8,["formatted-value"])):ie("",!0),l.value==="month"?(v(),H(I,{key:1,size:"small","formatted-value":r.monthTime,"onUpdate:formattedValue":[a[1]||(a[1]=n=>r.monthTime=n),z],type:"month","value-format":"yyyy-MM",style:{width:"120px"}},null,8,["formatted-value"])):ie("",!0),l.value==="year"?(v(),H(I,{key:2,size:"small","formatted-value":r.yearTime,"onUpdate:formattedValue":[a[2]||(a[2]=n=>r.yearTime=n),z],type:"year","value-format":"yyyy",style:{width:"120px"}},null,8,["formatted-value"])):ie("",!0),t(oe,{value:l.value,"onUpdate:value":[a[3]||(a[3]=n=>l.value=n),ue],size:"small"},{default:m(()=>[(v(!0),D(ee,null,Z(g.value,n=>(v(),H(re,{key:n.value,value:n.value,label:n.label},null,8,["value","label"]))),128))]),_:1},8,["value"])]),_:1})]),t(Ie,{data:M.value,name:"é¡¹ç›®æ€»æ•°"},null,8,["data"]),t(Rt,{data:le.value,name:"é¡¹ç›®æ€»æ•°"},null,8,["data"]),t(Ie,{data:de.value,name:"è°ƒè¯•æ€»æ•°"},null,8,["data"])]),_:1})]),_:1}),t(se,{span:"24 s:24 m:18"},{default:m(()=>[t(Pe,{"x-gap":P.value,"y-gap":16,responsive:"screen","item-responsive":"",class:"h-100%"},{default:m(()=>[t(se,{span:"24 s:24 m:16"},{default:m(()=>[t(S,{size:"small",title:"",bordered:!1,class:"h-full card-wrapper","header-style":{padding:"12px 16px"}},{header:m(()=>[a[21]||(a[21]=p("span",{style:{"font-weight":"600","font-size":"16px","margin-right":"16px"}},"å®æ—¶è½¨è¿¹",-1)),p("div",Nt,[p("div",{class:"title",onClick:J,style:{display:"flex","align-items":"center",gap:"16px","font-size":"16px"}},[p("span",null,[a[10]||(a[10]=y(" å…± ")),p("span",Ht,F(be(j).data.length),1),a[11]||(a[11]=y(" äºº "))]),p("span",null,[a[12]||(a[12]=y(" ä»Šæ—¥å¤–å‹¤äººæ•°ï¼š ")),p("span",Wt,F(L.value),1),a[13]||(a[13]=y(" äºº "))]),p("span",null,[a[14]||(a[14]=y(" å…¬å¸äººæ•°ï¼š ")),p("span",Ut,F(U.value),1),a[15]||(a[15]=y(" äºº "))]),p("span",null,[a[16]||(a[16]=y(" æœªçŸ¥ï¼š ")),p("span",qt,F(be(j).data.length-L.value-U.value),1),a[17]||(a[17]=y(" äºº "))]),p("span",{class:at(["arrow",{open:q.value}])},"â–¼",2)]),t(nt,{name:"slide"},{default:m(()=>[q.value?(v(),D("div",Gt,[t(Ue,{value:ne.value,"onUpdate:value":a[4]||(a[4]=n=>ne.value=n),type:"card",animated:""},{default:m(()=>[t(he,{name:"allPeople",tab:"å…¨éƒ¨è°ƒè¯•å‘˜å·¥"},{default:m(()=>[(v(!0),D(ee,null,Z(_.value,n=>(v(),D("span",{class:"outPeople",key:n.id},F(n.username),1))),128)),(v(!0),D(ee,null,Z(C.value,n=>(v(),D("span",{class:"inPeople",key:n.id},F(n.username),1))),128)),(v(!0),D(ee,null,Z(N.value,n=>(v(),D("span",{class:"unknown",key:n.id},F(n.username),1))),128))]),_:1}),t(he,{name:"outPeople",tab:"å¤–å‹¤äººå‘˜"},{default:m(()=>[t(We,{style:{"max-height":"500px"}},{default:m(()=>[(v(!0),D(ee,null,Z(_.value,n=>(v(),D("div",{key:n.id,class:"mb-4 bg-white outPeopleBg rounded-lg shadow-sm hover:shadow-md transition-shadow flex"},[p("div",Yt,[p("img",{class:"w30px h-30px rounded-full shadow",src:n.userImage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png",alt:"å¤´åƒ"},null,8,Jt),p("div",Kt,F(n.username),1)]),p("div",Xt,[p("div",Qt,[a[18]||(a[18]=p("span",{class:"whitespace-nowrap"},"ğŸ—ï¸ é¡¹ç›®åç§°ï¼š",-1)),p("span",Zt,F(n.proname||"æš‚æ— é¡¹ç›®"),1)]),p("div",ea,[a[19]||(a[19]=p("span",{class:"whitespace-nowrap"},"ğŸ“… æœ€è¿‘ä¸€æ¬¡æ‰“å¡æ—¶é—´ï¼š",-1)),p("span",ta,F(n.dbtime||"æ— "),1)]),p("div",aa,[a[20]||(a[20]=p("span",{class:"whitespace-nowrap"},"ğŸ“ åœ°å€ï¼š",-1)),p("span",na,F(n.address),1)])])]))),128))]),_:1})]),_:1}),t(he,{name:"inPeople",tab:"å…¬å¸äººå‘˜"},{default:m(()=>[(v(!0),D(ee,null,Z(C.value,n=>(v(),D("span",{class:"inPeople",key:n.id},F(n.username),1))),128))]),_:1}),t(he,{name:"unknownPeople",tab:"æœªçŸ¥äººå‘˜"},{default:m(()=>[(v(!0),D(ee,null,Z(N.value,n=>(v(),D("span",{class:"unknown",key:n.id},F(n.username),1))),128))]),_:1})]),_:1},8,["value"])])):ie("",!0)]),_:1})])]),"header-extra":m(()=>[p("span",{title:"è¯¦æƒ…",onClick:W},[t(qe,{class:"font-size-24px cursor-pointer"})])]),default:m(()=>[t(Ft,{ref_key:"trajectoryChartRef",ref:A,dates:h.value,projectDistributionData:i.value,data:u.value,name:"å®æ—¶è½¨è¿¹"},null,8,["dates","projectDistributionData","data"])]),_:1})]),_:1}),t(se,{span:"24 s:24 m:8"},{default:m(()=>[t(S,{size:"small",title:"",bordered:!1,class:"h-full card-wrapper"},{header:m(()=>[a[22]||(a[22]=p("h2",null,"é¡¹ç›®è°ƒè¯•ç§¯åˆ†æ’è¡Œæ¦œ",-1)),t(E,{justify:"start"},{default:m(()=>[t(oe,{value:l.value,"onUpdate:value":[a[5]||(a[5]=n=>l.value=n),ue],size:"small"},{default:m(()=>[(v(!0),D(ee,null,Z(g.value,n=>(v(),H(re,{key:n.value,value:n.value,label:n.label},null,8,["value","label"]))),128))]),_:1},8,["value"]),l.value==="day"?(v(),H(I,{key:0,size:"small","formatted-value":r.dayTime,"onUpdate:formattedValue":[a[6]||(a[6]=n=>r.dayTime=n),z],type:"date","value-format":"yyyy-MM-dd",style:{width:"120px"}},null,8,["formatted-value"])):ie("",!0),l.value==="month"?(v(),H(I,{key:1,size:"small","formatted-value":r.monthTime,"onUpdate:formattedValue":[a[7]||(a[7]=n=>r.monthTime=n),z],type:"month","value-format":"yyyy-MM",style:{width:"120px"}},null,8,["formatted-value"])):ie("",!0),l.value==="year"?(v(),H(I,{key:2,size:"small","formatted-value":r.yearTime,"onUpdate:formattedValue":[a[8]||(a[8]=n=>r.yearTime=n),z],type:"year","value-format":"yyyy",style:{width:"120px"}},null,8,["formatted-value"])):ie("",!0)]),_:1})]),default:m(()=>[t(Se,{ref:"tableContainer",class:"rankTable",remote:"","onUpdate:sorter":He,columns:[3,5,6].includes(be(x).userInfo.usertype)?Ee:Te,"scroll-x":([3,5,6].includes(be(x).userInfo.usertype)?Ee:Te).reduce((n,je)=>n+(je.width||100),0),data:ae.value,bordered:!1,"max-height":540},null,8,["columns","scroll-x","data"])]),_:1})]),_:1}),t(se,{span:"24 s:24 m:24"},{default:m(()=>[t(S,{size:"small",title:"",bordered:!1,class:"h-full card-wrapper","header-style":{padding:"12px 16px 0px"}},{header:m(()=>a[23]||(a[23]=[])),default:m(()=>[p("div",oa,[t(Se,{ref:"tableContainer",remote:"",pagination:B.pageSize==1?!1:B,"scroll-x":ye.reduce((n,je)=>n+(je.width||100),0),columns:ye,data:s.value,bordered:!1,"max-height":300},null,8,["pagination","scroll-x","data"])])]),_:1})]),_:1})]),_:1},8,["x-gap"])]),_:1})]),_:1},8,["x-gap"])]),_:1})}}}),fa=Ce(sa,[["__scopeId","data-v-b78f62e9"]]);export{fa as default};
