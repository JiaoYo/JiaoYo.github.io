import{_ as ze}from"./table-column-setting.vue_vue_type_script_setup_true_lang-bjP_cvKU.js";import{_ as Ue}from"./round-delete-BPfDpI4E.js";import{_ as qe}from"./round-add-DtQKka3N.js";import{d as ve,aq as ge,p as he,s as Pe,r as X,q as ke,a as Re,ar as we,a1 as $e,c as T,o as c,w as t,f as e,b5 as Ie,F as De,y as N,h as o,at as ie,A as $,b as S,g as d,e as _,t as p,B as D,N as be,$ as M,b6 as Ce,bX as Be,bW as Fe,E as Le,U as xe,L as Ae,bY as Me,i as Ve,x as H,az as pe,av as Oe,C as A,bl as Ge,aa as He,ab as re,aC as Ee}from"./index-BXQZlmK0.js";import{f as Ne,a as Ke,b as Se,c as We,d as ye,e as Je}from"./project-27348ipw.js";import{u as Xe,a as Ye}from"./table-CUg_Q_fW.js";import{u as ce}from"./usePageData-ChWyTt6j.js";import{_ as Te}from"./Grid-c0pn5ZfC.js";import{_ as je}from"./FormItemGridItem-DW6e8kd2.js";import{N as Qe}from"./DatePicker-CPfs-Bcn.js";import{N as Ze}from"./Upload-Bp8Jdbt6.js";import{_ as et}from"./round-search-C_Co9yC5.js";import{_ as tt}from"./round-refresh-D78sn_Na.js";import{_ as at,a as lt}from"./DescriptionsItem-juzaX95d.js";import{N as ue}from"./Popconfirm-CAqcOULu.js";import{N as nt}from"./RadioButton-ClpyU6M-.js";import"./Progress-Djoiz-Wa.js";import"./utils-CLQwHLqS.js";const st={key:0},ot={key:0},rt={key:0},ut={key:0},it=ve({name:"OperateDrawer",__name:"operate-drawer",props:ge({operateType:{},rowData:{},pid:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:ge(["submitted"],["update:visible"]),setup(I,{emit:Y}){const v=Y,j=he(),h=I,l=Pe(b()),U=X();function b(){return{pid:void 0,id:"",debugname:"",docker:"",dockcharge:"",dockcontact:"",status:0,notes:"",debugresult:0,dtype:void 0,starttime:null,endtime:null,dbcreater:void 0,startAndTimeRange:void 0,re1:"",re2:"",re3:"",re4:"",fl1:"",fl2:"",fl3:"",fl4:""}}const{pageData:F,getData:Q}=ce(Be),k=async()=>{await Q({usertypes:"2,3"})},V=async u=>{const n=u.currentTarget;n.scrollTop+n.offsetHeight>=n.scrollHeight&&F.data.length<F.total&&ee()},{pageData:q,getData:Z,nextPage:ee}=ce(Fe),te=async u=>{const n=u.currentTarget;n.scrollTop+n.offsetHeight>=n.scrollHeight&&q.data.length<q.total&&ee()},P=async()=>{await Z(),q.data=q.data.map(u=>(u.name=`${u.weight}  `+u.tname,u))},L=X([]),{pageData:y,getData:C,nextPage:E}=ce(Ne),R=async u=>{const n=u.currentTarget;n.scrollTop+n.offsetHeight>=n.scrollHeight&&y.data.length<y.total&&(E(),L.value=y.data)},ae=async()=>{await C(),L.value=y.data},le=async u=>{U.value=u};async function B(){ae(),P(),k(),Object.assign(l,b()),h.operateType==="add"&&(l.pid=h.pid,console.log(h.pid)),h.operateType==="edit"&&h.rowData&&(Object.assign(l,h.rowData),l.startAndTimeRange=[h.rowData.starttime,h.rowData.endtime])}const{formRef:K,validate:W,restoreValidation:ne}=ke(),se={pid:{type:"number",required:!0,trigger:["blur","change"],message:"请选择"},dtype:{type:"number",required:!0,trigger:["blur","change"],message:"请选择"},startAndTimeRange:{type:"array",required:!0,trigger:["blur","change"],message:"请选择"},dbcreater:{type:"string",required:!0,trigger:["blur","change"],message:"请选择"},debugname:{type:"string",required:!0,trigger:["blur","change"],message:"请输入"},docker:{type:"string",required:!0,trigger:["blur","change"],message:"请输入"},dockcharge:{type:"string",required:!0,trigger:["blur","change"],message:"请输入"},dockcontact:{type:"string",required:!0,trigger:["blur","change"],message:"请输入"},status:{type:"number",required:!0,trigger:["blur","change"],message:"请选择"}},i=Re(()=>({add:"新增待调试业务",edit:"修改待调试业务"})[h.operateType]),w=we(I,"visible");$e(w,()=>{w.value&&(B(),setTimeout(()=>{const u=document.querySelector(".n-scrollbar-content");u==null||u.scrollTo(0,0)},300),ne())});async function J({file:u},n){let m=new FormData;m.append("multipartFile",u.file);const{data:z,error:oe}=await Ke(m);oe||(l[n]=z)}function r(){w.value=!1}async function a(){var u;await W(),(u=window.$dialog)==null||u.info({title:"提示",content:"确定提交吗？",positiveText:"确定",negativeText:"取消",onPositiveClick:async()=>{await x()}})}async function x(){var u,n;if(await W(),h.operateType==="edit"){const{data:m,error:z}=await Se([l]);z||(r(),v("submitted"),(u=window.$message)==null||u.success("修改成功"))}else{const{data:m,error:z}=await We([{...l}]);z||(r(),v("submitted"),(n=window.$message)==null||n.success("添加成功"))}}const O=u=>{var n;l.debugname=(n=q.data.find(m=>m.id==u))==null?void 0:n.tname,l.dtype=u};async function G(u,n){l.startAndTimeRange=u,l.starttime=u==null?void 0:u[0],l.endtime=u==null?void 0:u[1]}return(u,n)=>{const m=je,z=Ze,oe=Te,g=De,me=Ie,fe=be,de=Ce;return c(),T(de,{show:w.value,"onUpdate:show":n[18]||(n[18]=s=>w.value=s),title:i.value,preset:"card",class:"w-800px"},{footer:t(()=>[e(fe,{justify:"end",size:16},{default:t(()=>[e(o(D),{onClick:r},{default:t(()=>[d(p(o(M)("common.cancel")),1)]),_:1}),e(o(D),{type:"primary",onClick:a},{default:t(()=>[d(p(o(M)("common.confirm")),1)]),_:1})]),_:1})]),default:t(()=>[e(me,{class:"pr-20px"},{default:t(()=>[e(g,{ref_key:"formRef",ref:K,model:l,rules:se,"label-placement":"left","label-width":120},{default:t(()=>[e(oe,{responsive:"screen","item-responsive":""},{default:t(()=>[e(m,{span:"24 m:12",label:"项目列表",path:"pid"},{default:t(()=>[e(o(ie),{filterable:"",value:l.pid,"onUpdate:value":[n[0]||(n[0]=s=>l.pid=s),le],placeholder:"请选择项目","label-field":"proname","value-field":"id",options:L.value,onScroll:R},null,8,["value","options"])]),_:1}),e(m,{span:"24 m:12",label:"权重",path:"dtype"},{default:t(()=>[e(o(ie),{filterable:"",value:l.dtype,"onUpdate:value":[n[1]||(n[1]=s=>l.dtype=s),O],tag:"",placeholder:"请选择权重","label-field":"name","value-field":"id",options:o(q).data,onScroll:te},null,8,["value","options"])]),_:1}),e(m,{span:"24 m:12",label:"业务名称",path:"debugname"},{default:t(()=>[e(o($),{value:l.debugname,"onUpdate:value":n[2]||(n[2]=s=>l.debugname=s),placeholder:"请输入"},null,8,["value"])]),_:1}),e(m,{span:"24 m:12",label:"调试人",path:"dbcreater"},{default:t(()=>[e(o(ie),{filterable:"",value:l.dbcreater,"onUpdate:value":n[3]||(n[3]=s=>l.dbcreater=s),placeholder:"请选择调试人","label-field":"username","value-field":"id",options:o(F).data,onScroll:V},null,8,["value","options"])]),_:1}),e(m,{span:"24 m:24",label:"起止时间",path:"startAndTimeRange"},{default:t(()=>[e(o(Qe),{clearable:"",value:l.startAndTimeRange,"onUpdate:value":n[4]||(n[4]=s=>l.startAndTimeRange=s),type:"daterange","value-format":"yyyy-MM-dd",style:{width:"100%"},"onUpdate:formattedValue":G},null,8,["value"])]),_:1}),e(m,{span:"24 m:12",label:"对接方",path:"docker"},{default:t(()=>[e(o($),{value:l.docker,"onUpdate:value":n[5]||(n[5]=s=>l.docker=s),placeholder:"请输入"},null,8,["value"])]),_:1}),e(m,{span:"24 m:12",label:"对接方负责人",path:"dockcharge"},{default:t(()=>[e(o($),{value:l.dockcharge,"onUpdate:value":n[6]||(n[6]=s=>l.dockcharge=s),placeholder:"请输入",style:{width:"100%"}},null,8,["value"])]),_:1}),e(m,{span:"24 m:12",label:"联系方式",path:"dockcontact"},{default:t(()=>[e(o($),{value:l.dockcontact,"onUpdate:value":n[7]||(n[7]=s=>l.dockcontact=s),placeholder:"请输入",style:{width:"100%"}},null,8,["value"])]),_:1}),h.operateType=="edit"?(c(),T(m,{key:0,span:"24 m:12",label:"状态",path:"status"},{default:t(()=>[e(o(ie),{clearable:"",value:l.status,"onUpdate:value":n[8]||(n[8]=s=>l.status=s),placeholder:"请选择",options:o(j).userInfo.usertype==0||o(j).userInfo.usertype==2?[{label:"待调试",value:0},{label:"开始调试",value:1},{label:"完成调试",value:2},{label:"审核完成",value:3}]:[{label:"待调试",value:0},{label:"开始调试",value:1},{label:"完成调试",value:2}]},null,8,["value","options"])]),_:1})):N("",!0),e(m,{span:"24 m:12",label:"备注",path:"notes"},{default:t(()=>[e(o($),{value:l.notes,"onUpdate:value":n[9]||(n[9]=s=>l.notes=s),placeholder:"请输入"},null,8,["value"])]),_:1}),e(m,{span:"24 m:24",label:"附件1",path:"notes"},{default:t(()=>{var s;return[e(o($),{value:l.re1,"onUpdate:value":n[10]||(n[10]=f=>l.re1=f),placeholder:"请输入",style:{width:"250px","margin-right":"20px"}},null,8,["value"]),l.fl1?(c(),S("span",st,[d(p((s=l.fl1)==null?void 0:s.split("?")[1])+" ",1),_("span",{class:"cursor-pointer c-#c92a2a",onClick:n[11]||(n[11]=f=>l.fl1="")},"删除")])):(c(),T(z,{key:1,style:{width:"auto"},ref:"uploadRef",action:"#","custom-request":f=>J(f,"fl1"),"show-file-list":!1},{default:t(()=>[e(o(D),{size:"small",ghost:"",type:"primary"},{default:t(()=>n[19]||(n[19]=[d("选择文件")])),_:1,__:[19]})]),_:1},8,["custom-request"]))]}),_:1}),e(m,{span:"24 m:24",label:"附件2",path:"notes"},{default:t(()=>{var s;return[e(o($),{value:l.re2,"onUpdate:value":n[12]||(n[12]=f=>l.re2=f),placeholder:"请输入",style:{width:"250px","margin-right":"20px"}},null,8,["value"]),l.fl2?(c(),S("span",ot,[d(p((s=l.fl2)==null?void 0:s.split("?")[1])+" ",1),_("span",{class:"cursor-pointer c-#c92a2a",onClick:n[13]||(n[13]=f=>l.fl2="")},"删除")])):(c(),T(z,{key:1,style:{width:"auto"},ref:"uploadRef",action:"#","custom-request":f=>J(f,"fl2"),"show-file-list":!1},{default:t(()=>[e(o(D),{size:"small",ghost:"",type:"primary"},{default:t(()=>n[20]||(n[20]=[d("选择文件")])),_:1,__:[20]})]),_:1},8,["custom-request"]))]}),_:1}),e(m,{span:"24 m:24",label:"附件3",path:"notes"},{default:t(()=>{var s;return[e(o($),{value:l.re3,"onUpdate:value":n[14]||(n[14]=f=>l.re3=f),placeholder:"请输入",style:{width:"250px","margin-right":"20px"}},null,8,["value"]),l.fl3?(c(),S("span",rt,[d(p((s=l.fl3)==null?void 0:s.split("?")[1])+" ",1),_("span",{class:"cursor-pointer c-#c92a2a",onClick:n[15]||(n[15]=f=>l.fl3="")},"删除")])):(c(),T(z,{key:1,style:{width:"auto"},ref:"uploadRef",action:"#","custom-request":f=>J(f,"fl3"),"show-file-list":!1},{default:t(()=>[e(o(D),{size:"small",ghost:"",type:"primary"},{default:t(()=>n[21]||(n[21]=[d("选择文件")])),_:1,__:[21]})]),_:1},8,["custom-request"]))]}),_:1}),e(m,{span:"24 m:24",label:"附件4",path:"notes"},{default:t(()=>{var s;return[e(o($),{value:l.re4,"onUpdate:value":n[16]||(n[16]=f=>l.re4=f),placeholder:"请输入",style:{width:"250px","margin-right":"20px"}},null,8,["value"]),l.fl4?(c(),S("span",ut,[d(p((s=l.fl4)==null?void 0:s.split("?")[1])+" ",1),_("span",{class:"cursor-pointer c-#c92a2a",onClick:n[17]||(n[17]=f=>l.fl4="")},"删除")])):(c(),T(z,{key:1,style:{width:"auto"},ref:"uploadRef",action:"#","custom-request":f=>J(f,"fl4"),"show-file-list":!1},{default:t(()=>[e(o(D),{size:"small",ghost:"",type:"primary"},{default:t(()=>n[22]||(n[22]=[d("选择文件")])),_:1,__:[22]})]),_:1},8,["custom-request"]))]}),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["show","title"])}}}),dt=ve({name:"FormSearch",__name:"form-search",props:{model:{required:!0},modelModifiers:{}},emits:ge(["reset","search","search1","clear"],["update:model"]),setup(I,{emit:Y}){const v=Y,{formRef:j,restoreValidation:h}=ke(),l=we(I,"model"),U=X([]),{pageData:b,getData:F,nextPage:Q}=ce(Ne),k=async y=>{const C=y.currentTarget;C.scrollTop+C.offsetHeight>=C.scrollHeight&&b.data.length<b.total&&(Q(),U.value=b.data)},V=async y=>{l.value.pid=y,v("search1")},q=async y=>{l.value.status=y,v("search")},Z=async()=>{l.value.status=null,v("search")};(async()=>{var y;await F(),U.value=b.data,l.value.pid=(y=U.value[0])==null?void 0:y.id,v("search")})();async function te(){await h(),l.value.fuzzy="",v("reset")}const P=()=>{l.value.fuzzy="",v("search")};async function L(){v("search")}return(y,C)=>{const E=ie,R=je,ae=$,le=tt,B=D,K=et,W=be,ne=Te,se=De,i=xe;return c(),T(i,{bordered:!1,size:"small",class:"card-wrapper"},{default:t(()=>[e(se,{ref_key:"formRef",ref:j,model:l.value,"label-placement":"left","label-width":100,"show-feedback":!1,onKeyup:Le(L,["enter"])},{default:t(()=>[e(ne,{responsive:"screen","item-responsive":"","x-gap":16,"y-gap":16},{default:t(()=>[e(R,{span:"24 s:12 m:6",label:"项目列表",path:"pid"},{default:t(()=>[e(E,{filterable:"",value:l.value.pid,"onUpdate:value":[C[0]||(C[0]=w=>l.value.pid=w),V],placeholder:"请选择项目","label-field":"proname","value-field":"id",options:U.value,onScroll:k},null,8,["value","options"])]),_:1}),e(R,{span:"24 s:12 m:6",label:"状态",path:"status"},{default:t(()=>[e(E,{clearable:"",filterable:"",value:l.value.status,"onUpdate:value":[C[1]||(C[1]=w=>l.value.status=w),q],placeholder:"请选择状态",onClear:Z,options:[{label:"待调试",value:0},{label:"开始调试",value:1},{label:"完成调试(待审核)",value:2},{label:"审核完成",value:3}]},null,8,["value"])]),_:1}),e(R,{span:"24 s:12 m:6",label:"业务名称",path:"fuzzy"},{default:t(()=>[e(ae,{value:l.value.fuzzy,"onUpdate:value":C[2]||(C[2]=w=>l.value.fuzzy=w),placeholder:"请输入",clearable:"",onClear:P},null,8,["value"])]),_:1}),e(R,{span:"24  s:12 m:6",class:"pr-24px"},{default:t(()=>[e(W,{class:"w-full"},{default:t(()=>[e(B,{onClick:te},{icon:t(()=>[e(le,{class:"text-icon"})]),default:t(()=>[d(" "+p(o(M)("common.reset")),1)]),_:1}),e(B,{type:"primary",ghost:"",onClick:L},{icon:t(()=>[e(K,{class:"text-icon"})]),default:t(()=>[d(" "+p(o(M)("common.search")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}}),pt={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},ct={key:0},mt={key:1},ft={key:0},gt={key:1},vt={key:0},bt={key:1},yt={key:0},_t={key:1};function _e(I){return typeof I=="function"||Object.prototype.toString.call(I)==="[object Object]"&&!Ee(I)}const Ft=ve({name:"projectmanagement_business",__name:"index",setup(I){const Y=Ae(),v=he(),j=Me(),{columns:h,columnChecks:l,data:U,getData:b,loading:F,mobilePagination:Q,searchParams:k}=Xe({showTotal:!0,immediate:!1,apiFn:Je,apiParams:{page:1,pageSize:20,limit:20,fuzzy:"",status:null,dbcreater:void 0,_t:new Date().getTime()},columns:()=>[{type:"selection",align:"center",width:48},{key:"debugname",title:"业务名称",align:"center",width:120},{key:"docker",title:"对接方",align:"center",width:120},{key:"dockcharge",title:"对接方负责人",align:"center",width:120},{key:"dockcontact",title:"联系方式",align:"center",width:120},{key:"status",title:"状态",align:"center",width:120,render(r){return e(re,{type:r.status==0?"info":r.status==1||r.status==2?"warning":"success"},{default:()=>[r.status==0?"待调试":r.status==1?"开始调试":r.status==2?"完成调试":"审核完成"]})}},{key:"dbusername",title:"调试人",align:"center",width:120},{key:"notes",title:"备注",align:"center",width:120},{key:"username",title:"创建人",align:"center",width:120},{key:"dbtime",title:"创建时间",align:"center",width:120},{key:"operate",title:M("common.operate"),align:"center",width:280,fixed:"right",render:r=>{let a;return e("div",{class:"flex-center gap-8px"},[r.status==0&&r.dbcreater==v.userInfo.id&&e(ue,{onPositiveClick:()=>R(r,1)},{default:()=>"确定开始调试吗？",trigger:()=>A(e(D,{type:"success",ghost:!0,size:"small"},{default:()=>["开始"]}),[[H("no-auth"),"project:Debug:update"]])}),r.status==1&&r.dbcreater==v.userInfo.id&&e(ue,{onPositiveClick:()=>R(r,2)},{default:()=>"确定完成调试？",trigger:()=>A(e(D,{type:"success",ghost:!0,size:"small"},{default:()=>["完成"]}),[[H("no-auth"),"project:Debug:update"]])}),r.status==2&&(v.userInfo.usertype==0||v.userInfo.usertype==2)&&e(ue,{onPositiveClick:()=>R(r,3)},{default:()=>"是否确认执行审核操作？",trigger:()=>A(e(D,{type:"warning",ghost:!0,size:"small"},{default:()=>["审核"]}),[[H("no-auth"),"project:Debug:update"]])}),A(e(D,{type:"primary",ghost:!0,size:"small",onClick:()=>J(r)},{default:()=>[d("详情")]}),[[H("no-auth"),"project:Debug:select"]]),A(e(D,{type:"primary",ghost:!0,size:"small",onClick:()=>ae(r.id)},_e(a=M("common.edit"))?a:{default:()=>[a]}),[[H("no-auth"),"project:Debug:update"]]),e(ue,{onPositiveClick:()=>E(r.id)},{default:()=>M("common.confirmDelete"),trigger:()=>{let x;return A(e(D,{type:"error",ghost:!0,size:"small"},_e(x=M("common.delete"))?x:{default:()=>[x]}),[[H("no-auth"),"project:Debug:delete"]])}})])}}]}),{drawerVisible:V,operateType:q,editingData:Z,handleAdd:ee,handleEdit:te,checkedRowKeys:P,onBatchDeleted:L,onDeleted:y}=Ye(U,b);Ve(async()=>{});async function C(){console.log(P.value),le(P.value.join(","),r=>{L()})}async function E(r){const{data:a,error:x}=await ye(r,k.pid);x||y()}const R=async(r,a)=>{var G;const{data:x,error:O}=await Se([{id:r.id,status:a,pid:r.pid}]);O||((G=window.$message)==null||G.success("操作成功"),b())};function ae(r){te(r)}async function le(r,a){const{data:x,error:O}=await ye(r,k.pid);if(!O)a&&a(x);else return!1}const B=X(-1),K=r=>{r>0?(B.value=r,k.dbcreater=JSON.parse(JSON.stringify(r)),b()):(k.dbcreater=void 0,B.value=-1,b())},W=r=>{b()},ne=()=>{console.log(j.query.prjId,"route.query.prjId"),j.query.prjId&&j.query.debug&&(k.pid=Number(j.query.prjId),K(v.userInfo.id)),j.query.prjId&&!j.query.debug&&(k.pid=Number(j.query.prjId),k.status=2),b()},se=()=>{b()},i=X(null),w=X(!1),J=r=>{i.value=r,w.value=!0};return(r,a)=>{const x=nt,O=He,G=be,u=qe,n=Ue,m=ze,z=Oe,oe=xe,g=lt,me=at,fe=Ce,de=H("no-auth");return c(),S("div",pt,[e(dt,{model:o(k),"onUpdate:model":a[0]||(a[0]=s=>pe(k)?k.value=s:null),onReset:se,onSearch:ne,onSearch1:o(b),onClear:a[1]||(a[1]=s=>U.value=[])},null,8,["model","onSearch1"]),e(oe,{bordered:!1,size:"small",class:"sm:flex-1-hidden card-wrapper"},{header:t(()=>[e(G,{align:"center",wrap:"",class:"lt-sm:w-200px"},{default:t(()=>[a[7]||(a[7]=_("div",null,"待调试业务",-1)),e(O,{size:"small",value:B.value,"onUpdate:value":[a[2]||(a[2]=s=>B.value=s),K],name:"radiobuttongroup1"},{default:t(()=>[e(x,{value:-1,label:"默认"}),e(x,{value:o(v).userInfo.id,label:"我的调试"},null,8,["value"])]),_:1},8,["value"])]),_:1,__:[7]})]),"header-extra":t(()=>[e(G,{align:"center",wrap:"",justify:"end",class:"lt-sm:w-200px"},{default:t(()=>[A((c(),T(o(D),{onClick:o(ee),size:"small",ghost:"",type:"primary"},{icon:t(()=>[e(u,{class:"text-icon"})]),default:t(()=>[a[8]||(a[8]=d(" "+p("新增")))]),_:1,__:[8]},8,["onClick"])),[[de,"project:Debug:insert"]]),e(o(ue),{onPositiveClick:C},{trigger:t(()=>[A((c(),T(o(D),{size:"small",ghost:"",type:"error",disabled:o(P).length==0},{icon:t(()=>[e(n,{class:Ge(["text-icon",{"animate-spin":o(F)}])},null,8,["class"])]),default:t(()=>[a[9]||(a[9]=d(" "+p("批量删除")))]),_:1,__:[9]},8,["disabled"])),[[de,"project:Debug:delete"]])]),default:t(()=>[a[10]||(a[10]=d(" 确定要删除选中的吗？ "))]),_:1,__:[10]}),e(m,{columns:o(l),"onUpdate:columns":a[3]||(a[3]=s=>pe(l)?l.value=s:null)},null,8,["columns"])]),_:1})]),default:t(()=>[e(z,{"checked-row-keys":o(P),"onUpdate:checkedRowKeys":a[4]||(a[4]=s=>pe(P)?P.value=s:null),columns:o(h),data:o(U),size:"small","flex-height":!o(Y).isMobile,loading:o(F),remote:"","row-key":s=>s.id,pagination:o(Q),class:"sm:h-full","onUpdate:filters":W},null,8,["checked-row-keys","columns","data","flex-height","loading","row-key","pagination"]),e(it,{visible:o(V),"onUpdate:visible":a[5]||(a[5]=s=>pe(V)?V.value=s:null),onSubmitted:o(b),"operate-type":o(q),pid:o(k).pid,"row-data":o(Z)},null,8,["visible","onSubmitted","operate-type","pid","row-data"])]),_:1}),e(fe,{show:w.value,"onUpdate:show":a[6]||(a[6]=s=>w.value=s),title:"查看详情",preset:"card",class:"w-800px"},{default:t(()=>[e(me,{bordered:"","label-placement":"left","label-align":"center",columns:2,"label-style":{width:"160px"}},{default:t(()=>[e(g,null,{label:t(()=>a[11]||(a[11]=[d(" 权重 ")])),default:t(()=>[_("span",null,p(i.value.tname),1)]),_:1}),e(g,null,{label:t(()=>a[12]||(a[12]=[d(" 业务名称 ")])),default:t(()=>[_("span",null,p(i.value.debugname),1)]),_:1}),e(g,null,{label:t(()=>a[13]||(a[13]=[d(" 计划起止时间 ")])),default:t(()=>[_("span",null,p(i.value.starttime)+"--"+p(i.value.endtime),1)]),_:1}),e(g,null,{label:t(()=>a[14]||(a[14]=[d(" 对接方 ")])),default:t(()=>[_("span",null,p(i.value.docker),1)]),_:1}),e(g,null,{label:t(()=>a[15]||(a[15]=[d(" 对接方负责人 ")])),default:t(()=>[_("span",null,p(i.value.dockcharge),1)]),_:1}),e(g,null,{label:t(()=>a[16]||(a[16]=[d(" 联系方式 ")])),default:t(()=>[_("span",null,p(i.value.dockcontact),1)]),_:1}),e(g,null,{label:t(()=>a[17]||(a[17]=[d(" 状态 ")])),default:t(()=>[i.value.status==0?(c(),T(o(re),{key:0,type:"default"},{default:t(()=>a[18]||(a[18]=[d("未调试")])),_:1,__:[18]})):N("",!0),i.value.status==1?(c(),T(o(re),{key:1,type:"info"},{default:t(()=>a[19]||(a[19]=[d("开始调试")])),_:1,__:[19]})):N("",!0),i.value.status==2?(c(),T(o(re),{key:2,type:"success"},{default:t(()=>a[20]||(a[20]=[d("完成调试")])),_:1,__:[20]})):N("",!0),i.value.status==3?(c(),T(o(re),{key:3,type:"success"},{default:t(()=>a[21]||(a[21]=[d("审核完成")])),_:1,__:[21]})):N("",!0)]),_:1}),e(g,null,{label:t(()=>a[22]||(a[22]=[d(" 备注 ")])),default:t(()=>[_("span",null,p(i.value.notes),1)]),_:1}),e(g,null,{label:t(()=>a[23]||(a[23]=[d(" 调试人 ")])),default:t(()=>[_("span",null,p(i.value.dbusername),1)]),_:1}),e(g,null,{label:t(()=>a[24]||(a[24]=[d(" 调试时间 ")])),default:t(()=>[_("span",null,p(i.value.dbdbtime),1)]),_:1}),e(g,null,{label:t(()=>a[25]||(a[25]=[d(" 审核人 ")])),default:t(()=>[_("span",null,p(i.value.ckcreater),1)]),_:1}),e(g,null,{label:t(()=>a[26]||(a[26]=[d(" 审核时间 ")])),default:t(()=>[_("span",null,p(i.value.ckdbtime),1)]),_:1}),e(g,null,{label:t(()=>a[27]||(a[27]=[d(" 附件1 ")])),default:t(()=>{var s;return[i.value.re1?(c(),S("span",ct,"文件别名"+p(i.value.re1),1)):N("",!0),i.value.fl1?(c(),S("span",mt,p((s=i.value.fl1)==null?void 0:s.split("?")[1]),1)):N("",!0)]}),_:1}),e(g,null,{label:t(()=>a[28]||(a[28]=[d(" 附件2 ")])),default:t(()=>{var s;return[i.value.re2?(c(),S("span",ft,"文件别名"+p(i.value.re2),1)):N("",!0),i.value.fl2?(c(),S("span",gt,p((s=i.value.fl2)==null?void 0:s.split("?")[1]),1)):N("",!0)]}),_:1}),e(g,null,{label:t(()=>a[29]||(a[29]=[d(" 附件3 ")])),default:t(()=>{var s;return[i.value.re3?(c(),S("span",vt,"文件别名"+p(i.value.re3),1)):N("",!0),i.value.fl3?(c(),S("span",bt,p((s=i.value.fl3)==null?void 0:s.split("?")[1]),1)):N("",!0)]}),_:1}),e(g,null,{label:t(()=>a[30]||(a[30]=[d(" 附件4 ")])),default:t(()=>{var s;return[i.value.re4?(c(),S("span",yt,"文件别名"+p(i.value.re4),1)):N("",!0),i.value.fl4?(c(),S("span",_t,p((s=i.value.fl4)==null?void 0:s.split("?")[1]),1)):N("",!0)]}),_:1})]),_:1})]),_:1},8,["show"])])}}});export{Ft as default};
