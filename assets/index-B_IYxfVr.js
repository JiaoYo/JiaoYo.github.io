import{_ as V}from"./export-C1eIYiY_.js";import{e as M}from"./exportExcel-DNhOb6yd.js";import{d as R,s as u,D as U,aR as c,i as E,b as v,o as m,f as l,w as s,N as F,J as I,c as i,G as y,aE as L,ax as $,aY as G,B as H,g,t as j,az as A,a2 as J,fk as P,W}from"./index-DdfiWQes.js";import{_ as Y}from"./RadioButton-BvJzaggS.js";import{_ as q}from"./DatePicker-BTmZbyaH.js";const K={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},O=R({name:"reportmanagement_aftersale",__name:"index",setup(Q){const o=u("year"),h=u([{label:"日",value:"day"},{label:"月",value:"month"},{label:"年",value:"year"}]),t=U({dayTime:String(c(0,null)),monthTime:String(c(3,null)),yearTime:String(c(4,null))}),x=n=>{o.value=n,r()},d=u([]),r=async()=>{const{data:n}=await P({dates:o.value=="day"?t.dayTime:o.value=="month"?t.monthTime:t.yearTime});n&&(d.value=n)};async function p(n){r()}E(()=>{r()});const T=[{key:"model",title:"型号",width:180,align:"center",render(n){return l("div",{class:" "},[l("span",null,[n.model||"未知"])])}},{key:"modelcount",title:"售后数量",align:"center",sorter:(n,e)=>n.modelcount-e.modelcount,width:180}],k=u(window.innerHeight-325),N=()=>{M(d.value,{model:"型号",modelcount:"售后数量"},`售后报表_${o.value=="day"?t.dayTime:o.value=="month"?t.monthTime:t.yearTime}`)};return(n,e)=>{const b=Y,w=L,_=q,C=I,f=H,z=V,B=F,D=A,S=J;return m(),v("div",K,[l(S,{bordered:"",style:{height:"100%"}},{default:s(()=>[l(B,{label:"查询日期","label-placement":"left","show-feedback":!1,class:"mb-15px"},{default:s(()=>[l(C,null,{default:s(()=>[l(w,{value:o.value,"onUpdate:value":[e[0]||(e[0]=a=>o.value=a),x],size:"small"},{default:s(()=>[(m(!0),v($,null,G(h.value,a=>(m(),i(b,{key:a.value,value:a.value,label:a.label},null,8,["value","label"]))),128))]),_:1},8,["value"]),o.value==="year"?(m(),i(_,{key:0,size:"small","formatted-value":t.yearTime,"onUpdate:formattedValue":[e[1]||(e[1]=a=>t.yearTime=a),p],type:"year","value-format":"yyyy",style:{width:"120px"}},null,8,["formatted-value"])):y("",!0),o.value=="month"?(m(),i(_,{key:1,size:"small","formatted-value":t.monthTime,"onUpdate:formattedValue":[e[2]||(e[2]=a=>t.monthTime=a),p],type:"month","value-format":"yyyy-MM",style:{width:"120px"}},null,8,["formatted-value"])):y("",!0),o.value=="day"?(m(),i(_,{key:2,size:"small","formatted-value":t.dayTime,"onUpdate:formattedValue":[e[3]||(e[3]=a=>t.dayTime=a),p],type:"date","value-format":"yyyy-MM-dd",style:{width:"120px"}},null,8,["formatted-value"])):y("",!0)]),_:1}),l(f,{type:"primary",size:"small",ghost:"",style:{"margin-left":"20px"},onClick:r},{default:s(()=>e[4]||(e[4]=[g("查询")])),_:1,__:[4]}),l(f,{style:{"margin-left":"20px"},size:"small",onClick:N},{icon:s(()=>[l(z,{class:"text-icon"})]),default:s(()=>[e[5]||(e[5]=g(" "+j("导出")))]),_:1,__:[5]})]),_:1}),l(D,{columns:T,data:d.value,"max-height":k.value},null,8,["data","max-height"])]),_:1})])}}}),oe=W(O,[["__scopeId","data-v-5183d9e2"]]);export{oe as default};
