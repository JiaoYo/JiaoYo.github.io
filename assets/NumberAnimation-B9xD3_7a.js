import{e3 as g,e4 as _,cF as v,d as I,cw as R,j as S,b as F,A as T,aT as V}from"./index-EnN1oTT8.js";var N=1/0,A=17976931348623157e292;function p(t){if(!t)return t===0?t:0;if(t=g(t),t===N||t===-N){var e=t<0?-1:1;return e*A}return t===t?t:0}function x(t){var e=p(t),a=e%1;return e===e?a?e-a:e:0}var E=_.isFinite,j=Math.min;function B(t){var e=Math[t];return function(a,n){if(a=g(a),n=n==null?0:j(x(n),292),n&&E(a)){var r=(v(a)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(v(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(a)}}var L=B("round");const O=t=>1-Math.pow(1-t,5);function P(t){const{from:e,to:a,duration:n,onUpdate:r,onFinish:i}=t,u=()=>{const c=performance.now(),s=Math.min(c-f,n),l=e+(a-e)*O(s/n);if(s===n){i();return}r(l),requestAnimationFrame(u)},f=performance.now();u()}const U={to:{type:Number,default:0},precision:{type:Number,default:0},showSeparator:Boolean,locale:String,from:{type:Number,default:0},active:{type:Boolean,default:!0},duration:{type:Number,default:2e3},onFinish:Function},C=I({name:"NumberAnimation",props:U,setup(t){const{localeRef:e}=R("name"),{duration:a}=t,n=S(t.from),r=F(()=>{const{locale:o}=t;return o!==void 0?o:e.value});let i=!1;const u=o=>{n.value=o},f=()=>{var o;n.value=t.to,i=!1,(o=t.onFinish)===null||o===void 0||o.call(t)},c=(o=t.from,d=t.to)=>{i=!0,n.value=t.from,o!==d&&P({from:o,to:d,duration:a,onUpdate:u,onFinish:f})},s=F(()=>{var o;const m=L(n.value,t.precision).toFixed(t.precision).split("."),h=new Intl.NumberFormat(r.value),w=(o=h.formatToParts(.5).find(y=>y.type==="decimal"))===null||o===void 0?void 0:o.value,M=t.showSeparator?h.format(Number(m[0])):m[0],b=m[1];return{integer:M,decimal:b,decimalSeparator:w}});function l(){i||c()}return T(()=>{V(()=>{t.active&&c()})}),Object.assign({formattedValue:s},{play:l})},render(){const{formattedValue:{integer:t,decimal:e,decimalSeparator:a}}=this;return[t,e?a:null,e]}});export{C as _};
