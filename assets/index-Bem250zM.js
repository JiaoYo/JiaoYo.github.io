import{_ as H}from"./table-column-setting.vue_vue_type_script_setup_true_lang-DwLaNjJ3.js";import{_ as J}from"./refresh-DDTBJHY3.js";import{d as R,q,v as Q,s as K,K as P,o as S,c as A,w as t,g as e,L as T,h,t as E,i as a,$ as C,M as X,A as Y,B as z,E as O,D as ee,a9 as G,y as te,j,f as x,S as ae,F as oe,aw as ne,ax as se,ay as le,Z as ie,U as re,e as pe,ac as N,b8 as ce}from"./index-XrXLprsQ.js";import{a as de,b as _e}from"./reportForm-CCd6S0ga.js";import{u as me,a as ue}from"./table-D3Lqh28Z.js";import{_ as fe}from"./round-search-BSJYetjn.js";import{_ as ve}from"./round-refresh-DFFz0RLr.js";import{_ as ye}from"./FormItemGridItem-pUdDfbSQ.js";import{_ as he}from"./Grid-IPy0D44K.js";import{T as xe}from"./task-C0FHYy5B.js";import{_ as ge,a as we,b as be,c as ke}from"./file-pdf-msvXbKeo.js";import{_ as I}from"./Popconfirm-Mgz7NT_7.js";import{_ as $e}from"./DataTable-D54Is1Km.js";import"./setting-outlined-BNET9fEB.js";import"./index-BS8KoN7o.js";import"./installCanvasRenderer-iCPGNWhM.js";import"./Forward-DOqzmic8.js";const ze=R({name:"ReportSearch",__name:"report-search",props:{model:{required:!0},modelModifiers:{}},emits:q(["reset","search"],["update:model"]),setup(i,{emit:r}){const l=r,{formRef:p,restoreValidation:g}=Q(),o=K(i,"model");async function _(){await g(),l("reset")}async function m(){l("search")}return(u,f)=>{const v=Y,w=ye,c=ve,D=z,B=fe,U=O,d=he,V=ee,M=G,F=P("no-space");return S(),A(M,{bordered:!1,size:"small",class:"card-wrapper"},{default:t(()=>[e(V,{ref_key:"formRef",ref:p,model:o.value,"label-placement":"left","label-width":100,"show-feedback":!1,onKeyup:X(m,["enter"])},{default:t(()=>[e(d,{responsive:"screen","item-responsive":""},{default:t(()=>[e(w,{span:"24 s:12 m:6",label:"实例名称",path:"alatype",class:"pr-24px"},{default:t(()=>[T(e(v,{autofocus:"",value:o.value.fuzzy,"onUpdate:value":f[0]||(f[0]=k=>o.value.fuzzy=k),placeholder:"请输入实例名称关键字",clearable:""},null,8,["value"]),[[F]])]),_:1}),e(w,{span:"24 m:6",class:"pr-24px"},{default:t(()=>[e(U,{class:"w-full"},{default:t(()=>[e(D,{onClick:_},{icon:t(()=>[e(c,{class:"text-icon"})]),default:t(()=>[h(" "+E(a(C)("common.reset")),1)]),_:1}),e(D,{type:"primary",ghost:"",onClick:m},{icon:t(()=>[e(B,{class:"text-icon"})]),default:t(()=>[h(" "+E(a(C)("common.search")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}}),Se=i=>(ne("data-v-38327062"),i=i(),se(),i),Ce=Se(()=>x("span",{class:"mr-20px"},"报表预览",-1)),De={title:"导出PDF"},Ne={title:"导出Word"},Pe={title:"导出Excel"},Te=R({name:"reportPreview",__name:"reportPreview",props:q({data:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:["update:visible"],setup(i){const r=K(i,"visible");te(r,()=>{r.value});const l=j(),p=[{type:"title",value:"资产信息报表"},{type:"text",value:`
    据央视新闻消息，11月8日下午，国家主席习近平在北京人民大会堂同来华进行国事访问的意大利总统马塔雷拉举行会谈。
    习近平指出，欢迎总统先生时隔7年再次对中国进行国事访问。你是中国人民的老朋友，也是我的好朋友。近年来，我同总统先生成功实现互访，并通过电话、信函保持密切沟通，每一次交流都能够深化友谊、增进互信。
    今年是中意建立全面战略伙伴关系20周年。7月，梅洛尼总理成功访华，双方发表了加强全面战略伙伴关系的行动计划，一致同意秉持历史悠久的丝路精神，推动双边关系进入发展新阶段。相信总统先生这次访问将在新的历史起点上，为中意关系发展注入更强劲动力，为两国人民带来更大福祉。
    今年也是马可·波罗逝世700周年。早在13世纪，这位伟大的意大利旅行家能够不加偏见地认知和描述中国，为西方世界开启了认识中国的大门，也激励了一代又一代友好使者为东西方文明交流互鉴作出卓越贡献。当今世界正经历百年未有之大变局，中国和意大利作为两大文明古国，应该弘扬两国开放包容、兼容并蓄的传统，推动国际社会以对话化解分歧、以合作超越冲突，携手构建和合共生的美好世界。

                                                           编辑 李忆林子
      `},{type:"subtitle",value:"一、资产基本信息"},{type:"table",value:{head:["名称","年龄","城市"],body:[["名称1","20","城市1"],["名称2","25","城市2"],["名称3","30","城市3"],["名称3","30","城市3"],["名称3","30","城市3"],["名称3","30","城市3"],["名称3","30","城市3"],["名称3","30","城市3"],["名称3","30","城市3"],["名称3","30","城市3"],["名称3","30","城市3"],["名称3","30","城市3"],["名称3","30","城市3"],["名称3","30","城市3"],["名称4","35","城市4"],["名称5","40","城市5"],["名称6","45","城市6"]]}},{type:"subtitle",value:"二、资产类型分布统计"},{type:"chart",value:{chartType:"line",id:"qqq",data:{xAxis:["周一","周二","周三","周四","周五","周六","周日"],series:[{name:"邮件营销",data:[120,132,101,134,90,230,210]},{name:"联盟广告",data:[220,182,191,234,290,330,310]},{name:"视频广告",data:[150,232,201,154,190,330,410]}]}}},{type:"subtitle",value:"三、资产网段分布统计"},{type:"chart",value:{chartType:"pie",id:"kkk",data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}]}},{type:"table",value:{head:["xxx","yyy","zzz"],body:[["名称1","xx","城市asd1"],["名称2","25","ss"],["名称6","45","城sd市6"]]}},{type:"subtitle",value:"四、资产端口分布统计"},{type:"table",value:{head:["xxx","yyy","zzz"],body:[["名称1","xx","城市asd1"],["名称2","25","ss"],["名称6","45","城sd市6"],["名称2","25","ss"],["名称2","25","ss"],["名称2","25","ss"]]}},{type:"chart",value:{chartType:"bar",id:"sss",data:{xAxis:["周一","周二","周三","周四","周五","周六","周日"],series:[{name:"邮件营销",data:[120,132,101,134,90,230,210]},{name:"联盟广告",data:[220,182,191,234,290,330,310]},{name:"视频广告",data:[150,232,201,154,190,330,410]}]}}},{type:"subtitle",value:"五、资产厂商分布统计"},{type:"chart",value:{chartType:"pie",id:"sdssd",data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}]}}];return(g,o)=>{const _=ge,m=we,u=be,f=ke,v=ae,w=oe;return S(),A(w,{show:r.value,"onUpdate:show":o[3]||(o[3]=c=>r.value=c),preset:"card",class:"w-1000px"},{header:t(()=>[Ce,x("span",De,[e(_,{class:"text-32px c-#d63031 cursor-pointer",onClick:o[0]||(o[0]=c=>l.value.toPdf("test"))})]),x("span",Ne,[e(m,{class:"text-32px c-#1e90ff cursor-pointer",onClick:o[1]||(o[1]=c=>l.value.toWord("test"))})]),x("span",Pe,[e(u,{class:"text-32px c-#15703d cursor-pointer",onClick:o[2]||(o[2]=c=>l.value.toExcel("test"))})])]),default:t(()=>[e(v,{class:"max-h-600px"},{default:t(()=>[e(f,{ref_key:"filePreviewExportRef",ref:l,width:800,data:p},null,512)]),_:1})]),_:1},8,["show"])}}}),Ee=le(Te,[["__scopeId","data-v-38327062"]]),Re={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},Ae=x("div",{style:{display:"flex","align-items":"center"}},[x("div",null,"报表实例")],-1),Xe=R({name:"reportmanagement_reportlist",__name:"index",setup(i){const r=ie(),{columns:l,columnChecks:p,data:g,getData:o,loading:_,mobilePagination:m,searchParams:u,resetSearchParams:f}=me({apiFn:de,apiParams:{page:1,pageSize:20,limit:20,fuzzy:null,_t:new Date().getTime()},immediate:!0,columns:()=>[{type:"selection",align:"center",width:48},{key:"rname",title:"实例名称",align:"center",width:160},{key:"rtype",title:"实例类型",align:"center",width:160,render:y=>{var n;return e("div",null,[(n=re(xe).find(b=>b.value===y.rtype))==null?void 0:n.label])}},{key:"num",title:"实例数量",align:"center",width:160},{key:"operate",title:C("common.operate"),align:"center",width:160,render:y=>e("div",{class:"flex-center gap-8px"},[e(I,{onPositiveClick:()=>v(y.id)},{default:()=>"确定要清空该数据吗？",trigger:()=>T(e(z,{type:"primary",ghost:!0,size:"small"},{default:()=>[h("清空")]}),[[P("no-auth"),"sys.report.instance.delete"]])})])}]}),v=async y=>{var $;const{data:n,error:b}=await _e({ids:y});b||(($=window.$message)==null||$.success("清空成功"),o())},{drawerVisible:w,operateType:c,editingData:D,handleAdd:B,handleEdit:U,checkedRowKeys:d,onBatchDeleted:V,onDeleted:M,closeDrawer:F}=ue(g,o),k=j(!1);return(y,n)=>{const b=J,$=H,L=$e,W=G,Z=P("no-auth");return S(),pe("div",Re,[e(ze,{model:a(u),"onUpdate:model":n[0]||(n[0]=s=>N(u)?u.value=s:null),onReset:a(f),onSearch:a(o)},null,8,["model","onReset","onSearch"]),e(W,{bordered:!1,size:"small",class:"sm:flex-1-hidden card-wrapper"},{header:t(()=>[Ae]),"header-extra":t(()=>[e(a(O),null,{default:t(()=>[e(a(I),{onPositiveClick:n[1]||(n[1]=s=>v(a(d).join(",")))},{trigger:t(()=>[T((S(),A(a(z),{size:"small",ghost:"",type:"primary",disabled:a(d).length===0},{default:t(()=>[h(" 批量清空 ")]),_:1},8,["disabled"])),[[Z,"sys.report.instance.delete"]])]),default:t(()=>[h(" 确定要确认选中的数据吗？ ")]),_:1}),e(a(z),{size:"small",onClick:n[2]||(n[2]=s=>a(o)())},{icon:t(()=>[e(b,{class:ce(["text-icon",{"animate-spin":a(_)}])},null,8,["class"])]),default:t(()=>[h(" "+E(a(C)("common.refresh")),1)]),_:1}),e($,{columns:a(p),"onUpdate:columns":n[3]||(n[3]=s=>N(p)?p.value=s:null)},null,8,["columns"])]),_:1})]),default:t(()=>[e(L,{"checked-row-keys":a(d),"onUpdate:checkedRowKeys":n[4]||(n[4]=s=>N(d)?d.value=s:null),columns:a(l),data:a(g),size:"small","flex-height":!a(r).isMobile,"scroll-x":962,loading:a(_),remote:"","row-key":s=>s.rname,pagination:a(m),class:"sm:h-full"},null,8,["checked-row-keys","columns","data","flex-height","loading","row-key","pagination"]),e(Ee,{visible:k.value,"onUpdate:visible":n[5]||(n[5]=s=>k.value=s)},null,8,["visible"])]),_:1})])}}});export{Xe as default};
