import{r as Y,a as k,k as ee,l as oe,d as N,b as U,o as b,m as te,n as E,e as i,p as ne,u as D,q as A,s as B,v as G,i as se,x as ae,c as z,w as u,f as t,y as le,z as T,A as O,h as f,$ as g,C as re,N as V,D as ce,g as R,t as P,B as q,E as K,F as W,G as ie,H as de,I as H,J as pe,K as ue,R as me,L as fe,M as ge,O as M,P as he,Q as _e,T as we,S as ve,U as xe,V as Ce,W as ye,X as ke}from"./index-C1b7XuIM.js";function be(a){const n=Y(0),l=k(()=>Math.ceil(n.value)),v=k(()=>n.value>0),{pause:e,resume:r}=ee(({delta:o})=>{if(n.value<=0){n.value=0,e();return}const C=o/1e3;n.value-=C,n.value<=0&&(n.value=0,e())},{immediate:!1});function c(o=a){n.value=o,r()}function m(){n.value=0,e()}return oe(()=>{e()}),{count:l,isCounting:v,start:c,stop:m}}const Se={src:te,alt:"linkqi",style:{width:"64px",height:"64px"}},Pe=N({name:"SystemLogo",__name:"system-logo",setup(a){return(n,l)=>(b(),U("img",Se))}}),$e={class:"absolute-lt z-1 size-full overflow-hidden"},Re={class:"absolute -right-300px -top-900px lt-sm:-right-100px lt-sm:-top-1170px"},Ne={height:"1337",width:"1337"},Ue={id:"linearGradient-2",x1:"0.79",y1:"0.62",x2:"0.21",y2:"0.86"},ze=["stop-color"],Le=["stop-color"],Ie={class:"absolute -bottom-400px -left-200px lt-sm:-bottom-760px lt-sm:-left-100px"},Be={height:"896",width:"967.8852157128662"},Me={id:"linearGradient-3",x1:"0.5",y1:"0",x2:"0.5",y2:"1"},je=["stop-color"],Ee=["stop-color"],Fe=N({name:"WaveBg",__name:"wave-bg",props:{themeColor:{}},setup(a){const n=a,l=k(()=>E(n.themeColor,200)),v=k(()=>E(n.themeColor,500));return(e,r)=>(b(),U("div",$e,[i("div",Re,[(b(),U("svg",Ne,[i("defs",null,[r[0]||(r[0]=i("path",{id:"path-1",opacity:"1","fill-rule":"evenodd",d:"M1337,668.5 C1337,1037.455193874239 1037.455193874239,1337 668.5,1337 C523.6725684305388,1337 337,1236 370.50000000000006,1094 C434.03835568300906,824.6732385973953 6.906089672974592e-14,892.6277623047779 0,668.5000000000001 C0,299.5448061257611 299.5448061257609,1.1368683772161603e-13 668.4999999999999,0 C1037.455193874239,0 1337,299.544806125761 1337,668.5Z"},null,-1)),i("linearGradient",Ue,[i("stop",{offset:"0","stop-color":l.value,"stop-opacity":"1"},null,8,ze),i("stop",{offset:"1","stop-color":v.value,"stop-opacity":"1"},null,8,Le)])]),r[1]||(r[1]=i("g",{opacity:"1"},[i("use",{"xlink:href":"#path-1",fill:"url(#linearGradient-2)","fill-opacity":"1"})],-1))]))]),i("div",Ie,[(b(),U("svg",Be,[i("defs",null,[r[2]||(r[2]=i("path",{id:"path-2",opacity:"1","fill-rule":"evenodd",d:"M896,448 C1142.6325445712241,465.5747656464056 695.2579309733121,896 448,896 C200.74206902668806,896 5.684341886080802e-14,695.2579309733121 0,448.0000000000001 C0,200.74206902668806 200.74206902668791,5.684341886080802e-14 447.99999999999994,0 C695.2579309733121,0 475,418 896,448Z"},null,-1)),i("linearGradient",Me,[i("stop",{offset:"0","stop-color":v.value,"stop-opacity":"1"},null,8,je),i("stop",{offset:"1","stop-color":l.value,"stop-opacity":"1"},null,8,Ee)])]),r[3]||(r[3]=i("g",{opacity:"1"},[i("use",{"xlink:href":"#path-2",fill:"url(#linearGradient-3)","fill-opacity":"1"})],-1))]))])]))}});function De(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const n=Math.random()*16|0;return(a==="x"?n:n&3|8).toString(16)})}/*! js-cookie v3.0.5 | MIT */function L(a){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var v in l)a[v]=l[v]}return a}var Ae={read:function(a){return a[0]==='"'&&(a=a.slice(1,-1)),a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(a){return encodeURIComponent(a).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function F(a,n){function l(e,r,c){if(!(typeof document>"u")){c=L({},n,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var m="";for(var o in c)c[o]&&(m+="; "+o,c[o]!==!0&&(m+="="+c[o].split(";")[0]));return document.cookie=e+"="+a.write(r,e)+m}}function v(e){if(!(typeof document>"u"||arguments.length&&!e)){for(var r=document.cookie?document.cookie.split("; "):[],c={},m=0;m<r.length;m++){var o=r[m].split("="),C=o.slice(1).join("=");try{var d=decodeURIComponent(o[0]);if(c[d]=a.read(C,d),e===d)break}catch{}}return e?c[e]:c}}return Object.create({set:l,get:v,remove:function(e,r){l(e,"",L({},r,{expires:-1}))},withAttributes:function(e){return F(this.converter,L({},this.attributes,e))},withConverter:function(e){return F(L({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(a)}})}var Z=F(Ae,{path:"/"});const j=(a,n,l)=>{Z.set(a,n)},I=a=>Z.get(a),Ge={class:"w-full flex-y-center gap-16px"},Te=["src"],Oe={class:"flex-y-center justify-between"},Ve=N({name:"PwdLogin",__name:"pwd-login",setup(a){const n=ne();D();const{formRef:l,validate:v}=A(),e=B({username:"",password:"",captcha:"",captchaSrc:"",captchaUuid:"",checked:!0}),r=B({captchaEnable:null}),c=k(()=>{const{defaultRequiredRule:_,formRules:s,patternRules:w}=G();return{username:s.username,password:{..._,...w.password},captcha:_}});async function m(){const{data:_,error:s}=await ie();s||(r.captchaEnable=_,r.captchaEnable===1&&o())}async function o(){e.captchaUuid=De(),e.captchaSrc=de+"/captcha?uuid="+e.captchaUuid}async function C(){await v(),e.checked?d(e.username,e.password,e.checked):p(),await n.login(H(e.username),H(e.password),e.captchaUuid,e.captcha)||(e.captcha="",e.captchaSrc="",r.captchaEnable===1&&o())}function d(_,s,w){j("project_storage_user",_),j("project_storage_pwd",s),j("project_storage_check",String(w))}function h(){e.username=I("project_storage_user")||"",e.password=I("project_storage_pwd")||"",e.checked=I("project_storage_check")?I("project_storage_check")=="true":!1}function p(){d("","",!1)}return se(()=>{h(),m()}),(_,s)=>{const w=O,x=T,S=ce,y=q,J=V,Q=W,X=ae("no-special");return b(),z(Q,{ref_key:"formRef",ref:l,model:e,rules:c.value,size:"large","show-label":!1,onKeyup:K(C,["enter"])},{default:u(()=>[t(x,{path:"userName"},{default:u(()=>[t(w,{value:e.username,"onUpdate:value":s[0]||(s[0]=$=>e.username=$),placeholder:f(g)("page.login.common.userNamePlaceholder")},null,8,["value","placeholder"])]),_:1}),t(x,null,{default:u(()=>[t(w,{value:e.password,"onUpdate:value":s[1]||(s[1]=$=>e.password=$),type:"password","show-password-on":"click",placeholder:f(g)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),r.captchaEnable===1?(b(),z(x,{key:0,path:"captcha"},{default:u(()=>[i("div",Ge,[re(t(w,{value:e.captcha,"onUpdate:value":s[2]||(s[2]=$=>e.captcha=$),placeholder:"请输入验证码"},null,8,["value"]),[[X]]),i("img",{src:e.captchaSrc,alt:"验证码",style:{width:"160px",height:"40px"},onClick:o},null,8,Te)])]),_:1})):le("",!0),t(J,{vertical:"",size:24},{default:u(()=>[i("div",Oe,[t(S,{checked:e.checked,"onUpdate:checked":s[3]||(s[3]=$=>e.checked=$)},{default:u(()=>[R(P(f(g)("page.login.pwdLogin.rememberMe")),1)]),_:1},8,["checked"])]),t(y,{type:"primary",size:"large",round:"",block:"",loading:f(n).loginLoading,onClick:C},{default:u(()=>[R(P(f(g)("common.confirm")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])}}});function qe(){const{loading:a,startLoading:n,endLoading:l}=pe(),{count:v,start:e,stop:r,isCounting:c}=be(60),m=k(()=>{let d=g("page.login.codeLogin.getCode");const h=g("page.login.codeLogin.reGetCode",{time:v.value});return a.value&&(d=""),c.value&&(d=h),d});function o(d){var h,p,_,s,w,x;return d.trim()===""?((h=window.$message)==null||h.destroyAll(),(_=(p=window.$message)==null?void 0:p.error)==null||_.call(p,g("form.mobile.required")),!1):me.test(d)?!0:((s=window.$message)==null||s.destroyAll(),(x=(w=window.$message)==null?void 0:w.error)==null||x.call(w,g("form.mobile.invalid")),!1)}async function C(d,h){!o(d)||a.value||(n(),await new Promise(_=>{ue(d,h).then(s=>{var w,x,S;console.log("response",s),s.error||(setTimeout(_,500),(w=window.$message)==null||w.destroyAll(),(S=(x=window.$message)==null?void 0:x.success)==null||S.call(x,g("page.login.codeLogin.sendCodeSuccess")),e(),l())}).catch(s=>{var w,x,S;return console.log("error",s),(w=window.$message)==null||w.destroyAll(),(S=(x=window.$message)==null?void 0:x.error)==null||S.call(x,g("page.login.codeLogin.sendCodeFailed")),!1})}))}return{label:m,start:e,stop:r,isCounting:c,loading:a,getCaptcha:C}}const Ke={class:"w-full flex-y-center gap-16px"},We=N({name:"Register",__name:"register",setup(a){const{toggleLoginModule:n}=D(),{formRef:l,validate:v}=A(),{label:e,isCounting:r,loading:c,getCaptcha:m}=qe(),o=B({phone:"",code:"",password:"",confirmPassword:""}),C=k(()=>{const{formRules:h,createConfirmPwdRule:p}=G();return{phone:h.phone,code:h.code,password:h.pwd,confirmPassword:p(o.password)}});async function d(){var h;await v(),(h=window.$message)==null||h.success(g("page.login.common.validateSuccess"))}return(h,p)=>{const _=O,s=T,w=q,x=V,S=W;return b(),z(S,{ref_key:"formRef",ref:l,model:o,rules:C.value,size:"large","show-label":!1,onKeyup:K(d,["enter"])},{default:u(()=>[t(s,{path:"phone"},{default:u(()=>[t(_,{clearable:"",maxlength:"11",value:o.phone,"onUpdate:value":p[0]||(p[0]=y=>o.phone=y),placeholder:"请输入手机号码"},null,8,["value"])]),_:1}),t(s,{path:"code"},{default:u(()=>[i("div",Ke,[t(_,{value:o.code,"onUpdate:value":p[1]||(p[1]=y=>o.code=y),placeholder:f(g)("page.login.common.codePlaceholder")},null,8,["value","placeholder"]),t(w,{size:"large",disabled:f(r),loading:f(c),onClick:p[2]||(p[2]=y=>f(m)(o.phone,0))},{default:u(()=>[R(P(f(e)),1)]),_:1},8,["disabled","loading"])])]),_:1}),t(s,{path:"password"},{default:u(()=>[t(_,{value:o.password,"onUpdate:value":p[3]||(p[3]=y=>o.password=y),type:"password","show-password-on":"click",placeholder:f(g)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),t(s,{path:"confirmPassword"},{default:u(()=>[t(_,{value:o.confirmPassword,"onUpdate:value":p[4]||(p[4]=y=>o.confirmPassword=y),type:"password","show-password-on":"click",placeholder:f(g)("page.login.common.confirmPasswordPlaceholder")},null,8,["value","placeholder"])]),_:1}),t(x,{vertical:"",size:18,class:"w-full"},{default:u(()=>[t(w,{type:"primary",size:"large",round:"",block:"",onClick:d},{default:u(()=>[R(P(f(g)("common.confirm")),1)]),_:1}),t(w,{size:"large",round:"",block:"",onClick:p[5]||(p[5]=y=>f(n)("pwd-login"))},{default:u(()=>[R(P(f(g)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),He=N({name:"ResetPwd",__name:"reset-pwd",setup(a){const{toggleLoginModule:n}=D(),{formRef:l,validate:v}=A(),e=B({phone:"",code:"",password:"",confirmPassword:""}),r=k(()=>{const{formRules:m,createConfirmPwdRule:o}=G();return{phone:m.phone,password:m.pwd,confirmPassword:o(e.password)}});async function c(){var m;await v(),(m=window.$message)==null||m.success(g("page.login.common.validateSuccess"))}return(m,o)=>{const C=O,d=T,h=q,p=V,_=W;return b(),z(_,{ref_key:"formRef",ref:l,model:e,rules:r.value,size:"large","show-label":!1,onKeyup:K(c,["enter"])},{default:u(()=>[t(d,{path:"phone"},{default:u(()=>[t(C,{clearable:"",maxlength:"11",value:e.phone,"onUpdate:value":o[0]||(o[0]=s=>e.phone=s),placeholder:"请输入手机号码"},null,8,["value"])]),_:1}),t(d,{path:"code"},{default:u(()=>[t(C,{value:e.code,"onUpdate:value":o[1]||(o[1]=s=>e.code=s),placeholder:f(g)("page.login.common.codePlaceholder")},null,8,["value","placeholder"])]),_:1}),t(d,{path:"password"},{default:u(()=>[t(C,{value:e.password,"onUpdate:value":o[2]||(o[2]=s=>e.password=s),type:"password","show-password-on":"click",placeholder:f(g)("page.login.common.passwordPlaceholder")},null,8,["value","placeholder"])]),_:1}),t(d,{path:"confirmPassword"},{default:u(()=>[t(C,{value:e.confirmPassword,"onUpdate:value":o[3]||(o[3]=s=>e.confirmPassword=s),type:"password","show-password-on":"click",placeholder:f(g)("page.login.common.confirmPasswordPlaceholder")},null,8,["value","placeholder"])]),_:1}),t(p,{vertical:"",size:18,class:"w-full"},{default:u(()=>[t(h,{type:"primary",size:"large",round:"",block:"",onClick:c},{default:u(()=>[R(P(f(g)("common.confirm")),1)]),_:1}),t(h,{size:"large",round:"",block:"",onClick:o[4]||(o[4]=s=>f(n)("pwd-login"))},{default:u(()=>[R(P(f(g)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Ze={class:"w-400px lt-sm:w-300px"},Je={class:"flex-y-center justify-between"},Qe={class:"text-28px text-primary font-500 lt-sm:text-22px"},Xe={class:"i-flex-col"},Ye={class:"pt-24px"},eo={class:"pt-24px"},oo={class:"login-footer"},to=N({name:"login",__name:"index",props:{module:{}},setup(a){const n=a;fe();const l=ge(),v={"pwd-login":{label:M["pwd-login"],component:Ve},register:{label:M.register,component:We},"reset-pwd":{label:M["reset-pwd"],component:He}},e=k(()=>v[n.module||"pwd-login"]),r=k(()=>l.darkMode?E(l.themeColor,600):l.themeColor),c=k(()=>{const m="#ffffff",o=l.darkMode?.5:.2;return he(m,l.themeColor,o)});return(m,o)=>{const C=Fe,d=Pe,h=_e,p=xe,_=Ce;return b(),U("div",{class:"relative size-full flex-center overflow-hidden",style:ye({backgroundColor:c.value})},[t(C,{"theme-color":r.value},null,8,["theme-color"]),t(p,{bordered:!1,class:"relative z-4 w-auto rd-12px"},{default:u(()=>[i("div",Ze,[i("header",Je,[t(d,{class:"text-64px text-primary lt-sm:text-48px"}),i("h3",Qe,P(f(g)("system.title")),1),i("div",Xe,[t(h,{"theme-schema":f(l).themeScheme,"show-tooltip":!1,class:"text-20px lt-sm:text-18px",onSwitch:f(l).toggleThemeScheme},null,8,["theme-schema","onSwitch"])])]),i("main",Ye,[i("div",eo,[t(we,{name:f(l).page.animateMode,mode:"out-in",appear:""},{default:u(()=>[(b(),z(ve(e.value.component)))]),_:1},8,["name"])])])])]),_:1}),i("div",oo,[o[0]||(o[0]=i("a",{href:"http://www.linkqi.cn/",target:"_blank",rel:"noopener noreferrer"},"杭州领祺科技有限公司",-1)),t(_,{vertical:""}),o[1]||(o[1]=i("a",{href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank",rel:"noopener noreferrer"},"浙ICP备15002353号-2",-1))])],4)}}}),so=ke(to,[["__scopeId","data-v-be56e059"]]);export{so as default};
