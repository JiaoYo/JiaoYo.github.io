import{_ as Pe}from"./table-column-setting.vue_vue_type_script_setup_true_lang-CvfnQZYV.js";import{_ as Re}from"./round-delete-BZWJW45s.js";import{_ as Ie}from"./round-add-GrHQV5ws.js";import{d as _e,aq as ye,p as he,s as $e,r as W,q as De,a as Le,ar as Ne,a1 as Be,c as q,o as g,w as t,f as e,b5 as Fe,F as xe,y as T,h as s,at as pe,A as B,b as U,g as i,e as h,t as p,B as x,N as ke,$ as G,b6 as Se,bX as Oe,bW as Ae,E as Me,U as je,L as Ve,bY as Ge,i as He,x as K,az as fe,av as Ee,C as V,bl as Je,aa as Ke,ab as ie,aC as We}from"./index-3FI-9vFh.js";import{f as ze,a as Xe,b as Te,c as Ye,d as we,e as Qe}from"./project-BpdyYAbX.js";import{u as Ze,a as et}from"./table-Dxi-UXTP.js";import{u as me}from"./usePageData-BOF278ji.js";import{_ as Ue}from"./Grid-BYxpeW0k.js";import{_ as qe}from"./FormItemGridItem-CvZHCSgb.js";import{N as tt}from"./DatePicker-B-9-ouS5.js";import{N as at}from"./Upload-DfcVQ94T.js";import{_ as lt}from"./round-search-Ckx7Z4LK.js";import{_ as nt}from"./round-refresh-8pNylQuL.js";import{_ as st,a as ot}from"./DescriptionsItem-n9dRpAmI.js";import{N as de}from"./Popconfirm-D6sEyWfL.js";import{N as rt}from"./RadioButton-DfIS8vq6.js";import"./Progress-C7S5sdaN.js";import"./utils-9s3IW4K-.js";const ut={key:0},it={key:0},dt={key:0},pt={key:0},ct=_e({name:"OperateDrawer",__name:"operate-drawer",props:ye({operateType:{},rowData:{},pid:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:ye(["submitted"],["update:visible"]),setup(F,{emit:ae}){const k=ae,C=he(),D=F,n=$e(_()),y=W();function _(){return{pid:void 0,id:"",debugname:"",docker:"",dockcharge:"",dockcontact:"",status:0,notes:"",debugresult:0,dtype:void 0,starttime:null,endtime:null,dbcreater:void 0,startAndTimeRange:void 0,re1:"",re2:"",re3:"",re4:"",fl1:"",fl2:"",fl3:"",fl4:""}}const{pageData:j,getData:H}=me(Oe),le=async()=>{await H({usertypes:"2,3"})},N=async o=>{const a=o.currentTarget;a.scrollTop+a.offsetHeight>=a.scrollHeight&&j.data.length<j.total&&X()},{pageData:P,getData:ne,nextPage:X}=me(Ae),se=async o=>{const a=o.currentTarget;a.scrollTop+a.offsetHeight>=a.scrollHeight&&P.data.length<P.total&&X()},oe=async()=>{await ne(),P.data=P.data.map(o=>(o.name=`${o.weight}  `+o.tname,o))},R=W([]),{pageData:O,getData:Y,nextPage:Q}=me(ze),w=async o=>{const a=o.currentTarget;a.scrollTop+a.offsetHeight>=a.scrollHeight&&O.data.length<O.total&&(Q(),R.value=O.data)},b=async()=>{await Y({fuzzy:C.userInfo.pname}),R.value=O.data},L=async()=>{await Y(),R.value=O.data},A=async o=>{y.value=o},M=W(void 0);async function Z(){b(),oe(),le(),Object.assign(n,_()),D.operateType==="add"&&(n.pid=D.pid,console.log(D.pid)),D.operateType==="edit"&&D.rowData&&(Object.assign(n,D.rowData),M.value=n.status,n.startAndTimeRange=[D.rowData.starttime,D.rowData.endtime])}const{formRef:ee,validate:te,restoreValidation:re}=De(),ue={pid:{type:"number",required:!0,trigger:["blur","change"],message:"请选择"},dtype:{type:"number",required:!0,trigger:["blur","change"],message:"请选择"},startAndTimeRange:{type:"array",required:!0,trigger:["blur","change"],message:"请选择"},dbcreater:{type:"string",required:!0,trigger:["blur","change"],message:"请选择"},debugname:{type:"string",required:!0,trigger:["blur","change"],message:"请输入"},docker:{type:"string",required:!0,trigger:["blur","change"],message:"请输入"},dockcharge:{type:"string",required:!0,trigger:["blur","change"],message:"请输入"},dockcontact:{type:"string",required:!0,trigger:["blur","change"],message:"请输入"},status:{type:"number",required:!0,trigger:["blur","change"],message:"请选择"}},u=Le(()=>({add:"新增待调试业务",edit:"修改待调试业务"})[D.operateType]),$=Ne(F,"visible");Be($,()=>{$.value&&(Z(),setTimeout(()=>{const o=document.querySelector(".n-scrollbar-content");o==null||o.scrollTo(0,0)},300),re())});async function I({file:o},a){let m=new FormData;m.append("multipartFile",o.file);const{data:S,error:c}=await Xe(m);c||(n[a]=S)}function r(){$.value=!1}async function l(o){if(o)try{const m=await(await fetch(o==null?void 0:o.split("?")[0],{mode:"cors"})).blob(),S=URL.createObjectURL(m),c=document.createElement("a");c.href=S,c.download=o==null?void 0:o.split("?")[1],c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(S)}catch(a){console.error("下载失败:",a)}}async function z(){var o;await te(),(o=window.$dialog)==null||o.info({title:"提示",content:"确定提交吗？",positiveText:"确定",negativeText:"取消",onPositiveClick:async()=>{await E()}})}async function E(){var o,a;if(await te(),D.operateType==="edit"){const m=JSON.parse(JSON.stringify(n)),{data:S,error:c}=await Te([m]);c||(r(),k("submitted"),(o=window.$message)==null||o.success("修改成功"))}else{const{data:m,error:S}=await Ye([{...n}]);S||(r(),k("submitted"),(a=window.$message)==null||a.success("添加成功"))}}const J=o=>{var a;n.debugname=(a=P.data.find(m=>m.id==o))==null?void 0:a.tname,n.dtype=o};async function ge(o,a){n.startAndTimeRange=o,n.starttime=o==null?void 0:o[0],n.endtime=o==null?void 0:o[1]}return(o,a)=>{const m=qe,S=at,c=Ue,ve=xe,be=Fe,ce=ke,f=Se;return g(),q(f,{show:$.value,"onUpdate:show":a[22]||(a[22]=d=>$.value=d),title:u.value,preset:"card",class:"w-800px"},{footer:t(()=>[e(ce,{justify:"end",size:16},{default:t(()=>[e(s(x),{onClick:r},{default:t(()=>[i(p(s(G)("common.cancel")),1)]),_:1}),e(s(x),{type:"primary",onClick:z},{default:t(()=>[i(p(s(G)("common.confirm")),1)]),_:1})]),_:1})]),default:t(()=>[e(be,{class:"pr-20px"},{default:t(()=>[e(ve,{ref_key:"formRef",ref:ee,model:n,rules:ue,"label-placement":"left","label-width":120},{default:t(()=>[e(c,{responsive:"screen","item-responsive":""},{default:t(()=>[e(m,{span:"24 m:12",label:"项目列表",path:"pid"},{default:t(()=>[e(s(pe),{filterable:"",clearable:"",value:n.pid,"onUpdate:value":[a[0]||(a[0]=d=>n.pid=d),A],placeholder:"请选择项目","label-field":"proname","value-field":"id",onClear:L,options:R.value,onScroll:w},null,8,["value","options"])]),_:1}),e(m,{span:"24 m:12",label:"权重",path:"dtype"},{default:t(()=>[e(s(pe),{filterable:"",value:n.dtype,"onUpdate:value":[a[1]||(a[1]=d=>n.dtype=d),J],tag:"",placeholder:"请选择权重","label-field":"name","value-field":"id",options:s(P).data,onScroll:se},null,8,["value","options"])]),_:1}),e(m,{span:"24 m:12",label:"业务名称",path:"debugname"},{default:t(()=>[e(s(B),{value:n.debugname,"onUpdate:value":a[2]||(a[2]=d=>n.debugname=d),placeholder:"请输入"},null,8,["value"])]),_:1}),e(m,{span:"24 m:12",label:"调试人",path:"dbcreater"},{default:t(()=>[e(s(pe),{filterable:"",value:n.dbcreater,"onUpdate:value":a[3]||(a[3]=d=>n.dbcreater=d),placeholder:"请选择调试人","label-field":"username","value-field":"id",options:s(j).data,onScroll:N},null,8,["value","options"])]),_:1}),e(m,{span:"24 m:24",label:"起止时间",path:"startAndTimeRange"},{default:t(()=>[e(s(tt),{clearable:"",value:n.startAndTimeRange,"onUpdate:value":a[4]||(a[4]=d=>n.startAndTimeRange=d),type:"daterange","value-format":"yyyy-MM-dd",style:{width:"100%"},"onUpdate:formattedValue":ge},null,8,["value"])]),_:1}),e(m,{span:"24 m:12",label:"对接方",path:"docker"},{default:t(()=>[e(s(B),{value:n.docker,"onUpdate:value":a[5]||(a[5]=d=>n.docker=d),placeholder:"请输入"},null,8,["value"])]),_:1}),e(m,{span:"24 m:12",label:"对接方负责人",path:"dockcharge"},{default:t(()=>[e(s(B),{value:n.dockcharge,"onUpdate:value":a[6]||(a[6]=d=>n.dockcharge=d),placeholder:"请输入",style:{width:"100%"}},null,8,["value"])]),_:1}),e(m,{span:"24 m:12",label:"联系方式",path:"dockcontact"},{default:t(()=>[e(s(B),{value:n.dockcontact,"onUpdate:value":a[7]||(a[7]=d=>n.dockcontact=d),placeholder:"请输入",style:{width:"100%"}},null,8,["value"])]),_:1}),D.operateType=="edit"?(g(),q(m,{key:0,span:"24 m:12",label:"状态",path:"status"},{default:t(()=>[e(s(pe),{clearable:"",value:n.status,"onUpdate:value":a[8]||(a[8]=d=>n.status=d),placeholder:"请选择",options:s(C).userInfo.usertype==0||s(C).userInfo.usertype==2?[{label:"待调试",value:0},{label:"开始调试",value:1},{label:"完成调试",value:2},{label:"审核完成",value:3}]:[{label:"待调试",value:0},{label:"开始调试",value:1},{label:"完成调试",value:2}]},null,8,["value","options"])]),_:1})):T("",!0),e(m,{span:"24 m:12",label:"备注",path:"notes"},{default:t(()=>[e(s(B),{value:n.notes,"onUpdate:value":a[9]||(a[9]=d=>n.notes=d),placeholder:"请输入"},null,8,["value"])]),_:1}),e(m,{span:"24 m:24",label:"附件1",path:"notes"},{default:t(()=>{var d;return[e(s(B),{value:n.re1,"onUpdate:value":a[10]||(a[10]=v=>n.re1=v),placeholder:"请输入",style:{width:"250px","margin-right":"20px"}},null,8,["value"]),n.fl1?(g(),U("span",ut,[i(p((d=n.fl1)==null?void 0:d.split("?")[1])+" ",1),h("span",{class:"cursor-pointer c-#c92a2a",onClick:a[11]||(a[11]=v=>n.fl1="")},"删除"),h("span",{class:"cursor-pointer c-#1890ff",onClick:a[12]||(a[12]=v=>l(n.fl1))},"下载")])):(g(),q(S,{key:1,style:{width:"auto"},ref:"uploadRef",action:"#","custom-request":v=>I(v,"fl1"),"show-file-list":!1},{default:t(()=>[e(s(x),{size:"small",ghost:"",type:"primary"},{default:t(()=>a[23]||(a[23]=[i("选择文件")])),_:1,__:[23]})]),_:1},8,["custom-request"]))]}),_:1}),e(m,{span:"24 m:24",label:"附件2",path:"notes"},{default:t(()=>{var d;return[e(s(B),{value:n.re2,"onUpdate:value":a[13]||(a[13]=v=>n.re2=v),placeholder:"请输入",style:{width:"250px","margin-right":"20px"}},null,8,["value"]),n.fl2?(g(),U("span",it,[i(p((d=n.fl2)==null?void 0:d.split("?")[1])+" ",1),h("span",{class:"cursor-pointer c-#c92a2a",onClick:a[14]||(a[14]=v=>n.fl2="")},"删除"),h("span",{class:"cursor-pointer c-#1890ff",onClick:a[15]||(a[15]=v=>l(n.fl2))},"下载")])):(g(),q(S,{key:1,style:{width:"auto"},ref:"uploadRef",action:"#","custom-request":v=>I(v,"fl2"),"show-file-list":!1},{default:t(()=>[e(s(x),{size:"small",ghost:"",type:"primary"},{default:t(()=>a[24]||(a[24]=[i("选择文件")])),_:1,__:[24]})]),_:1},8,["custom-request"]))]}),_:1}),e(m,{span:"24 m:24",label:"附件3",path:"notes"},{default:t(()=>{var d;return[e(s(B),{value:n.re3,"onUpdate:value":a[16]||(a[16]=v=>n.re3=v),placeholder:"请输入",style:{width:"250px","margin-right":"20px"}},null,8,["value"]),n.fl3?(g(),U("span",dt,[i(p((d=n.fl3)==null?void 0:d.split("?")[1])+" ",1),h("span",{class:"cursor-pointer c-#c92a2a",onClick:a[17]||(a[17]=v=>n.fl3="")},"删除"),h("span",{class:"cursor-pointer c-#1890ff",onClick:a[18]||(a[18]=v=>l(n.fl3))},"下载")])):(g(),q(S,{key:1,style:{width:"auto"},ref:"uploadRef",action:"#","custom-request":v=>I(v,"fl3"),"show-file-list":!1},{default:t(()=>[e(s(x),{size:"small",ghost:"",type:"primary"},{default:t(()=>a[25]||(a[25]=[i("选择文件")])),_:1,__:[25]})]),_:1},8,["custom-request"]))]}),_:1}),e(m,{span:"24 m:24",label:"附件4",path:"notes"},{default:t(()=>{var d;return[e(s(B),{value:n.re4,"onUpdate:value":a[19]||(a[19]=v=>n.re4=v),placeholder:"请输入",style:{width:"250px","margin-right":"20px"}},null,8,["value"]),n.fl4?(g(),U("span",pt,[i(p((d=n.fl4)==null?void 0:d.split("?")[1])+" ",1),h("span",{class:"cursor-pointer c-#c92a2a",onClick:a[20]||(a[20]=v=>n.fl4="")},"删除"),h("span",{class:"cursor-pointer c-#1890ff",onClick:a[21]||(a[21]=v=>l(n.fl4))},"下载")])):(g(),q(S,{key:1,style:{width:"auto"},ref:"uploadRef",action:"#","custom-request":v=>I(v,"fl4"),"show-file-list":!1},{default:t(()=>[e(s(x),{size:"small",ghost:"",type:"primary"},{default:t(()=>a[26]||(a[26]=[i("选择文件")])),_:1,__:[26]})]),_:1},8,["custom-request"]))]}),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["show","title"])}}}),ft=_e({name:"FormSearch",__name:"form-search",props:{model:{required:!0},modelModifiers:{}},emits:ye(["reset","search","search1","clear"],["update:model"]),setup(F,{emit:ae}){const k=ae,C=he(),{formRef:D,restoreValidation:n}=De(),y=Ne(F,"model"),_=W([]),{pageData:j,getData:H,nextPage:le}=me(ze),N=async w=>{const b=w.currentTarget;b.scrollTop+b.offsetHeight>=b.scrollHeight&&j.data.length<j.total&&(le(),_.value=j.data)},P=async w=>{var b;w?(y.value.pid=w,k("search1"),C.setProjectInfo({pname:(b=_.value.find(L=>L.id==w))==null?void 0:b.proname,pid:w})):k("clear")},ne=async w=>{await H({fuzzy:w}),_.value=j.data},X=async()=>{await H(),_.value=j.data},se=async w=>{y.value.status=w,k("search")},oe=async()=>{y.value.status=null,k("search")};(async()=>{var w,b;await H({fuzzy:C.userInfo.pname}),_.value=j.data,y.value.pid=C.userInfo.pid?C.userInfo.pid:(w=_.value[0])==null?void 0:w.id,C.setProjectInfo({pid:y.value.pid,pname:(b=_.value.find(L=>L.id==y.value.pid))==null?void 0:b.proname}),k("search")})();async function O(){await n(),y.value.fuzzy="",k("reset")}const Y=()=>{y.value.fuzzy="",k("search")};async function Q(){k("search")}return(w,b)=>{const L=pe,A=qe,M=B,Z=nt,ee=x,te=lt,re=ke,ue=Ue,u=xe,$=je;return g(),q($,{bordered:!1,size:"small",class:"card-wrapper"},{default:t(()=>[e(u,{ref_key:"formRef",ref:D,model:y.value,"label-placement":"left","label-width":100,"show-feedback":!1,onKeyup:Me(Q,["enter"])},{default:t(()=>[e(ue,{responsive:"screen","item-responsive":"","x-gap":16,"y-gap":16},{default:t(()=>[e(A,{span:"24 s:12 m:6",label:"项目列表",path:"pid"},{default:t(()=>[e(L,{filterable:"",clearable:"",value:y.value.pid,"onUpdate:value":[b[0]||(b[0]=I=>y.value.pid=I),P],placeholder:"请选择项目","label-field":"proname","value-field":"id",onClear:X,onSearch:ne,options:_.value,onScroll:N},null,8,["value","options"])]),_:1}),e(A,{span:"24 s:12 m:6",label:"状态",path:"status"},{default:t(()=>[e(L,{clearable:"",filterable:"",value:y.value.status,"onUpdate:value":[b[1]||(b[1]=I=>y.value.status=I),se],placeholder:"请选择状态",onClear:oe,options:[{label:"待调试",value:0},{label:"开始调试",value:1},{label:"完成调试(待审核)",value:2},{label:"审核完成",value:3}]},null,8,["value"])]),_:1}),e(A,{span:"24 s:12 m:6",label:"业务名称",path:"fuzzy"},{default:t(()=>[e(M,{value:y.value.fuzzy,"onUpdate:value":b[2]||(b[2]=I=>y.value.fuzzy=I),placeholder:"请输入",clearable:"",onClear:Y},null,8,["value"])]),_:1}),e(A,{span:"24  s:12 m:6",class:"pr-24px"},{default:t(()=>[e(re,{class:"w-full"},{default:t(()=>[e(ee,{onClick:O},{icon:t(()=>[e(Z,{class:"text-icon"})]),default:t(()=>[i(" "+p(s(G)("common.reset")),1)]),_:1}),e(ee,{type:"primary",ghost:"",onClick:Q},{icon:t(()=>[e(te,{class:"text-icon"})]),default:t(()=>[i(" "+p(s(G)("common.search")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}}),mt={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},gt={key:0},vt={key:1},bt={key:0},yt={key:1},_t={key:0},ht={key:1},kt={key:0},wt={key:1};function Ce(F){return typeof F=="function"||Object.prototype.toString.call(F)==="[object Object]"&&!We(F)}const At=_e({name:"projectmanagement_business",__name:"index",setup(F){const ae=Ve(),k=he(),C=Ge(),{columns:D,columnChecks:n,data:y,getData:_,loading:j,pagination:H,mobilePagination:le,searchParams:N}=Ze({showTotal:!0,immediate:!1,apiFn:Qe,apiParams:{page:1,pageSize:20,limit:20,fuzzy:"",status:null,dbcreater:void 0,_t:new Date().getTime()},columns:()=>[{type:"selection",align:"center",width:48},{key:"debugname",title:"业务名称",align:"center",width:120},{key:"docker",title:"对接方",align:"center",width:120},{key:"dockcharge",title:"对接方负责人",align:"center",width:120},{key:"dockcontact",title:"联系方式",align:"center",width:120},{key:"status",title:"状态",align:"center",width:120,render(r){return e(ie,{type:r.status==0?"info":r.status==1||r.status==2?"warning":"success"},{default:()=>[r.status==0?"待调试":r.status==1?"开始调试":r.status==2?"完成调试":"审核完成"]})}},{key:"dbusername",title:"调试人",align:"center",width:120},{key:"notes",title:"备注",align:"center",width:120},{key:"username",title:"创建人",align:"center",width:120},{key:"dbtime",title:"创建时间",align:"center",width:120},{key:"operate",title:G("common.operate"),align:"center",width:280,fixed:"right",render:r=>{let l;return e("div",{class:"flex-center gap-8px"},[r.status==0&&r.dbcreater==k.userInfo.id&&e(de,{onPositiveClick:()=>b(r,1)},{default:()=>"确定开始调试吗？",trigger:()=>V(e(x,{type:"success",ghost:!0,size:"small"},{default:()=>["开始"]}),[[K("no-auth"),"project:Debug:update"]])}),r.status==1&&r.dbcreater==k.userInfo.id&&e(de,{onPositiveClick:()=>b(r,2)},{default:()=>"确定完成调试？",trigger:()=>V(e(x,{type:"success",ghost:!0,size:"small"},{default:()=>["完成"]}),[[K("no-auth"),"project:Debug:update"]])}),r.status==2&&(k.userInfo.usertype==0||k.userInfo.usertype==2)&&e(de,{onPositiveClick:()=>b(r,3)},{default:()=>"是否确认执行审核操作？",trigger:()=>V(e(x,{type:"warning",ghost:!0,size:"small"},{default:()=>["审核"]}),[[K("no-auth"),"project:Debug:update"]])}),V(e(x,{type:"primary",ghost:!0,size:"small",onClick:()=>I(r)},{default:()=>[i("详情")]}),[[K("no-auth"),"project:Debug:select"]]),V(e(x,{type:"primary",ghost:!0,size:"small",onClick:()=>L(r.id)},Ce(l=G("common.edit"))?l:{default:()=>[l]}),[[K("no-auth"),"project:Debug:update"]]),e(de,{onPositiveClick:()=>w(r.id)},{default:()=>G("common.confirmDelete"),trigger:()=>{let z;return V(e(x,{type:"error",ghost:!0,size:"small"},Ce(z=G("common.delete"))?z:{default:()=>[z]}),[[K("no-auth"),"project:Debug:delete"]])}})])}}]}),{drawerVisible:P,operateType:ne,editingData:X,handleAdd:se,handleEdit:oe,checkedRowKeys:R,onBatchDeleted:O,onDeleted:Y}=et(y,_);He(async()=>{});async function Q(){console.log(R.value),A(R.value.join(","),r=>{O()})}async function w(r){const{data:l,error:z}=await we(r,N.pid);z||Y()}const b=async(r,l)=>{var J;const{data:z,error:E}=await Te([{id:r.id,status:l,pid:r.pid}]);E||((J=window.$message)==null||J.success("操作成功"),_())};function L(r){oe(r)}async function A(r,l){const{data:z,error:E}=await we(r,N.pid);if(!E)l&&l(z);else return!1}const M=W(-1),Z=r=>{r>0?(M.value=r,N.dbcreater=JSON.parse(JSON.stringify(r)),_()):(N.dbcreater=void 0,M.value=-1,_())},ee=r=>{_()},te=()=>{console.log(C.query.prjId,"route.query.prjId"),C.query.prjId&&C.query.debug&&(N.pid=Number(C.query.prjId),Z(k.userInfo.id)),C.query.prjId&&!C.query.debug&&(N.pid=Number(C.query.prjId),N.status=2),_()},re=()=>{_()},ue=()=>{y.value=[],H.itemCount=0},u=W(null),$=W(!1),I=r=>{u.value=r,$.value=!0};return(r,l)=>{const z=rt,E=Ke,J=ke,ge=Ie,o=Re,a=Pe,m=Ee,S=je,c=ot,ve=st,be=Se,ce=K("no-auth");return g(),U("div",mt,[e(ft,{model:s(N),"onUpdate:model":l[0]||(l[0]=f=>fe(N)?N.value=f:null),onReset:re,onSearch:te,onSearch1:s(_),onClear:ue},null,8,["model","onSearch1"]),e(S,{bordered:!1,size:"small",class:"sm:flex-1-hidden card-wrapper"},{header:t(()=>[e(J,{align:"center",wrap:"",class:"lt-sm:w-200px"},{default:t(()=>[l[6]||(l[6]=h("div",null,"待调试业务",-1)),e(E,{size:"small",value:M.value,"onUpdate:value":[l[1]||(l[1]=f=>M.value=f),Z],name:"radiobuttongroup1"},{default:t(()=>[e(z,{value:-1,label:"默认"}),e(z,{value:s(k).userInfo.id,label:"我的调试"},null,8,["value"])]),_:1},8,["value"])]),_:1,__:[6]})]),"header-extra":t(()=>[e(J,{align:"center",wrap:"",justify:"end",class:"lt-sm:w-200px"},{default:t(()=>[V((g(),q(s(x),{onClick:s(se),size:"small",ghost:"",type:"primary"},{icon:t(()=>[e(ge,{class:"text-icon"})]),default:t(()=>[l[7]||(l[7]=i(" "+p("新增")))]),_:1,__:[7]},8,["onClick"])),[[ce,"project:Debug:insert"]]),e(s(de),{onPositiveClick:Q},{trigger:t(()=>[V((g(),q(s(x),{size:"small",ghost:"",type:"error",disabled:s(R).length==0},{icon:t(()=>[e(o,{class:Je(["text-icon",{"animate-spin":s(j)}])},null,8,["class"])]),default:t(()=>[l[8]||(l[8]=i(" "+p("批量删除")))]),_:1,__:[8]},8,["disabled"])),[[ce,"project:Debug:delete"]])]),default:t(()=>[l[9]||(l[9]=i(" 确定要删除选中的吗？ "))]),_:1,__:[9]}),e(a,{columns:s(n),"onUpdate:columns":l[2]||(l[2]=f=>fe(n)?n.value=f:null)},null,8,["columns"])]),_:1})]),default:t(()=>[e(m,{"checked-row-keys":s(R),"onUpdate:checkedRowKeys":l[3]||(l[3]=f=>fe(R)?R.value=f:null),columns:s(D),data:s(y),size:"small","flex-height":!s(ae).isMobile,loading:s(j),remote:"","row-key":f=>f.id,pagination:s(le),class:"sm:h-full","onUpdate:filters":ee},null,8,["checked-row-keys","columns","data","flex-height","loading","row-key","pagination"]),e(ct,{visible:s(P),"onUpdate:visible":l[4]||(l[4]=f=>fe(P)?P.value=f:null),onSubmitted:s(_),"operate-type":s(ne),pid:s(N).pid,"row-data":s(X)},null,8,["visible","onSubmitted","operate-type","pid","row-data"])]),_:1}),e(be,{show:$.value,"onUpdate:show":l[5]||(l[5]=f=>$.value=f),title:"查看详情",preset:"card",class:"w-1200px"},{default:t(()=>[e(ve,{bordered:"","label-placement":"left","label-align":"center",columns:2,"label-style":{width:"160px"}},{default:t(()=>[e(c,null,{label:t(()=>l[10]||(l[10]=[i(" 权重 ")])),default:t(()=>[h("span",null,p(u.value.tname),1)]),_:1}),e(c,null,{label:t(()=>l[11]||(l[11]=[i(" 业务名称 ")])),default:t(()=>[h("span",null,p(u.value.debugname),1)]),_:1}),e(c,null,{label:t(()=>l[12]||(l[12]=[i(" 计划起止时间 ")])),default:t(()=>[h("span",null,p(u.value.starttime)+"--"+p(u.value.endtime),1)]),_:1}),e(c,null,{label:t(()=>l[13]||(l[13]=[i(" 对接方 ")])),default:t(()=>[h("span",null,p(u.value.docker),1)]),_:1}),e(c,null,{label:t(()=>l[14]||(l[14]=[i(" 对接方负责人 ")])),default:t(()=>[h("span",null,p(u.value.dockcharge),1)]),_:1}),e(c,null,{label:t(()=>l[15]||(l[15]=[i(" 联系方式 ")])),default:t(()=>[h("span",null,p(u.value.dockcontact),1)]),_:1}),e(c,null,{label:t(()=>l[16]||(l[16]=[i(" 状态 ")])),default:t(()=>[u.value.status==0?(g(),q(s(ie),{key:0,type:"default"},{default:t(()=>l[17]||(l[17]=[i("未调试")])),_:1,__:[17]})):T("",!0),u.value.status==1?(g(),q(s(ie),{key:1,type:"info"},{default:t(()=>l[18]||(l[18]=[i("开始调试")])),_:1,__:[18]})):T("",!0),u.value.status==2?(g(),q(s(ie),{key:2,type:"success"},{default:t(()=>l[19]||(l[19]=[i("完成调试")])),_:1,__:[19]})):T("",!0),u.value.status==3?(g(),q(s(ie),{key:3,type:"success"},{default:t(()=>l[20]||(l[20]=[i("审核完成")])),_:1,__:[20]})):T("",!0)]),_:1}),e(c,null,{label:t(()=>l[21]||(l[21]=[i(" 备注 ")])),default:t(()=>[h("span",null,p(u.value.notes),1)]),_:1}),e(c,null,{label:t(()=>l[22]||(l[22]=[i(" 调试人 ")])),default:t(()=>[h("span",null,p(u.value.dbusername),1)]),_:1}),e(c,null,{label:t(()=>l[23]||(l[23]=[i(" 调试时间 ")])),default:t(()=>[h("span",null,p(u.value.dbdbtime),1)]),_:1}),e(c,null,{label:t(()=>l[24]||(l[24]=[i(" 审核人 ")])),default:t(()=>[h("span",null,p(u.value.ckcreater),1)]),_:1}),e(c,null,{label:t(()=>l[25]||(l[25]=[i(" 审核时间 ")])),default:t(()=>[h("span",null,p(u.value.ckdbtime),1)]),_:1}),e(c,null,{label:t(()=>l[26]||(l[26]=[i(" 附件1 ")])),default:t(()=>{var f;return[u.value.re1?(g(),U("span",gt,"文件别名"+p(u.value.re1),1)):T("",!0),u.value.fl1?(g(),U("span",vt,p((f=u.value.fl1)==null?void 0:f.split("?")[1]),1)):T("",!0)]}),_:1}),e(c,null,{label:t(()=>l[27]||(l[27]=[i(" 附件2 ")])),default:t(()=>{var f;return[u.value.re2?(g(),U("span",bt,"文件别名"+p(u.value.re2),1)):T("",!0),u.value.fl2?(g(),U("span",yt,p((f=u.value.fl2)==null?void 0:f.split("?")[1]),1)):T("",!0)]}),_:1}),e(c,null,{label:t(()=>l[28]||(l[28]=[i(" 附件3 ")])),default:t(()=>{var f;return[u.value.re3?(g(),U("span",_t,"文件别名"+p(u.value.re3),1)):T("",!0),u.value.fl3?(g(),U("span",ht,p((f=u.value.fl3)==null?void 0:f.split("?")[1]),1)):T("",!0)]}),_:1}),e(c,null,{label:t(()=>l[29]||(l[29]=[i(" 附件4 ")])),default:t(()=>{var f;return[u.value.re4?(g(),U("span",kt,"文件别名"+p(u.value.re4),1)):T("",!0),u.value.fl4?(g(),U("span",wt,p((f=u.value.fl4)==null?void 0:f.split("?")[1]),1)):T("",!0)]}),_:1})]),_:1})]),_:1},8,["show"])])}}});export{At as default};
