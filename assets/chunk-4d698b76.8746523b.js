(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4d698b76"],{"0ac3":function(e,t,a){"use strict";a.r(t);a("99af"),a("4de4"),a("4160"),a("caad"),a("c975"),a("a434"),a("b0c0"),a("a9e3"),a("2532"),a("498a"),a("159b"),a("96cf");var i=a("1da1"),n=a("5530"),r=a("bc3a"),o=a.n(r),s=a("c1df"),c=a.n(s),l=a("2f62"),d=a("1398"),m=a("7304"),p=a.n(m),f=a("7401"),h=a.n(f),u=a("a33e"),g=a.n(u),v=a("986f"),w=a.n(v),y=a("e199"),C={name:"WorkPlace",i18n:a("6d59"),data:function(){return{powerGeneration:p.a,power:h.a,deviceStatistics:g.a,reactive:w.a,isExpand:!1,loading:!1,mainChart:null,yearShowOne:!1,dataForm:{dateType:1,type:"power",startDate:"",startMonth:"",startYear:"",storeYear:""},dataListLoading:!1,prjBaseInfo:{},stationBaseInfo:{},stationInfoTimer:null,dataList:[],basicFunctionsList:[{imgUrl:a("e35b"),name:this.$t("engineeringWizard"),path:""},{imgUrl:a("9d31"),name:this.$t("deviceSetup"),path:"/protect/devicemanage/deviceaccess"},{imgUrl:a("e310"),name:this.$t("networkManagement"),path:"/setting/communicationparams/internet"},{imgUrl:a("cff1"),name:this.$t("transferConfiguration"),path:"/setting/communicationparams/iec104"},{imgUrl:a("c8e1"),name:this.$t("systemMaintenance"),path:"/protect/systemprotect"}],newProjectWizardVisible:!1,newProjectWizardLoading:!1,newProjectWizardCurent:0,labelCol:{span:4},wrapperCol:{span:20},labelColEn:{span:6},wrapperColEn:{span:18},templateList:[],transportList:[],newProjectWizardConfigChecked:!0,newProjectWizardConfigList:[],newProjectWizardConfigForm:{type:1,templateId:void 0,checked:!1,devType:1,comList:[],duration:"30",transport:[],effectiveImmediately:!0},selectTemplateVisible:!1,oldPlantName:"",isEditplantName:!1,isEditGatewayDesc:!1,oldGatewaydata:{},Gatewaydata:{}}},computed:Object(n.a)(Object(n.a)({},Object(l.e)("account",["user"])),Object(l.e)("setting",["lang","multiPage"])),methods:{moment:c.a,disabledDate:function(e){return e&&e>c()().endOf("day")},disabledMonth:function(e){return e&&e>c()().endOf("month")},disabledYear:function(e){return e&&e>c()().endOf("year")},handleDateTypeChange:function(){1==this.dataForm.dateType?(this.dataForm.type="power",this.dataForm.startDate=this.dataForm.storeDate?this.dataForm.storeDate:this.$getSystemDate(0)):2==this.dataForm.dateType?(this.dataForm.type="generation",this.dataForm.startMonth=this.dataForm.startMonth?this.dataForm.startMonth:this.$getSystemDate(3)):3==this.dataForm.dateType&&(this.dataForm.type="generation",this.dataForm.storeYear||(this.dataForm.startYear=c()(),this.dataForm.storeYear=c()(this.dataForm.startYear).get("year"))),this.getStationHistoryDataList()},handleDateChange:function(e,t){this.dataForm.startDate=t,this.dataForm.storeDate=t,this.getStationHistoryDataList()},handleMonthChange:function(e,t){this.dataForm.startMonth=t,this.getStationHistoryDataList()},handleYearChangeOpen:function(){this.yearShowOne=!0},handleYearPanelChange:function(e){this.dataForm.startYear=e,this.dataForm.storeYear=c()(this.dataForm.startYear).get("year"),this.yearShowOne=!1,this.getStationHistoryDataList()},timestampToTime:function(e){if(10==String(e).length){var t=new Date(1e3*e),a=1900+t.getYear(),i="0"+(t.getMonth()+1),n="0"+t.getDate(),r="0"+t.getHours(),o="0"+t.getMinutes(),s="0"+t.getSeconds();return a+"-"+i.substring(i.length-2,i.length)+"-"+n.substring(n.length-2,n.length)+" "+r.substring(r.length-2,r.length)+":"+o.substring(o.length-2,o.length)+":"+s.substring(s.length-2,s.length)}var c=new Date(e),l=c.getFullYear(),d=c.getMonth()+1,m=c.getDate(),p=c.getHours(),f=c.getMinutes(),h=c.getSeconds();return l+"-"+(d<10?"0"+d:d)+"-"+(m<10?"0"+m:m)+" "+(p<10?"0"+p:p)+":"+(f<10?"0"+f:f)+":"+(h<10?"0"+h:h)},getPrjInfoByLogin:function(){var e=this;Object(y.z)({}).then((function(t){var a=t.data;return!!a&&(0!=a.code&&7!=a.code?(e.$message.config({maxCount:1}),e.$message.destroy(),e.getStationInfoByPlatform(),e.getSetIntervalBaseInfo(),e.$message.error(a.msg)):(e.prjBaseInfo=a.data?a.data:{},void("{}"!=JSON.stringify(e.prjBaseInfo)&&(a.data&&a.data.time&&!a.data.time.includes("1970-01-01")?(e.getStationInfoByPlatform(),e.getSetIntervalBaseInfo()):"visitor"!=e.user&&e.getPrjGuideCfgByPrj()))))}))},getPrjGuideCfgByPrj:function(){var e=this,t={language:"US"==e.lang?2:1};e.newProjectWizardConfigForm.comList=[],Object(y.y)(t).then((function(t){var a=t.data;if(!a)return!1;if(0!=a.code)return e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg);if(e.transportList=a.data.trans,e.transportList.length>0&&e.transportList.forEach((function(t){e.newProjectWizardConfigForm.transport.push(t.id)})),a.data.template){for(var i in a.data.template)1==e.newProjectWizardConfigForm.type?1==i&&(e.templateList=e.templateList.concat(a.data.template[i])):1!=i&&(e.templateList=e.templateList.concat(a.data.template[i]));if(e.templateList.length>0&&!e.newProjectWizardConfigForm.templateId){for(var n=!1,r=0;r<e.templateList.length;r++)if(e.templateList[r].includes("250kW")){n=!0,e.newProjectWizardConfigForm.templateId=e.templateList[r];break}n||(e.newProjectWizardConfigForm.templateId=e.templateList[0])}}else e.templateList=[];if(a.data.com.length>0){var o=1;a.data.com.forEach((function(t,a){e.newProjectWizardConfigForm.comList.push({name:t,checked:0==a,count:0==a?8:1,dataList:function(){var t=[];if(0==a){for(var i=0;i<8;i++)t.push({value:"",checked:!0,addr:e.newProjectWizardConfigChecked?o++:1,templateId:e.newProjectWizardConfigForm.templateId||void 0});return t}return[{value:"",checked:!1,addr:e.newProjectWizardConfigChecked?o++:1,templateId:e.newProjectWizardConfigForm.templateId||void 0}]}()})}))}else e.newProjectWizardConfigForm.comList=[];e.newProjectWizardCurent=0,e.newProjectWizardVisible=!0}))},getStationInfoByPlatform:function(){var e=this;Object(y.E)({}).then((function(t){var a=t.data;return!!a&&(0!=a.code&&7!=a.code?(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)):(e.stationBaseInfo=a.data,void e.getInvBaseInfoList()))}))},getInvBaseInfoList:function(){var e=this;Object(y.v)({page:1,count:10,simple:1}).then((function(t){var a=t.data;return!!a&&(0!=a.code&&7!=a.code?(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)):7!=a.code&&void(e.dataList=a.data.dev))}))},getSetIntervalBaseInfo:function(){var e=this;o.a.get("/common.json").then((function(t){var a=t.data;e.stationInfoTimer&&(clearInterval(e.stationInfoTimer),e.stationInfoTimer=null),e.stationInfoTimer=setInterval((function(){if(!window.location.hash.includes("/dashboard/workplace"))return clearInterval(e.stationInfoTimer),e.stationInfoTimer=null,!1;e.getStationInfoByPlatform()}),a.intervalDuration)}))},handleExpandChange:function(){this.isExpand=!this.isExpand},formatterVer:function(e){return"DSP : ".concat(e.dsp_ver_h+"."+e.dsp_ver_l||"--","<br />LCD : ").concat(e.lcd_ver_h+"."+e.lcd_ver_l||"--")},handleRouterChange:function(e){e?this.$router.push({path:e}):this.getPrjGuideCfgByPrj()},handleNewProjectWizardCancel:function(){this.newProjectWizardVisible=!1},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},handleNextChange:function(){this.newProjectWizardCurent=1},handleAddDeviceByComChange:function(e,t){var a=this,i=null;this.newProjectWizardConfigForm.comList[e].dataList.length<33&&(this.newProjectWizardConfigForm.comList[e].dataList.push({addr:0==this.newProjectWizardConfigForm.comList[e].dataList.length?1:this.newProjectWizardConfigForm.comList[e].dataList[t].addr+1,templateId:this.newProjectWizardConfigForm.templateId||void 0,value:""}),this.newProjectWizardConfigForm.comList.forEach((function(t,n){n-e>0?t.checked||t.dataList.forEach((function(t,r){if(!t.checked){var o=null;o=n-e==1?0==r?i+r+1:a.newProjectWizardConfigForm.comList[n].dataList[r-1].addr+1:0==r?a.newProjectWizardConfigForm.comList[n-1].dataList[a.newProjectWizardConfigForm.comList[n-1].dataList.length-1].addr+r+1:a.newProjectWizardConfigForm.comList[n].dataList[r-1].addr+1,a.$set(t,"addr",o)}})):n-e==0&&(i||(i=a.newProjectWizardConfigForm.comList[e].dataList[a.newProjectWizardConfigForm.comList[e].dataList.length-1].addr))})))},handleDeleteDeviceByComChange:function(e,t){1!=this.newProjectWizardConfigForm.comList[e].dataList.length&&this.newProjectWizardConfigForm.comList[e].dataList.splice(t,1)},handleCheckedAllChange:function(e){var t=this;e.target.checked?t.newProjectWizardConfigForm.comList.forEach((function(e){t.$set(e,"checked",!0),e.dataList.length>0&&e.dataList.forEach((function(e){t.$set(e,"checked",!0)}))})):t.newProjectWizardConfigForm.comList.forEach((function(e){t.$set(e,"checked",!1),e.dataList.length>0&&e.dataList.forEach((function(e){t.$set(e,"checked",!1)}))}))},handleDeviceCheckAllChange:function(e,t){var a,i=this;e.target.checked?i.newProjectWizardConfigForm.comList[t].dataList.forEach((function(e){i.$set(e,"checked",!0)})):i.newProjectWizardConfigForm.comList[t].dataList.forEach((function(e){i.$set(e,"checked",!1)})),a=i.newProjectWizardConfigForm.comList.filter((function(e){return e.checked})),i.newProjectWizardConfigForm.comList.length==a.length?i.$set(i.newProjectWizardConfigForm,"checked",!0):i.$set(i.newProjectWizardConfigForm,"checked",!1)},handleDeviceChecChange:function(e,t,a){console.log(e,t,a);var i,n=this.newProjectWizardConfigForm.comList[t].dataList.filter((function(e){return e.checked}));this.newProjectWizardConfigForm.comList[t].dataList.length==n.length?this.$set(this.newProjectWizardConfigForm.comList[t],"checked",!0):this.$set(this.newProjectWizardConfigForm.comList[t],"checked",!1),i=this.newProjectWizardConfigForm.comList.filter((function(e){return e.checked})),this.newProjectWizardConfigForm.comList.length==i.length?this.$set(this.newProjectWizardConfigForm,"checked",!0):this.$set(this.newProjectWizardConfigForm,"checked",!1)},handleTemplateSameChange:function(){this.newProjectWizardConfigForm.templateId=this.newProjectWizardConfigForm.comList[0].dataList[0].templateId,this.selectTemplateVisible=!0},handleSelectTemplateChange:function(){var e=this;if(!e.newProjectWizardConfigForm.templateId)return e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error("请选择模板");e.newProjectWizardConfigForm.comList.forEach((function(t){t.dataList.length>0&&t.dataList.forEach((function(t){t.checked&&e.$set(t,"templateId",e.newProjectWizardConfigForm.templateId)}))})),e.selectTemplateVisible=!1},handleCountChange:function(e,t){1==this.newProjectWizardConfigForm.devType&&this.newProjectWizardConfigChecked&&this.newProjectWizardConfigForm.comList[e].dataList[t+1]&&(this.newProjectWizardConfigForm.comList[e].dataList[t+1].addr=Number(this.newProjectWizardConfigForm.comList[e].dataList[t].value||0)+Number(this.newProjectWizardConfigForm.comList[e].dataList[t].addr||0))},handleAddrChange:function(e,t){var a=this,i=[];1==a.newProjectWizardConfigForm.devType&&a.newProjectWizardConfigChecked&&(i=a.newProjectWizardConfigForm.comList[e].dataList.filter((function(e){return e.checked})),t>0?i.length>1&&i.forEach((function(e,n){e.checked&&a.$set(e,"addr",n-t<=0?e.addr:Number(i[n-1].addr||0)+1)})):i.length>1&&i.forEach((function(e,n){e.checked&&a.$set(e,"addr",n==t?e.addr:Number(i[n-1].addr||0)+1)})))},handleDevAddrAutoChange:function(e){var t=this;e.target.checked&&this.newProjectWizardConfigForm.comList.forEach((function(e){e.dataList.length>0&&e.dataList.forEach((function(a,i){0!=i&&""!==String(e.dataList[i-1].addr).trim()&&""!==String(e.dataList[i-1].value).trim()&&""===String(a.addr).trim()&&t.$set(a,"addr",0==i?Number(a.addr):Number(e.dataList[i-1].addr)+Number(e.dataList[i-1].value))}))}))},handleStartSearchChange:function(){},handleStopSearchChange:function(){},handlePreviousChange:function(){this.newProjectWizardCurent=0},handleFinallyChange:function(){var e=this,t=!0;if(this.newProjectWizardConfigForm.comList.length>0)if(0==this.newProjectWizardConfigForm.devType){for(var a=0;a<this.newProjectWizardConfigForm.comList.length;a++)if(this.newProjectWizardConfigForm.comList[a].checked&&(!this.newProjectWizardConfigForm.comList[a].value||0==this.newProjectWizardConfigForm.comList[a].value||!this.newProjectWizardConfigForm.comList[a].templateId)){t=!1;break}}else for(var i=0;i<this.newProjectWizardConfigForm.comList.length;i++)if(this.newProjectWizardConfigForm.comList[i].checked&&this.newProjectWizardConfigForm.comList[i].dataList.length>0)for(var r=0;r<this.newProjectWizardConfigForm.comList[i].dataList.length;r++)if(!this.newProjectWizardConfigForm.comList[i].dataList[r].addr||!this.newProjectWizardConfigForm.comList[i].dataList[r].templateId){t=!1;break}if(!t)return this.$message.config({maxCount:1}),this.$message.destroy(),this.$message.warning(0==this.newProjectWizardConfigForm.devType?this.$t("pleaseCompleteCheckNumberOfDevicesSerialPort"):this.$t("pleaseCompleteCheckNumberOfDevicesSerialPortAndAddressOfDevices"));this.newProjectWizardConfigList=[],this.newProjectWizardConfigForm.comList.forEach((function(t){t.checked&&t.dataList.length>0&&t.dataList.forEach((function(a){a.checked&&e.newProjectWizardConfigList.push(Object(n.a)(Object(n.a)({},a),{name:t.name}))}))})),this.newProjectWizardCurent=1},rowspanMethod:function(e){var t=e.row,a=e._rowIndex,i=e.column,n=e.visibleData,r=t[i.property];if(r&&["name"].includes(i.property)){var o=n[a-1],s=n[a+1];if(o&&o[i.property]===r)return{rowspan:0,colspan:0};for(var c=1;s&&s[i.property]===r;)s=n[++c+a];if(c>1)return{rowspan:c,colspan:1}}},handleTransportChange:function(e){console.log(e),console.log(this.newProjectWizardConfigForm.transport)},handlePreviousFinallyChange:function(){this.newProjectWizardCurent=0},handleCompleteChange:function(){var e=this,t={channel:[],trans:[],language:"US"==e.lang?2:1};return e.newProjectWizardConfigForm.comList.forEach((function(e){e.checked&&t.channel.push({com:e.name,dev:function(){for(var t=[],a=0;a<e.dataList.length;a++)t.push({addr:Number(e.dataList[a].addr),template:e.dataList[a].templateId});return t}()})})),0==t.channel.length?(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.warning(e.$t("pleaseSelectDeviceInformation"))):0==e.newProjectWizardConfigForm.transport.length?(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.warning(e.$t("pleaseSelectForwardingProtocol"))):(e.transportList.forEach((function(a){-1!=e.newProjectWizardConfigForm.transport.indexOf(a.id)&&t.trans.push(a)})),e.newProjectWizardLoading=!0,void Object(y.T)(t).then((function(t){var a=t.data;return a?0!=a.code?(e.newProjectWizardLoading=!1,e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)):a.data.result?(e.newProjectWizardLoading=!1,e.newProjectWizardVisible=!1,e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.success(a.msg),void(e.newProjectWizardConfigForm.effectiveImmediately&&Object(y.eb)({re_run:1}).then((function(t){var a=t.data;return a?0!=a.code?(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)):(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.success(a.msg)):(e.newProjectWizardLoading=!1,!1)})).catch((function(e){return console.log(e),!1})))):(e.newProjectWizardLoading=!1,e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg)):(e.newProjectWizardLoading=!1,!1)})).catch((function(t){return console.log(t),e.newProjectWizardLoading=!1,!1})))},getStationHistoryDataList:function(){var e=this,t=[],a=[],i={query_time:1==e.dataForm.dateType?e.dataForm.startDate:2==e.dataForm.dateType?e.dataForm.startMonth:e.dataForm.storeYear,query_type:e.dataForm.dateType};Object(y.F)(i).then((function(i){var n=i.data;return!!n&&(0!=n.code&&7!=n.code?(e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(n.msg)):7!=n.code&&(!!e.$refs.mainChart&&(n.data.history.forEach((function(i){1==e.dataForm.dateType?(t.push(i.update_time.substr(11)),a.push("power"==e.dataForm.type?i.active_power:i.day_yield)):2==e.dataForm.dateType?(t.push(i.update_time.substring(8,10)),a.push("power"==e.dataForm.type?i.active_power:i.day_yield)):3==e.dataForm.dateType&&(t.push(i.update_time.substring(5,7)),a.push("power"==e.dataForm.type?i.active_power:i.day_yield))})),e.mainChart=d.a.init(e.$refs.mainChart,"light"),void("power"==e.dataForm.type?e.mainChart.setOption({tooltip:{backgroundColor:"rgba(50, 50, 50, 0.7)",textStyle:{color:"#fff"}},xAxis:{type:"category",data:t},grid:{left:"2%",right:"2%",top:"10%",bottom:"2%",containLabel:!0},yAxis:{name:e.$t("activePower"),axisLine:{show:!0}},series:[{name:e.$t("activePower"),data:a,type:"line"}]}):e.mainChart.setOption({tooltip:{},xAxis:{data:t},grid:{left:"2%",right:"2%",top:"10%",bottom:"2%",containLabel:!0},yAxis:{name:e.$t("yieldUnit"),axisLine:{show:!0}},series:[{name:e.$t("yieldUnit"),type:"bar",data:a}]})))))}))},handleOpennameIpt:function(){this.isEditplantName=!0,this.oldPlantName=JSON.parse(JSON.stringify(this.prjBaseInfo.name)),this.$nextTick((function(){document.getElementById("plantName").focus()}))},handleSavePlantName:function(){var e=this;this.prjBaseInfo.name?this.oldPlantName!=this.prjBaseInfo.name?Object(y.cb)({name:this.prjBaseInfo.name}).then((function(t){1==t.data.data.result?(e.$message.success("设置成功"),e.getPrjInfoByLogin()):e.$message.error("设置失败")})):this.$message.warning("请修改电站名称"):this.$message.warning("请输入电站名称")},GetGatewayInfo:function(){var e=this;return Object(i.a)(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.r)({});case 2:a=t.sent,i=a.data,e.oldGatewaydata=JSON.parse(JSON.stringify(i.data)),e.Gatewaydata=i.data;case 6:case"end":return t.stop()}}),t)})))()},handleOpenInput:function(){this.isEditGatewayDesc=!0,this.$nextTick((function(){document.getElementById("gatewayDesc").focus()}))},handleBlurGatewayDesc:function(){this.isEditGatewayDesc=!1,this.Gatewaydata.note=this.oldGatewaydata.note},handleBtnGatewayDesc:function(){var e=this;return Object(i.a)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.X)({note:e.Gatewaydata.note});case 2:a=t.sent,1==a.data.data.result?e.$message.success("设置成功"):e.$message.error("设置失败"),e.GetGatewayInfo(),e.isEditGatewayDesc=!1;case 7:case"end":return t.stop()}}),t)})))()}},created:function(){this.dataForm.startDate=this.$getSystemDate(0),this.dataForm.startMonth=this.$getSystemDate(3),this.dataForm.startYear=c()(),this.dataForm.storeYear=c()(this.dataForm.startYear).get("year")},mounted:function(){var e=this;e.multiPage||setTimeout((function(){e.loading=!1,e.getPrjInfoByLogin(),e.getStationHistoryDataList()}),2e3),this.GetGatewayInfo()},beforeDestroy:function(){this.stationInfoTimer&&(clearInterval(this.stationInfoTimer),this.stationInfoTimer=null)},activated:function(){var e=this;e.multiPage&&setTimeout((function(){e.loading=!1,e.getPrjInfoByLogin(),e.getStationHistoryDataList()}),2e3)},deactivated:function(){this.stationInfoTimer&&(clearInterval(this.stationInfoTimer),this.stationInfoTimer=null)},watch:{lang:{handler:function(){this.basicFunctionsList=[{imgUrl:a("e35b"),name:this.$t("engineeringWizard"),path:""},{imgUrl:a("9d31"),name:this.$t("deviceSetup"),path:"/protect/devicemanage/deviceaccess"},{imgUrl:a("e310"),name:this.$t("networkManagement"),path:"/setting/communicationparams/internet"},{imgUrl:a("cff1"),name:this.$t("transferConfiguration"),path:"/setting/communicationparams/iec104"},{imgUrl:a("c8e1"),name:this.$t("systemMaintenance"),path:"/protect/systemprotect"}],this.getStationHistoryDataList()},deep:!0,immediate:!0}}},b=(a("a7ca"),a("4a46"),a("0c7c")),P=Object(b.a)(C,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("a-card",{attrs:{"body-style":{padding:0},headStyle:{minHeight:"40px",height:"40px"}}},[i("template",{slot:"title"},[i("div",{staticClass:"card-home",staticStyle:{"margin-bottom":"0"}},[i("div",{staticStyle:{width:"4px",height:"20px",background:"#1980ff","margin-right":"5px"}}),i("div",{staticClass:"card-value"},[e._v(e._s(e.$t("shortcutMenu")))])])]),i("template",{slot:"extra"},e._l(e.basicFunctionsList,(function(t,a){return i("div",{key:a,staticStyle:{display:"inline-block"},on:{click:function(a){return e.handleRouterChange(t.path)}}},[i("a-tooltip",{attrs:{placement:"bottom",title:t.name}},[i("img",{staticStyle:{width:"28px",height:"28px","margin-right":"10px"},attrs:{src:t.imgUrl,alt:""}})])],1)})),0)],2),i("a-card",{staticStyle:{"margin-top":"5px"},attrs:{headStyle:{minHeight:"40px",height:"40px"},"body-style":{padding:0}}},[i("template",{slot:"title"},[i("div",{staticClass:"card-home",staticStyle:{"margin-bottom":"0"}},[i("div",{staticStyle:{width:"4px",height:"20px",background:"#1980ff","margin-right":"5px"}}),i("div",{staticClass:"card-value"},[e._v(e._s(e.$t("dataIndex")))])])]),i("a-row",{staticStyle:{margin:"3px 0"},attrs:{type:"flex",align:"middle"}},[i("a-col",{attrs:{xs:12,sm:8,md:8,lg:6,xl:6,xxl:6}},[i("div",{staticClass:"dataIndicatorsItem"},[i("div",{staticClass:"left"},[i("img",{attrs:{src:e.powerGeneration,alt:""}})]),i("div",{staticClass:"right"},[i("div",[i("label",{staticClass:"today_energy"},[e._v(e._s("{}"!=JSON.stringify(e.stationBaseInfo)?e.stationBaseInfo.day_yield:"--"))]),i("small",{staticClass:"total_unit"},[e._v("kWh")])]),i("div",[i("label",{staticClass:"total_desc"},[e._v(e._s(e.$t("dailyYield")))])]),i("hr",{staticStyle:{width:"150px",margin:"3px 0"}}),i("div",[i("label",{staticClass:"back_energy"},[e._v(e._s("{}"!=JSON.stringify(e.stationBaseInfo)?e.stationBaseInfo.total_yield:"--"))]),i("label",{staticClass:"back_unit"},[e._v("kWh")])]),i("div",[i("label",{staticClass:"back_desc"},[e._v(e._s(e.$t("totalYield")))])])])])]),i("a-col",{attrs:{xs:12,sm:8,md:8,lg:6,xl:6,xxl:6}},[i("div",{staticClass:"dataIndicatorsItem"},[i("div",{staticClass:"left"},[i("img",{attrs:{src:e.power,alt:""}})]),i("div",{staticClass:"right"},[i("div",[i("label",{staticClass:"today_energy"},[e._v(e._s("{}"!=JSON.stringify(e.stationBaseInfo)?e.stationBaseInfo.active_power:"--"))]),i("small",{staticClass:"total_unit"},[e._v("kW")])]),i("div",[i("label",{staticClass:"total_desc"},[e._v(e._s(e.$t("realTimeActivePower")))])]),i("hr",{staticStyle:{width:"150px",margin:"3px 0"}}),i("div",{staticStyle:{opacity:"0"}},[i("label",{staticClass:"back_energy"},[e._v(e._s("{}"!=JSON.stringify(e.stationBaseInfo)?e.stationBaseInfo.dc_power:"--"))]),i("label",{staticClass:"back_unit"},[e._v("kW")])]),i("div",{staticStyle:{opacity:"0"}},[i("label",{staticClass:"back_desc"},[e._v(e._s(e.$t("maxAdjustableActivePower")))])])])])]),i("a-col",{attrs:{xs:12,sm:8,md:8,lg:6,xl:6,xxl:6}},[i("div",{staticClass:"dataIndicatorsItem"},[i("div",{staticClass:"left"},[i("img",{attrs:{src:e.deviceStatistics,alt:""}})]),i("div",{staticClass:"right"},[i("div",[i("label",{staticClass:"today_energy",staticStyle:{color:"#f44336"}},[e._v(e._s("{}"!=JSON.stringify(e.stationBaseInfo)?e.stationBaseInfo.total_inv_count-e.stationBaseInfo.online_inv_count:"--"))]),i("small",{staticClass:"total_unit"},[e._v(e._s(e.$t("piece")))])]),i("div",[i("label",{staticClass:"total_desc"},[e._v(e._s(e.$t("offlineDevice")))])]),i("hr",{staticStyle:{width:"150px",margin:"3px 0"}}),i("div",[i("label",{staticClass:"back_energy",staticStyle:{color:"#0f0"}},[e._v(e._s("{}"!=JSON.stringify(e.stationBaseInfo)?e.stationBaseInfo.online_inv_count:"--"))]),i("label",{staticClass:"back_unit"},[e._v(e._s(e.$t("piece")))])]),i("div",[i("label",{staticClass:"back_desc"},[e._v(e._s(e.$t("onlineDevice")))])])])])]),i("a-col",{attrs:{xs:12,sm:8,md:8,lg:6,xl:6,xxl:6}},[i("div",{staticClass:"dataIndicatorsItem"},[i("div",{staticClass:"left"},[i("img",{attrs:{src:e.reactive,alt:""}})]),i("div",{staticClass:"right"},[i("div",[i("label",{staticClass:"today_energy"},[e._v(e._s("{}"!=JSON.stringify(e.stationBaseInfo)?e.stationBaseInfo.reactive_power:"--"))]),i("small",{staticClass:"total_unit"},[e._v("kVar")])]),i("div",[i("label",{staticClass:"total_desc"},[e._v(e._s(e.$t("realTtimeReactivePower")))])]),i("hr",{staticStyle:{width:"150px",margin:"3px 0"}}),i("div",{staticStyle:{opacity:"0"}},[i("label",{staticClass:"back_energy"},[e._v(e._s("{}"!=JSON.stringify(e.stationBaseInfo)?e.stationBaseInfo.reactive_power:"--"))]),i("label",{staticClass:"back_unit"},[e._v("kvar")])]),i("div",{staticStyle:{opacity:"0"}},[i("label",{staticClass:"back_desc"},[e._v(e._s(e.$t("reactivePowerRange")))])])])])])],1)],2),i("a-card",{staticStyle:{"margin-top":"5px"},attrs:{headStyle:{minHeight:"40px",height:"40px"},"body-style":{padding:0}}},[i("template",{slot:"title"},[i("div",{staticClass:"card-home",staticStyle:{"margin-bottom":"0"}},[i("div",{staticStyle:{width:"4px",height:"20px",background:"#1980ff","margin-right":"5px"}}),i("div",{staticClass:"card-value"},[e._v(" "+e._s(("{}"!=JSON.stringify(e.prjBaseInfo)?e.prjBaseInfo.name:"--")||e.$t("inverterRealtimeValues"))+" （"+e._s(e.$t("offGrid"))+e._s("{}"!=JSON.stringify(e.stationBaseInfo)?e.stationBaseInfo.total_inv_count-e.stationBaseInfo.grid_inv_count:0)+e._s(e.$t("piece"))+"，"+e._s(e.$t("onGrid"))+e._s("{}"!=JSON.stringify(e.stationBaseInfo)?e.stationBaseInfo.grid_inv_count:0)+e._s(e.$t("piece"))+"）"+e._s(e.$t("updateTime")+": "+(e.dataList.length>0?e.timestampToTime(e.dataList[0].update_time):"--"))+" ")])])]),i("a-row",{attrs:{gutter:[12,12],type:"flex",align:"middle"}},[i("a-col",{staticStyle:{padding:"12px"},attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[i("vxe-table",{ref:"recordTable",staticClass:"mytable-scrollbar",attrs:{border:"",resizable:"","auto-resize":"","sync-resize":"","show-overflow":"",size:"small","cell-style":{height:"45px"},"empty-text":e.$t("noData"),"highlight-current-row":"","highlight-hover-row":"",data:e.dataList,"max-height":400,loading:e.dataListLoading,"row-id":"id"}},[i("vxe-column",{attrs:{field:"name",title:e.$t("deviceName"),"min-width":"200",align:"center","show-overflow":"",fixed:"left"}}),i("vxe-column",{attrs:{field:"addr",title:e.$t("communicationAddress"),width:"140",align:"center","show-overflow":"",fixed:"left"}}),i("vxe-column",{attrs:{field:"comm_stat",title:e.$t("communicationStatus"),width:"160",align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(e){return[i("div",{class:0==e.row.comm_stat?"offlineDiv":1==e.row.comm_stat?"greenDiv":2==e.row.comm_stat?"redDiv":3==e.row.comm_stat?"communicationInterruptionDiv":4==e.row.comm_stat?"standbyDiv":"offlineDiv"})]}}])}),i("vxe-column",{attrs:{field:"run_stat",title:e.$t("operatingStatus"),width:"140",align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",[e._v(" "+e._s(32768==t.row.run_stat?e.$t("fault"):16384==t.row.run_stat?e.$t("selfTest"):8192==t.row.run_stat?e.$t("standby"):4096==t.row.run_stat?e.$t("run"):2048==t.row.run_stat?e.$t("derating"):1024==t.row.run_stat?e.$t("softShutdown"):e.$t("unknown"))+" ")])]}}])}),i("vxe-column",{attrs:{field:"day_yield",title:e.$t("dailyYieldUnit"),width:"200",align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null!=t.row.day_yield?t.row.day_yield:"--")+" ")]}}])}),i("vxe-column",{attrs:{field:"total_yield",title:e.$t("totalYieldUnit"),width:"200",align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null!=t.row.total_yield?t.row.total_yield:"--")+" ")]}}])}),i("vxe-column",{attrs:{field:"active_power",title:e.$t("activePower"),width:"200",align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null!=t.row.active_power?t.row.active_power:"--")+" ")]}}])}),i("vxe-column",{attrs:{field:"reactive_power",title:e.$t("reactivePower"),width:"200",align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null!=t.row.reactive_power?t.row.reactive_power:"--")+" ")]}}])}),i("vxe-column",{attrs:{field:"inv_time",title:e.$t("inverterTime"),width:"160",align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.inv_time||"--")+" ")]}}])}),i("vxe-column",{attrs:{field:"serial_number",title:e.$t("serialNumber"),width:"150",align:"center",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.serial_number||"--")+" ")]}}])}),i("vxe-column",{attrs:{field:"model",title:e.$t("deviceModel"),width:"200",align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.model||"--")+" ")]}}])}),i("vxe-column",{attrs:{field:"ver",title:e.$t("version"),width:"120",align:"center","show-overflow":""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{domProps:{innerHTML:e._s(e.formatterVer(t.row))}})]}}])})],1)],1)],1)],2),i("a-card",{staticStyle:{"margin-top":"5px","margin-bottom":"12px"},attrs:{headStyle:{minHeight:"40px",height:"40px"},"body-style":{padding:0}}},[i("template",{slot:"title"},[i("div",{staticClass:"card-home",staticStyle:{"margin-bottom":"0"}},[i("div",{staticStyle:{width:"4px",height:"20px",background:"#1980ff","margin-right":"5px"}}),i("div",{staticClass:"card-value"},[e._v(e._s(e.$t("powerStationInformation")))])])]),i("template",{slot:"extra"},[i("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",color:"#1980ff","margin-right":"10px"},on:{click:e.handleExpandChange}},[i("span",[e._v(e._s(e.isExpand?e.$t("fold"):e.$t("expand")))]),i("a-icon",{attrs:{type:e.isExpand?"up":"down"}})],1)]),i("a-row",{directives:[{name:"show",rawName:"v-show",value:e.isExpand,expression:"isExpand"}],attrs:{gutter:[12,12],type:"flex",align:"middle"}},[i("a-col",{staticStyle:{padding:"12px"},attrs:{xl:6,lg:6,md:6,sm:24,xs:24}},[i("img",{staticStyle:{width:"100%"},attrs:{src:a("18a9"),alt:"电站图片"}})]),i("a-col",{staticStyle:{padding:"12px"},attrs:{xl:18,lg:18,md:18,sm:24,xs:24}},[i("a-descriptions",{attrs:{bordered:"",column:2}},[i("a-descriptions-item",{attrs:{label:e.$t("plantName"),span:1}},[e.isEditplantName?i("a-input",{attrs:{id:"plantName"},on:{blur:function(t){e.isEditplantName=!1,e.prjBaseInfo.name=e.oldPlantName}},model:{value:e.prjBaseInfo.name,callback:function(t){e.$set(e.prjBaseInfo,"name",t)},expression:"prjBaseInfo.name"}},[i("a-icon",{attrs:{slot:"addonAfter",type:"save"},on:{mousedown:e.handleSavePlantName},slot:"addonAfter"})],1):i("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[i("span",{staticStyle:{width:"100%"},on:{click:e.handleOpennameIpt}},[e._v(" "+e._s("{}"!=JSON.stringify(e.prjBaseInfo)?e.prjBaseInfo.name:"--"))]),i("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"form"},on:{click:e.handleOpennameIpt}})],1)],1),i("a-descriptions-item",{attrs:{label:e.$t("gatewayNumber"),span:1}},[e._v(e._s(e.Gatewaydata.sn||""))]),i("a-descriptions-item",{attrs:{label:e.$t("plantaddress"),span:1}},[e._v(e._s("{}"!=JSON.stringify(e.prjBaseInfo)?e.prjBaseInfo.address:"--"))]),i("a-descriptions-item",{attrs:{label:e.$t("gatewayIp"),span:1}},[e._v(e._s(e.Gatewaydata.ip||""))]),i("a-descriptions-item",{attrs:{label:e.$t("numberOfInverters"),span:1}},[e._v(e._s("{}"!=JSON.stringify(e.stationBaseInfo)?e.stationBaseInfo.total_inv_count:"--"))]),i("a-descriptions-item",{attrs:{label:e.$t("gatewayDesc"),span:1}},[e.isEditGatewayDesc?i("a-input",{attrs:{id:"gatewayDesc"},on:{blur:e.handleBlurGatewayDesc},model:{value:e.Gatewaydata.note,callback:function(t){e.$set(e.Gatewaydata,"note",t)},expression:"Gatewaydata.note"}},[i("a-icon",{attrs:{slot:"addonAfter",type:"save"},on:{mousedown:e.handleBtnGatewayDesc},slot:"addonAfter"})],1):i("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[i("span",{staticStyle:{width:"100%"},on:{click:e.handleOpenInput}},[e._v(" "+e._s(e.Gatewaydata.note||""))]),i("a-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"form"},on:{click:e.handleOpenInput}})],1)],1),i("a-descriptions-item",{attrs:{label:e.$t("totalRatedPower"),span:1}},[e._v(e._s("{}"!=JSON.stringify(e.stationBaseInfo)?e.stationBaseInfo.dc_power:"--"))])],1)],1)],1),i("a-row",{staticStyle:{"margin-top":"12px",padding:"0 10px 10px"}},[i("a-space",[i("a-radio-group",{attrs:{"button-style":"solid"},on:{change:e.handleDateTypeChange},model:{value:e.dataForm.dateType,callback:function(t){e.$set(e.dataForm,"dateType",t)},expression:"dataForm.dateType"}},[i("a-radio-button",{attrs:{value:1}},[e._v(" "+e._s(e.$t("day"))+" ")]),i("a-radio-button",{attrs:{value:2}},[e._v(" "+e._s(e.$t("month"))+" ")]),i("a-radio-button",{attrs:{value:3}},[e._v(" "+e._s(e.$t("year"))+" ")])],1),i("a-date-picker",{directives:[{name:"show",rawName:"v-show",value:1==e.dataForm.dateType,expression:"dataForm.dateType == 1"}],attrs:{format:"YYYY-MM-DD","disabled-date":e.disabledDate,"default-value":e.moment(e.dataForm.startDate,"YYYY-MM-DD"),placeholder:"请选择时间",allowClear:!1},on:{change:e.handleDateChange}}),i("a-month-picker",{directives:[{name:"show",rawName:"v-show",value:2==e.dataForm.dateType,expression:"dataForm.dateType == 2"}],attrs:{"disabled-date":e.disabledMonth,mode:"month",format:"YYYY-MM","default-value":e.moment(e.dataForm.startMonth,"YYYY-MM"),placeholder:"请选择月份",allowClear:!1},on:{change:e.handleMonthChange}}),i("a-date-picker",{directives:[{name:"show",rawName:"v-show",value:3==e.dataForm.dateType,expression:"dataForm.dateType == 3"}],attrs:{"disabled-date":e.disabledYear,mode:"year",format:"YYYY",open:e.yearShowOne,allowClear:!1,placeholder:"请选择年份"},on:{focus:e.handleYearChangeOpen,panelChange:e.handleYearPanelChange},model:{value:e.dataForm.startYear,callback:function(t){e.$set(e.dataForm,"startYear",t)},expression:"dataForm.startYear"}}),i("a-button",{attrs:{icon:"search"},on:{click:e.getStationHistoryDataList}},[e._v(e._s(e.$t("search")))])],1),i("div",{ref:"mainChart",attrs:{id:"mainChart"}})],1)],2),i("a-modal",{attrs:{width:1200,title:e.$t("newProjectWizard"),footer:null},on:{cancel:e.handleNewProjectWizardCancel},model:{value:e.newProjectWizardVisible,callback:function(t){e.newProjectWizardVisible=t},expression:"newProjectWizardVisible"}},[i("a-spin",{attrs:{spinning:e.newProjectWizardLoading}},[i("a-steps",{attrs:{current:e.newProjectWizardCurent}},[i("a-step",{attrs:{title:e.$t("deviceManagement")}}),i("a-step",{attrs:{title:e.$t("forwardingManagement")}})],1),i("div",{staticStyle:{"margin-top":"20px"}},[i("a-form-model",{ref:"newProjectWizardConfigForm",attrs:{"label-col":"CN"==e.lang?e.labelCol:e.labelColEn,"wrapper-col":"CN"==e.lang?e.wrapperCol:e.wrapperColEn,model:e.newProjectWizardConfigForm}},[i("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:0==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 0"}],attrs:{label:e.$t("addType"),prop:"devType"}},[i("a-radio-group",{model:{value:e.newProjectWizardConfigForm.devType,callback:function(t){e.$set(e.newProjectWizardConfigForm,"devType",t)},expression:"newProjectWizardConfigForm.devType"}},[i("a-radio",{attrs:{value:0,disabled:""}},[e._v(e._s(e.$t("autoSearch")))]),i("a-radio",{attrs:{value:1}},[e._v(e._s(e.$t("manuallyEnterQuantity")))])],1)],1),i("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:0==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 0"}],attrs:{wrapperCol:{span:24},prop:"templateId"}},[i("a-row",{attrs:{type:"flex",align:"middle",justify:"space-between"}},[i("a-col",{attrs:{span:3}}),i("a-col",{directives:[{name:"show",rawName:"v-show",value:0==e.newProjectWizardConfigForm.devType,expression:"newProjectWizardConfigForm.devType == 0"}],staticStyle:{"text-align":"center"},attrs:{span:20}},[e._v(e._s(e.$t("pointTableTemplate")))]),i("a-col",{directives:[{name:"show",rawName:"v-show",value:1==e.newProjectWizardConfigForm.devType,expression:"newProjectWizardConfigForm.devType == 1"}],attrs:{span:21}},[i("a-row",{attrs:{type:"flex",align:"middle",justify:"space-between"}},[i("a-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[i("a-tooltip",{attrs:{placement:"top",title:e.newProjectWizardConfigForm.checked?e.$t("unSelectAll"):e.$t("selectAll")}},[i("a-checkbox",{on:{change:e.handleCheckedAllChange},model:{value:e.newProjectWizardConfigForm.checked,callback:function(t){e.$set(e.newProjectWizardConfigForm,"checked",t)},expression:"newProjectWizardConfigForm.checked"}})],1)],1),i("a-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[i("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.$t("logicalAddr")))]),i("a-checkbox",{on:{change:e.handleDevAddrAutoChange},model:{value:e.newProjectWizardConfigChecked,callback:function(t){e.newProjectWizardConfigChecked=t},expression:"newProjectWizardConfigChecked"}},[e._v(e._s(e.$t("deviceAddressAutoIncrements")))])],1)]),i("a-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[i("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[i("span",[e._v(e._s(e.$t("pointTableTemplate")))]),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("span",[e._v(e._s(e.$t("performOperation")))])]),i("img",{attrs:{src:a("e5b2"),alt:""},on:{click:e.handleTemplateSameChange}})],2)],1)]),i("a-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v(e._s(e.$t("option")))])],1)],1)],1),e._l(e.newProjectWizardConfigForm.comList,(function(t,a){return i("a-row",{key:a,attrs:{type:"flex",align:"middle",justify:"space-between"}},[i("a-col",{attrs:{span:3}},[i("a-checkbox",{on:{change:function(t){return e.handleDeviceCheckAllChange(t,a)}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v(e._s(t.name+" ( "+t.dataList.length+e.$t("tower")+" )"))])],1),0==e.newProjectWizardConfigForm.devType?i("a-col",{attrs:{span:20}},[i("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseSelectPointTableTemplate"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:t.templateId,callback:function(a){e.$set(t,"templateId",a)},expression:"item.templateId"}},e._l(e.templateList,(function(t,a){return i("a-select-option",{key:a,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1):e._e(),i("a-col",{directives:[{name:"show",rawName:"v-show",value:1==e.newProjectWizardConfigForm.devType,expression:"newProjectWizardConfigForm.devType == 1"}],attrs:{span:21}},e._l(t.dataList,(function(n,r){return i("a-row",{key:r,attrs:{type:"flex",align:"middle",justify:"space-between"}},[i("a-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[i("a-checkbox",{on:{change:function(t){return e.handleDeviceChecChange(t,a,r)}},model:{value:n.checked,callback:function(t){e.$set(n,"checked",t)},expression:"dataItem.checked"}})],1),i("a-col",{attrs:{span:8}},[i("a-input",{attrs:{placeholder:e.$t("pleaseEnterLogicalAddress"),allowClear:""},on:{input:function(t){return e.handleAddrChange(a,r)}},model:{value:n.addr,callback:function(t){e.$set(n,"addr",t)},expression:"dataItem.addr"}})],1),i("a-col",{attrs:{span:8}},[i("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseSelectPointTableTemplate"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:n.templateId,callback:function(t){e.$set(n,"templateId",t)},expression:"dataItem.templateId"}},e._l(e.templateList,(function(t,a){return i("a-select-option",{key:a,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),i("a-col",{style:{textAlign:t.dataList.length>1?"center":"left"},attrs:{span:4}},[i("a-space",[i("a-button",{attrs:{type:"primary",icon:"plus-circle"},on:{click:function(t){return e.handleAddDeviceByComChange(a,r)}}},[e._v(e._s(e.$t("add")))]),i("a-button",{directives:[{name:"show",rawName:"v-show",value:t.dataList.length>1,expression:"item.dataList.length > 1"}],attrs:{type:"danger",icon:"delete"},on:{click:function(t){return e.handleDeleteDeviceByComChange(a,r)}}},[e._v(e._s(e.$t("delete")))])],1)],1)],1)})),1)],1)}))],2),i("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:0==e.newProjectWizardCurent&&0==e.newProjectWizardConfigForm.devType,expression:"newProjectWizardCurent == 0 && newProjectWizardConfigForm.devType == 0"}],staticStyle:{"margin-top":"24px","text-align":"right"},attrs:{wrapperCol:{offset:2,span:22}}},[i("a-space",[i("a-button",{attrs:{type:"primary"},on:{click:e.handleStartSearchChange}},[e._v(e._s(e.$t("startSearch")))]),i("a-button",{attrs:{type:"primary"},on:{click:e.handleStopSearchChange}},[e._v(e._s(e.$t("stopSearch")))]),i("a-input",{staticStyle:{width:"300px"},attrs:{placeholder:e.$t("pleaseEnterTimeInterval"),suffix:e.$t("second")},model:{value:e.newProjectWizardConfigForm.duration,callback:function(t){e.$set(e.newProjectWizardConfigForm,"duration",t)},expression:"newProjectWizardConfigForm.duration"}})],1)],1),i("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:0==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 0"}],staticStyle:{"margin-top":"24px","text-align":"right"},attrs:{wrapperCol:{offset:2,span:22}}},[i("a-space",[i("a-button",{attrs:{type:"primary"},on:{click:e.handleFinallyChange}},[e._v(e._s(e.$t("nextStep")))])],1)],1),i("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:1==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 1"}],attrs:{label:e.$t("forward"),prop:"transport"}},[i("a-checkbox-group",{on:{change:e.handleTransportChange},model:{value:e.newProjectWizardConfigForm.transport,callback:function(t){e.$set(e.newProjectWizardConfigForm,"transport",t)},expression:"newProjectWizardConfigForm.transport"}},e._l(e.transportList,(function(t,a){return i("a-checkbox",{key:a,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1),i("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:1==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 1"}],attrs:{label:e.$t("effectiveImmediately"),prop:"effectiveImmediately"}},[i("a-checkbox",{model:{value:e.newProjectWizardConfigForm.effectiveImmediately,callback:function(t){e.$set(e.newProjectWizardConfigForm,"effectiveImmediately",t)},expression:"newProjectWizardConfigForm.effectiveImmediately"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:1==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 1"}]},[i("h2",[e._v(e._s(e.$t("overview")))]),i("vxe-table",{ref:"newProjectWizardTable",attrs:{border:"",resizable:"","auto-resize":"","sync-resize":"","show-overflow":"",size:"small","highlight-current-row":"","highlight-hover-row":"","max-height":"500","span-method":e.rowspanMethod,data:e.newProjectWizardConfigList,"empty-text":e.$t("noData")}},[i("vxe-column",{attrs:{field:"name",title:"COM",align:"center"}}),i("vxe-column",{attrs:{field:"addr",title:e.$t("logicalAddr"),align:"center"}}),i("vxe-column",{attrs:{field:"templateId",title:e.$t("pointTableTemplate"),align:"center"}})],1)],1),i("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:1==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 1"}],staticStyle:{"margin-top":"24px","text-align":"right"},attrs:{wrapperCol:{offset:2,span:22}}},[i("a-space",[i("a-button",{attrs:{type:"primary"},on:{click:e.handlePreviousFinallyChange}},[e._v(e._s(e.$t("previousStep")))]),i("a-button",{attrs:{type:"primary"},on:{click:e.handleCompleteChange}},[e._v(e._s(e.$t("complete")))])],1)],1)],1)],1)],1)],1),i("a-modal",{attrs:{width:600,title:e.$t("selectPointTableTemplate"),footer:null},on:{cancel:function(t){e.selectTemplateVisible=!1}},model:{value:e.selectTemplateVisible,callback:function(t){e.selectTemplateVisible=t},expression:"selectTemplateVisible"}},[i("a-form-model",{ref:"newProjectWizardConfigForm",attrs:{"label-col":"CN"==e.lang?e.labelCol:e.labelColEn,"wrapper-col":"CN"==e.lang?e.wrapperCol:e.wrapperColEn,model:e.newProjectWizardConfigForm}},[i("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:0==e.newProjectWizardCurent,expression:"newProjectWizardCurent == 0"}],attrs:{label:e.$t("pointTableTemplate"),prop:"templateId"}},[i("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",placeholder:e.$t("pleaseSelectPointTableTemplate"),"option-filter-prop":"children","filter-option":e.filterOption},model:{value:e.newProjectWizardConfigForm.templateId,callback:function(t){e.$set(e.newProjectWizardConfigForm,"templateId",t)},expression:"newProjectWizardConfigForm.templateId"}},e._l(e.templateList,(function(t,a){return i("a-select-option",{key:a,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),i("a-form-model-item",{staticStyle:{"margin-top":"24px","text-align":"right"},attrs:{wrapperCol:{offset:2,span:22}}},[i("a-space",[i("a-button",{on:{click:function(t){e.selectTemplateVisible=!1}}},[e._v(e._s(e.$t("cancel")))]),i("a-button",{attrs:{type:"primary"},on:{click:e.handleSelectTemplateChange}},[e._v(e._s(e.$t("confirm")))])],1)],1)],1)],1)],1)}),[],!1,null,"4f55ec2e",null).exports;t.default=P},1398:function(e,t,a){"use strict";var i=a("3eba");a("94b1"),a("ef97"),a("627c"),a("d28f"),a("007d"),a("cd12"),t.a=i},"18a9":function(e,t,a){e.exports=a.p+"assets/plant_info.a70f4ac6.png"},"262d":function(e,t,a){},"498a":function(e,t,a){"use strict";var i=a("23e7"),n=a("58a8").trim;i({target:"String",proto:!0,forced:a("c8d2")("trim")},{trim:function(){return n(this)}})},"4a46":function(e,t,a){"use strict";var i=a("262d");a.n(i).a},"6d59":function(e,t){e.exports={messages:{CN:{shortcutMenu:"常用功能",dataIndex:"数据指标",inverterRealtimeValues:"逆变器运行数据",engineeringWizard:"工程向导",deviceSetup:"设备接入",networkManagement:"网络管理",transferConfiguration:"转发配置",systemMaintenance:"系统维护",dailyYield:"日发电量",totalYield:"累计发电量",realTimeActivePower:"实时有功功率",maxAdjustableActivePower:"可调有功功率上限",offlineDevice:"离线设备",onlineDevice:"在线设备",piece:"个",realTtimeReactivePower:"实时无功功率",reactivePowerRange:"无功功率范围",offGrid:"离网",onGrid:"并网",no:"序号",deviceName:"设备名称",communicationAddress:"通讯地址",serialNumber:"序列号",deviceModel:"设备型号",version:"版本",communicationStatus:"通讯状态",operatingStatus:"运行状态",dailyYieldUnit:"日发电量(kWh)",totalYieldUnit:"累计发电量(kWh)",activePower:"有功功率(kW)",reactivePower:"无功功率(kvar)",updateTime:"更新时间",powerStationInformation:"电站信息",plantName:"电站名称",plantaddress:"电站地址",numberOfInverters:"逆变器数量",totalRatedPower:"总额定功率",power:"功率",yield:"发电量",yieldUnit:"发电量(kWh)",noData:"暂无数据",expand:"展开",fold:"折叠",newProjectWizard:"新建工程向导",projectType:"工程类型",photovoltaicEngineering:"光伏工程",otherProjects:"其它工程",pointTableTemplate:"点表模板",previousStep:"上一步",nextStep:"下一步",autoSearch:"自动搜索",manuallyEnterQuantity:"手动输入数量",quantity:"数量",pleaseEnterQuantity:"请输入数量",deviceStartingCommunicationAddress:"设备起始通讯地址",pleaseEnterInitialCommunicationAddressOfDevice:"请输入设备起始通讯地址",deviceAddressAutoIncrements:"设备地址自动递增",forward:"转发",complete:"完成",pleaseSelectDeviceInformation:"请选择设备信息",pleaseSelectForwardingProtocol:"请选择转发协议",pleaseCompleteCheckNumberOfDevicesSerialPort:"请补全勾选串口中的设备数量",pleaseCompleteCheckNumberOfDevicesSerialPortAndAddressOfDevices:"请补全勾选串口中的设备数量以及设备起始通讯地址",pleaseEnterTimeInterval:"请输入时间间隔",startSearch:"开始搜索",stopSearch:"停止搜索",second:"秒",deviceManagement:"设备管理",forwardingManagement:"转发管理",addType:"添加类型",pleaseSelectPointTableTemplate:"请选择点表模板",standby:"待机",run:"运行",fault:"故障",communicationInterruption:"通讯中断",offline:"离线",unknown:"未知",add:"添加",delete:"删除",cancel:"取消",confirm:"确认",unSelectAll:"全不选",selectAll:"全选",selectPointTableTemplate:"选择点表模板",performOperation:"执行此操作, 则该串口下选中的的设备点表模板批量相同.",tower:"台",logicalAddr:"逻辑地址",pleaseEnterLogicalAddress:"请输入逻辑地址",option:"操作",effectiveImmediately:"完成后工程立即生效",overview:"总览",selfTest:"自检",derating:"降额",softShutdown:"软停机",inverterTime:"逆变器时间",search:"查询",day:"日",month:"月",year:"年",gatewayNumber:"网关编号",gatewayIp:"网关Ip",gatewayDesc:"网关备注"},US:{shortcutMenu:"Shortcut Menu",dataIndex:"Data Index",inverterRealtimeValues:"Inverter Realtime Values",engineeringWizard:"Engineering Wizard",deviceSetup:"Device Setup",networkManagement:"Network Management",transferConfiguration:"Transfer Configuration",systemMaintenance:"System Maintenance",dailyYield:"Daily Yield",totalYield:"Total Yield",realTimeActivePower:"Real-time Active Power",maxAdjustableActivePower:"Max. Adjustable Active Power",offlineDevice:"Offline Device",onlineDevice:"Online Device",piece:"Piece",realTtimeReactivePower:"Real-time Reactive Power",reactivePowerRange:"Reactive Power Range",offGrid:"Off-Grid",onGrid:"On-Grid",no:"No",deviceName:"Device Name",communicationAddress:"Comm.address",serialNumber:"Serial Number",deviceModel:"Device Model",version:"Version",communicationStatus:"Communication Status",operatingStatus:"Operating Status",dailyYieldUnit:"Daily Yield(kWh)",totalYieldUnit:"Total Yield(kWh)",activePower:"Active Power(kW)",reactivePower:"Reactive Power(kvar)",updateTime:"Update Time",powerStationInformation:"Power Station Information",plantName:"Plant name",plantaddress:"Plant address",numberOfInverters:"Number of inverters",totalRatedPower:"Total rated power",power:"Power",yield:"Yield",yieldUnit:"Yield(kWh)",noData:"No Data",expand:"Expand",fold:"Fold",newProjectWizard:"New Project Wizard",projectType:"Project type",photovoltaicEngineering:"Photovoltaic engineering",otherProjects:"Other projects",pointTableTemplate:"Point table template",previousStep:"Previous step",nextStep:"Next step",autoSearch:"Auto Search",manuallyEnterQuantity:"Manually enter quantity",quantity:"Quantity",pleaseEnterQuantity:"Please enter quantity",deviceStartingCommunicationAddress:"Device starting communication address",pleaseEnterInitialCommunicationAddressOfDevice:"Please enter the initial communication address of the device",deviceAddressAutoIncrements:"Device address auto-increments",forward:"Forward",complete:"Complete",pleaseSelectDeviceInformation:"Please select device information",pleaseSelectForwardingProtocol:"Please select a forwarding protocol",pleaseCompleteCheckNumberOfDevicesSerialPort:"Please complete the check box to check the number of devices in the serial port.",pleaseCompleteCheckNumberOfDevicesSerialPortAndAddressOfDevices:"Please complete and check the number of devices in the serial port and the starting communication address of the device",pleaseEnterTimeInterval:"Please enter the time interval",startSearch:"Start search",stopSearch:"Stop search",second:"Second",deviceManagement:"Device management",forwardingManagement:"Forwarding management",addType:"Add type",pleaseSelectPointTableTemplate:"Please select a point table template",standby:"Standby",run:"Run",fault:"Fault",communicationInterruption:"Communication interruption",offline:"Offline",unknown:"Unknown",add:"Add",delete:"Delete",cancel:"Cancel",confirm:"Confirm",unSelectAll:"Unselect all",selectAll:"Select all",selectPointTableTemplate:"Select point table template",performOperation:"If you perform this operation, the device point table templates selected under the serial port will be the same in batches.",tower:"Tower",logicalAddr:"Logical Addr",pleaseEnterLogicalAddress:"Please enter logical address",option:"Option",effectiveImmediately:"The project will take effect immediately upon completion",overview:"Overview",selfTest:"Self-test",derating:"Derating",softShutdown:"Soft shutdown",inverterTime:"Inverter time",search:"Search",day:"Day",month:"Month",year:"Year",gatewayNumber:"Gateway number",gatewayIp:"Gateway IP",gatewayDesc:"Gateway description"}}}},7304:function(e,t,a){e.exports=a.p+"assets/power-generation.f792d65f.png"},7401:function(e,t,a){e.exports=a.p+"assets/power.82462cdb.png"},"986f":function(e,t,a){e.exports=a.p+"assets/reactive.8326e668.png"},"9bd1":function(e,t,a){},"9d31":function(e,t,a){e.exports=a.p+"assets/deviceaccess.aae27248.png"},a33e:function(e,t,a){e.exports=a.p+"assets/device-statistics.58b5cdc2.png"},a7ca:function(e,t,a){"use strict";var i=a("9bd1");a.n(i).a},c8d2:function(e,t,a){var i=a("d039"),n=a("5899");e.exports=function(e){return i((function(){return!!n[e]()||"​᠎"!="​᠎"[e]()||n[e].name!==e}))}},c8e1:function(e,t,a){e.exports=a.p+"assets/repair.10a5d63a.png"},cff1:function(e,t,a){e.exports=a.p+"assets/share.a6e605f2.png"},e310:function(e,t,a){e.exports=a.p+"assets/internet.3c40fb00.png"},e35b:function(e,t,a){e.exports=a.p+"assets/guide.ec43604f.png"},e5b2:function(e,t,a){e.exports=a.p+"assets/same.b8b52ce4.png"}}]);