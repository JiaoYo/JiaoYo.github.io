const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/juhe-DhCtESFp.js","assets/index-BhODWnwk.js","assets/index-C1lZAaPn.css"])))=>i.map(i=>d[i]);
import{R as Ye,b as D,o as v,e as p,d as he,s as b,i as Ve,c as F,a2 as Oe,w as m,f as a,b0 as X,aA as Q,_ as Je,a7 as Ae,t as O,W as Ee,aN as Se,ax as _e,aG as Be,B as Ke,g as h,b1 as c,z as Xe,Y as Qe,a as ge,D as Le,aU as Te,b2 as Ze,a1 as et,J as tt,G as ce,aI as at,h as Ce,aP as nt,b4 as ot,b5 as st,b6 as lt,a3 as rt,aD as it,$ as ut,aS as dt,aF as ct,aR as pt,b8 as mt}from"./index-BhODWnwk.js";import{_ as ft,u as Fe,a as vt,i as gt,r as _t,p as yt,b as ht,c as bt}from"./juhe-DhCtESFp.js";import{f as Me,a as Ne,b as xt,c as Ie,d as wt,e as jt}from"./home-DciB5nx1.js";import{_ as He,a as Ue}from"./Grid-CX2M5k7E.js";import{p as kt}from"./business-B0WQevjL.js";import{u as Ct}from"./usePageData-BRSC0p7p.js";import{_ as Dt}from"./RadioButton-Drbmfmsc.js";import{_ as Tt}from"./DatePicker-DnLwdS0O.js";const Et={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"};function St(Z,j){return v(),D("svg",Et,j[0]||(j[0]=[p("path",{fill:"currentColor",d:"M19 6a1 1 0 0 0-1 1v4a1 1 0 0 1-1 1H7.41l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0-.21.33a1 1 0 0 0 0 .76a1 1 0 0 0 .21.33l3 3a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.42L7.41 14H17a3 3 0 0 0 3-3V7a1 1 0 0 0-1-1"},null,-1)]))}const Pt=Ye({name:"uil-enter",render:St}),zt={class:"item"},At={class:"flex items-center"},Lt={class:"text-16px",style:{"font-weight":"bold"}},It=he({name:"CardData",__name:"card-data",setup(Z){const j=b([{key:"project",title:"é¡¹ç›®æ€»æ•°",value:0,icon:"xiangmu"},{key:"contract",title:"åˆåŒæ€»æ•°",value:0,icon:"hetong"},{key:"debug",title:"è°ƒè¯•æ€»æ•°",value:0,icon:"tiaoshi"}]),B=async()=>{const{data:S,error:k}=await Me();k||(j.value[0].value=S.project.projects,j.value[1].value=S.project.contracts)},R=async()=>{const{data:S,error:k}=await Ne();k||(j.value[2].value=S.debugs)};return Ve(()=>{B(),R()}),(S,k)=>{const i=Je,w=ft,g=Ue,u=He,f=Oe;return v(),F(f,{bordered:!1,size:"small",class:"card-wrapper","content-style":{padding:"0px 0px"}},{default:m(()=>[a(u,{cols:"1 s:1 m:1 l:1 xl:3",responsive:"screen",class:"gridCss"},{default:m(()=>[(v(!0),D(Q,null,X(j.value,(C,P)=>(v(),F(g,{key:C.key},{default:m(()=>[p("div",zt,[p("div",At,[a(i,{"local-icon":C.icon,class:"font-size-28px mr-5px",style:Ae({color:P==0?"#00ff85":P==1?"#00eaff":"#ffdd00"})},null,8,["local-icon","style"]),p("h3",Lt,O(C.title),1)]),a(w,{"start-value":1,"end-value":C.value,style:Ae([{color:P==0?"#00ff85":P==1?"#00eaff":"#ffdd00"},{"font-family":"dsdigits","font-weight":"bolder"}]),class:"text-28px dark:text-dark text-center"},null,8,["end-value","style"])])]),_:2},1024))),128))]),_:1})]),_:1})}}}),Rt=Ee(It,[["__scopeId","data-v-ed9b6f55"]]),Re=he({name:"SimplePieChart",__name:"pie-chart",props:{data:{},name:{}},setup(Z){const j=Z,B=Se(),{domRef:R,updateOptions:S}=Fe(()=>({tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},title:{text:"",top:"45%",textAlign:"center",left:"65%",textStyle:{fontSize:16,fontWeight:500}},legend:{orient:"vertical",left:"5%",top:"center",icon:"circle",itemWidth:10,itemHeight:10,formatter:function(i){const w=j.data.find(g=>g.name===i);return w?`${i} {valueStyle|${w.value||0}ä¸ª}`:i},textStyle:{rich:{valueStyle:{color:"#1890ff",fontWeight:"bold",fontSize:14}},fontSize:14}},series:[{type:"pie",radius:["75","80"],center:["65%","50%"],avoidLabelOverlap:!0,hideOverlap:!0,label:{show:!0,position:"inside",formatter:"{c}ä¸ª",fontSize:14},labelLine:{show:!0},data:[]}]}));function k(){S(i=>{const w=j.data||[],g=w.reduce((u,f)=>u+(f.value||0),0);return i.title.text=`${j.name??""}${g}`,i.series[0].data=w.map(u=>({name:u.name,value:u.value,itemStyle:{color:u.color,borderWidth:3,borderColor:u.color,shadowBlur:15,shadowColor:u.color}})),i.legend.data=w.map(u=>u.name),i})}return _e(()=>j.data,k,{deep:!0}),_e(()=>j.name,k),_e(()=>B.locale,k),k(),(i,w)=>(v(),D("div",{ref_key:"domRef",ref:R,class:"h-260px w-full overflow-hidden"},null,512))}}),$t=he({name:"PieChart",__name:"pie-chart1",props:{data:{},name:{}},setup(Z){const j=Z,B=Se(),R=["#fb923c","#94d82d","#9ca3af"],S=["#ef4444","#22c55e"],{domRef:k,updateOptions:i}=Fe(()=>({tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},title:{text:"",top:"45%",textAlign:"center",left:"65%",textStyle:{fontSize:16,fontWeight:500}},legend:[{data:["ç°åœºè°ƒè¯•","è¿œç¨‹è°ƒè¯•","æ— éœ€è°ƒè¯•"],orient:"vertical",left:"5%",top:"25%",icon:"circle",itemWidth:10,itemHeight:10,formatter:function(u){const C=w.value.series[0].data.find(P=>P.name===u);return C?`${u} {valueStyle|${C.value||0}ä¸ª}`:u},textStyle:{rich:{valueStyle:{color:"#1890ff",fontWeight:"bold",fontSize:14}},fontSize:14}},{data:["å·²å»¶æœŸ","æ­£å¸¸"],orient:"vertical",left:"5%",top:"55%",icon:"circle",itemWidth:10,itemHeight:10,formatter:function(u){const C=w.value.series[1].data.find(P=>P.name===u);return C?`${u} {valueStyle|${C.value||0}ä¸ª}`:u},textStyle:{rich:{valueStyle:{color:"#1890ff",fontWeight:"bold",fontSize:14}},fontSize:14}}],series:[{color:R,type:"pie",radius:[75,80],center:["65%","50%"],avoidLabelOverlap:!0,label:{show:!0,position:"inside",formatter:"{c}ä¸ª",fontSize:14},labelLine:{show:!1},data:[]},{color:S,type:"pie",radius:[55,60],center:["65%","50%"],avoidLabelOverlap:!0,label:{show:!0,position:"inside",formatter:"{c}ä¸ª",fontSize:14},labelLine:{show:!1},data:[]}]})),w=b({});function g(){i(u=>{var se;const f=((se=j.data)==null?void 0:se.project)||{};u.title.text=`${j.name}${f.projects??""}`;const C=["ç°åœºè°ƒè¯•","è¿œç¨‹è°ƒè¯•","æ— éœ€è°ƒè¯•"];u.series[0].data=C.map((ee,A)=>({name:ee,value:f[`proDtype${A}`]||0,itemStyle:{borderWidth:5,shadowBlur:20,borderColor:R[A],shadowColor:R[A]}}));const P=["å·²å»¶æœŸ","æ­£å¸¸"],pe=["proPtype1","proPtype0"];return u.series[1].data=P.map((ee,A)=>({name:ee,value:f[pe[A]]||0,itemStyle:{borderWidth:5,shadowBlur:20,borderColor:S[A],shadowColor:S[A]}})),w.value=u,u})}return _e(()=>j.data,g,{deep:!0}),_e(()=>B.locale,g),g(),(u,f)=>(v(),D("div",{ref_key:"domRef",ref:k,class:"h-260px overflow-hidden"},null,512))}}),Vt={class:"map-container"},Ot={class:"toolbar"},Bt={key:1},$e=6e4,Ft=he({__name:"trajectory_chart",props:{projectDistributionData:{},data:{},dates:{}},setup(Z,{expose:j}){let B=Z;const R=b("china"),S=b([]),k=b(null);let i=null;const w=b(),g=["åŒ—äº¬","ä¸Šæµ·","å¤©æ´¥","é‡åº†"],u=b("both"),f={åŒ—äº¬:"beijing",å¤©æ´¥:"tianjin",ä¸Šæµ·:"shanghai",é‡åº†:"chongqing",æ²³åŒ—:"hebei",å±±è¥¿:"shanxi",å†…è’™å¤:"neimenggu",è¾½å®:"liaoning",å‰æ—:"jilin",é»‘é¾™æ±Ÿ:"heilongjiang",æ±Ÿè‹:"jiangsu",æµ™æ±Ÿ:"zhejiang",å®‰å¾½:"anhui",ç¦å»º:"fujian",æ±Ÿè¥¿:"jiangxi",å±±ä¸œ:"shandong",æ²³å—:"henan",æ¹–åŒ—:"hubei",æ¹–å—:"hunan",å¹¿ä¸œ:"guangdong",å¹¿è¥¿:"guangxi",æµ·å—:"hainan",å››å·:"sichuan",è´µå·:"guizhou",äº‘å—:"yunnan",è¥¿è—:"xizang",é™•è¥¿:"shanxi1",ç”˜è‚ƒ:"gansu",é’æµ·:"qinghai",å®å¤:"ningxia",æ–°ç–†:"xinjiang",é¦™æ¸¯:"hongkong",æ¾³é—¨:"macau",å°æ¹¾:"taiwan"};function C(s){return{åŒ—äº¬:[116.4074,39.9042],å¤©æ´¥:[117.2,39.1333],æ²³åŒ—:[114.5025,38.0455],å±±è¥¿:[112.549,37.857],å†…è’™å¤:[111.6708,40.8183],è¾½å®:[123.4291,41.7968],å‰æ—:[125.3245,43.8868],é»‘é¾™æ±Ÿ:[126.6424,45.756],ä¸Šæµ·:[121.4737,31.2304],æ±Ÿè‹:[118.7674,32.0415],æµ™æ±Ÿ:[120.1536,30.2875],å®‰å¾½:[117.283,31.8612],ç¦å»º:[119.3062,26.0753],æ±Ÿè¥¿:[115.8922,28.6765],å±±ä¸œ:[117.0009,36.6758],æ²³å—:[113.6654,34.757],æ¹–åŒ—:[114.2986,30.5844],æ¹–å—:[112.9823,28.1941],å¹¿ä¸œ:[113.2806,23.1252],å¹¿è¥¿:[108.32,22.824],æµ·å—:[110.3312,20.031],é‡åº†:[106.504,29.533],å››å·:[104.0657,30.6595],è´µå·:[106.7135,26.5783],äº‘å—:[102.7123,25.0406],è¥¿è—:[91.1175,29.6469],é™•è¥¿:[108.948,34.2632],ç”˜è‚ƒ:[103.8233,36.0586],é’æµ·:[101.7789,36.6232],å®å¤:[106.2782,38.4663],æ–°ç–†:[87.6177,43.7928],å°æ¹¾:[121.5091,25.044],é¦™æ¸¯:[114.1734,22.3206],æ¾³é—¨:[113.5491,22.1987]}[s]||null}function P(s){const n=bt.find(d=>d.city===s);return n?[n.lng,n.lat]:null}async function pe(){k.value&&(i&&(i.dispose(),i=null),i=gt(k.value),await re("china"),window.addEventListener("resize",()=>i==null?void 0:i.resize()))}async function se(s){try{return(await ht(Object.assign({"../../../assets/map/anhui.json":()=>c(()=>import("./anhui-itXsmiYb.js"),[]),"../../../assets/map/aomen.json":()=>c(()=>import("./aomen-CvhUKNbQ.js"),[]),"../../../assets/map/beijing.json":()=>c(()=>import("./beijing-BY449fIP.js"),[]),"../../../assets/map/china.json":()=>c(()=>import("./china-VoTTtmff.js"),[]),"../../../assets/map/chongqing.json":()=>c(()=>import("./chongqing-CQxENMLR.js"),[]),"../../../assets/map/city.json":()=>c(()=>import("./juhe-DhCtESFp.js").then(d=>d.d),__vite__mapDeps([0,1,2])),"../../../assets/map/fujian.json":()=>c(()=>import("./fujian-DMjqeJN6.js"),[]),"../../../assets/map/gansu.json":()=>c(()=>import("./gansu-CRFNUfIK.js"),[]),"../../../assets/map/guangdong.json":()=>c(()=>import("./guangdong-DrCxObPG.js"),[]),"../../../assets/map/guangxi.json":()=>c(()=>import("./guangxi-BpEUbHdK.js"),[]),"../../../assets/map/guizhou.json":()=>c(()=>import("./guizhou-BY1JCp8Q.js"),[]),"../../../assets/map/hainan.json":()=>c(()=>import("./hainan-D2Sf7JTA.js"),[]),"../../../assets/map/hebei.json":()=>c(()=>import("./hebei-DTrnS0O1.js"),[]),"../../../assets/map/heilongjiang.json":()=>c(()=>import("./heilongjiang-DAACJd-E.js"),[]),"../../../assets/map/henan.json":()=>c(()=>import("./henan-DIkIePKJ.js"),[]),"../../../assets/map/hubei.json":()=>c(()=>import("./hubei-Bwnp1LoM.js"),[]),"../../../assets/map/hunan.json":()=>c(()=>import("./hunan-JCtVINy3.js"),[]),"../../../assets/map/jiangsu.json":()=>c(()=>import("./jiangsu-CLS7jcCc.js"),[]),"../../../assets/map/jiangxi.json":()=>c(()=>import("./jiangxi-CNAW8yFe.js"),[]),"../../../assets/map/jilin.json":()=>c(()=>import("./jilin-Bi5EpTmL.js"),[]),"../../../assets/map/liaoning.json":()=>c(()=>import("./liaoning-Do0e7YUX.js"),[]),"../../../assets/map/neimenggu.json":()=>c(()=>import("./neimenggu-CFQ1EPad.js"),[]),"../../../assets/map/ningxia.json":()=>c(()=>import("./ningxia-Bd5m21w_.js"),[]),"../../../assets/map/qinghai.json":()=>c(()=>import("./qinghai-DZmk70v-.js"),[]),"../../../assets/map/shandong.json":()=>c(()=>import("./shandong-CSwMvLbR.js"),[]),"../../../assets/map/shanghai.json":()=>c(()=>import("./shanghai-Dcy8PZ0o.js"),[]),"../../../assets/map/shanxi.json":()=>c(()=>import("./shanxi-6IIkp01T.js"),[]),"../../../assets/map/shanxi1.json":()=>c(()=>import("./shanxi1-CYyZbQBJ.js"),[]),"../../../assets/map/sichuan.json":()=>c(()=>import("./sichuan-DbWrPnDk.js"),[]),"../../../assets/map/taiwan.json":()=>c(()=>import("./taiwan-5IN91H0y.js"),[]),"../../../assets/map/tianjin.json":()=>c(()=>import("./tianjin-DmXrewkB.js"),[]),"../../../assets/map/xianggang.json":()=>c(()=>import("./xianggang-CCDY8cPS.js"),[]),"../../../assets/map/xinjiang.json":()=>c(()=>import("./xinjiang-CTJGzQIj.js"),[]),"../../../assets/map/xizang.json":()=>c(()=>import("./xizang-DdTsLb_A.js"),[]),"../../../assets/map/yunnan.json":()=>c(()=>import("./yunnan-CVzIswEy.js"),[]),"../../../assets/map/zhejiang.json":()=>c(()=>import("./zhejiang-1lSaxhlD.js"),[])}),`../../../assets/map/${s}.json`,6)).default}catch{return console.warn("åœ°å›¾ä¸å­˜åœ¨ï¼š",s),null}}function ee(s){const n=s.features.flatMap(y=>y.geometry.coordinates.flat(2)),d=n.filter((y,x)=>x%2===0),r=n.filter((y,x)=>x%2===1);return[(Math.min(...d)+Math.max(...d))/2,(Math.min(...r)+Math.max(...r))/2]}const A=new Map,U=b({contractname:"",proname:"",dispatch:"",debugname:"",dbdbtime:""}),W=new Set,be=async(s,n)=>{if(!W.has(n)){W.add(n);try{for(const d of s){const r=d.creater;if(!r)continue;const y=A.get(r);if(y)if(Date.now()-y.time>$e)A.delete(r);else return;const{data:x}=await Ie({pid:d.pid>0?d.pid:void 0,creater:d.creater}),$=!x||Object.keys(x).length===0;A.set(r,{data:$?null:x,empty:$,time:Date.now()})}i==null||i.dispatchAction({type:"showTip",seriesIndex:1,dataIndex:n})}finally{W.delete(n)}}},le=new Set,xe=async s=>{const n=s.creater;if(!n)return;const d=A.get(n);if(d)if(Date.now()-d.time>$e)A.delete(n);else return;if(!le.has(n)){le.add(n);try{const{data:r}=await Ie({pid:s.pid>0?s.pid:void 0,creater:s.creater});A.set(n,{data:r||null,empty:!r,time:Date.now()}),i==null||i.dispatchAction({type:"showTip",seriesIndex:1,dataIndex:s._index})}catch(r){console.error("è·å–è¯¦æƒ…å¤±è´¥:",r)}finally{le.delete(n)}}};function me(s){if(!s||!s.length)return[];const n=[],d=.01,r=new Set;for(let y=0;y<s.length;y++){if(r.has(y))continue;const x=s[y],$=[x];for(let I=y+1;I<s.length;I++){if(r.has(I))continue;const M=s[I],K=Math.abs(x.longitude-M.longitude),te=Math.abs(x.latitude-M.latitude);K<d&&te<d&&($.push(M),r.add(I))}if(r.add(y),$.length===1)n.push({...x,value:[x.longitude,x.latitude],isCluster:!1,name:x.username||"æœªçŸ¥",_index:n.length});else{const I=$.map(N=>N.username||"æœªçŸ¥"),M=I.length>3?`${I.slice(0,3).join(", ")} ç­‰${I.length}äºº`:I.join(", "),K=$.reduce((N,G)=>N+G.longitude,0)/$.length,te=$.reduce((N,G)=>N+G.latitude,0)/$.length;n.push({name:M,value:[K,te],isCluster:!0,clusterData:$,_index:n.length})}}return n}const we=()=>{var d;const s=(d=w.value)==null?void 0:d.map(r=>{const y=r.coord||C(r.name);return!y||!r.counts||r.counts<=0?null:{name:r.name,value:[...y,r.counts],counts:r.counts}}).filter(Boolean),n=me(B.data);return{countData:u.value==="count"||u.value==="both"?s:[],positionData:u.value==="position"||u.value==="both"?n:[]}};function q(s){return s}async function re(s){var z;let n=await se(s);if(!n)return;s==="hainan"&&(n=n),_t(s,n);const d=(z=w.value)==null?void 0:z.map(l=>{const _=l.coord||C(l.name);return!_||!l.counts||l.counts<=0?null:{name:l.name,value:[..._,l.counts],counts:l.counts}}).filter(Boolean);ee(n);const r=d==null?void 0:d.filter(l=>l.counts>0),y=Math.max(...r.map(l=>l.counts),1),x=Math.min(...r.map(l=>l.counts),0),$=45,I=25,M=l=>{if(y===x)return I;const _=($-I)/(y-x),V=I-_*x;return Math.max(_*l+V,I)},{countData:K,positionData:te}=we(),N=s==="hainan",G={tooltip:{trigger:"item",backgroundColor:"transparent",borderWidth:0,extraCssText:"box-shadow:none; padding:0;",formatter:l=>{var V,fe,ve,ae,Y,H;if(!l.data)return"";const _=l.data;if(_.isCluster){be(_.clusterData,_._index);let J=`<div style="
          min-width: 260px;
          font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
          font-size: 13px;
          color: #333;
          line-height: 1.6;
          background: #fff;
          border-radius: 10px;
          padding: 12px 14px 10px;
          box-shadow: 0 4px 14px rgba(0,0,0,0.15);
          border: 1px solid #f0f0f0;
        ">`;return _.clusterData.forEach(e=>{const t=A.get(e.creater).data;J+=`
            <div style="display:flex;margin-bottom:10px;">
              <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; margin-right:20px; width:50px;">
                <img src="${e.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png"}"
                    style="width:36px; height:36px; border-radius:50%;" />
                <div style="font-size:14px; font-weight:600; color:#1890ff; text-align:center; margin-top:4px;">
                  ${e.username||"æœªçŸ¥"}
                </div>
              </div>
              <div style="flex:1">
                <div style="font-size:14px;color:#333;"><b>æ‰“å¡æ—¶é—´ï¼š</b><span style="color:#1890ff;">${e.dbtime||"-"}</span></div>
                <div style="font-size:14px;color:#333;"><b>æ‰“å¡åœ°å€ï¼š</b><span style="color:#1890ff;">${e.address||"-"}</span></div>
                ${t?`
                    <div style="margin-top:4px;font-size:14px;">
                      <div style="color:#333;"><b>é¡¹ç›®åç§°ï¼š</b><span style="color:#1890ff;">${t.proname||"-"}</span></div>
                      <div style="color:#333;"><b>åˆåŒåç§°ï¼š</b><span style="color:#1890ff;">${t.contractname||"-"}</span></div>
                      <div style="color:#333;"><b>ä»»åŠ¡åç§°ï¼š</b><span style="color:#1890ff;">${t.debugname||"-"}</span></div>
                    </div>`:'<div style="color:#999;"></div>'}
              </div>
            </div>
            <hr style="border:0;border-top:1px dashed #e8e8e8;margin:6px 0;" />
          `}),J+="</div>",J}else{xe(_);const J=_.creater;U.value=(V=A.get(J))==null?void 0:V.data;const e=U.value&&Object.values(U.value).some(L=>L);let t=`<div style="
          min-width: 260px;
          font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
          font-size: 14px;
          color: #333;
          line-height: 1.6;
          background: #fff;
          border-radius: 10px;
          padding: 12px 14px 10px;
          box-shadow: 0 4px 14px rgba(0,0,0,0.15);
          border: 1px solid #f0f0f0;
        ">
          <div style="display: flex; align-items: center; margin-bottom: 8px;">
            <img src="${_.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png"}" style="width:38px;height:38px;border-radius:50%;object-fit:cover;margin-right:10px;box-shadow:0 1px 4px rgba(0,0,0,0.15);" />
            <div>
              <div style="font-weight:bold;font-size:15px;color:#1890ff;">${_.username||"æœªçŸ¥äººå‘˜"}</div>
              <div style="font-size:12px;color:#999;">è°ƒè¯•äººå‘˜</div>
            </div>
          </div>
          <div style="border-top:1px dashed #e8e8e8;margin:6px 0;"></div>
          <div><b>æ‰“å¡æ—¶é—´ï¼š</b><span style="color:#1890ff;">${_.dbtime||"-"}</span></div>
          <div><b>åœ°å€ï¼š</b><span style="color:#1890ff;">${_.address||"-"}</span></div>`;return e?t+=`
            <div style="margin-top: 6px; font-weight: 500; color: #666;">é¡¹ç›®ä¿¡æ¯</div>
            <div><b>é¡¹ç›®åç§°ï¼š</b><span style="color:#1890ff;">${((fe=U.value)==null?void 0:fe.proname)||"-"}</span></div>
            <div><b>åˆåŒåç§°ï¼š</b><span style="color:#1890ff;">${((ve=U.value)==null?void 0:ve.contractname)||"-"}</span></div>
            <div><b>è°ƒåº¦åç§°ï¼š</b><span style="color:#1890ff;">${((ae=U.value)==null?void 0:ae.dispatch)||"-"}</span></div>
            <div><b>è°ƒè¯•ä»»åŠ¡ï¼š</b><span style="color:#1890ff;">${((Y=U.value)==null?void 0:Y.debugname)||"-"}</span></div>
            <div><b>å¼€å§‹æ—¶é—´ï¼š</b><span style="color:#1890ff;">${((H=U.value)==null?void 0:H.dbdbtime)||"-"}</span></div>
          `:t+=`<div><b>é¡¹ç›®åç§°ï¼š</b><span style="color:#1890ff;">${_.proname||"-"}</span></div>`,t+="</div>",t}}},geo:{map:s,roam:!0,zoom:N?8:1.2,scaleLimit:{min:1,max:15},center:N?[109.6,19.03]:null,label:{show:!0},itemStyle:{areaColor:"#f7f9fb",borderColor:"#d0d7de"},emphasis:{itemStyle:{areaColor:"#e6f4ff"}}},series:[{type:"scatter",name:"æ•°é‡ç‚¹",coordinateSystem:"geo",symbol:`image://${yt}`,zlevel:2,symbolSize:l=>M(l[2]),label:{show:!0,formatter:l=>l.value[2],color:"#fff",fontSize:10,fontWeight:"bold",textShadowColor:"rgba(0,0,0,0.45)",textShadowBlur:4,textShadowOffsetX:1,textShadowOffsetY:1},tooltip:{backgroundColor:"rgba(0,0,0,0.75)",borderWidth:0,extraCssText:"border-radius:8px; padding:8px 12px;",formatter:l=>{const _=l.data.counts||0;return`
              <div style="font-size:13px; line-height:1.6; color:#fff;">
                <div style="font-weight:600; margin-bottom:4px;">${l.data.name||""}</div>
                <div>
                  é¡¹ç›®æ•°é‡ï¼š
                  <span style="color:#FFD700; font-weight:600;">${_}</span>
                </div>
              </div>
            `}},itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#6fa8ff"},{offset:1,color:"#4169e1"}]},shadowColor:"rgba(65,105,225,0.45)",shadowBlur:12,shadowOffsetY:4},emphasis:{scale:!0,itemStyle:{shadowBlur:18,shadowColor:"rgba(65,105,225,0.7)"},label:{fontSize:12}},data:K},{name:"ä½ç½®ç‚¹",type:"scatter",coordinateSystem:"geo",zlevel:3,symbolSize:(l,_)=>_.data.isCluster?16:12,symbol:"circle",label:{show:!0,position:"right",distance:0,formatter:l=>l.data.name,color:"#52c41a",fontWeight:600,fontSize:14,backgroundColor:"rgba(255,255,255,1)",padding:[5,5],borderRadius:6,borderColor:"rgba(82, 196, 26,0.4)",borderWidth:1,shadowColor:"rgba(82, 196, 26,0.4)",shadowBlur:4},itemStyle:{color:l=>(l.data.isCluster,"#52c41a"),borderColor:"#fff",borderWidth:2,shadowColor:l=>(l.data.isCluster,"rgba(82, 196, 26,0.6)"),shadowBlur:8},emphasis:{scale:!0,label:{fontSize:13,fontWeight:700},itemStyle:{shadowBlur:14}},data:te}]};i==null||i.setOption(G);const De=async l=>{var ae;const _=l.name,V=f[_];if(!V)return;if(S.value.push({map:R.value,data:w.value}),g.includes(_)){const Y=(ae=w.value)==null?void 0:ae.find(J=>J.name===_);if(!Y)return;const H=C(_);if(!H)return;R.value=V,w.value=[{name:_,counts:Y.counts,coord:H}],await re(V);return}const ve=(await ie(_)).map(Y=>{const H=P(Y.name);return H?{...Y,coord:H}:null}).filter(Boolean);R.value=V,w.value=ve,await re(V)};i==null||i.off("click"),i==null||i.on("click",l=>De(l))}async function ye(){if(!S.value.length)return;const s=S.value.pop();R.value=s.map,w.value=s.data,await re(R.value)}const ie=async s=>{var y;const n=(y=B.projectDistributionData.find(x=>x.name===s))==null?void 0:y.id,{data:d,error:r}=await xt({pid:n});return console.log(d,"data"),d},ue=s=>{var d;if(u.value=s,!i)return;const n=(d=w.value)==null?void 0:d.map(r=>{const y=r.coord||C(r.name);return!y||!r.counts||r.counts<=0?null:{name:r.name,value:[...y,r.counts],counts:r.counts}}).filter(Boolean);i.setOption({series:[{name:"æ•°é‡ç‚¹",data:s==="count"||s==="both"?n:[]},{name:"ä½ç½®ç‚¹",data:s==="position"||s==="both"?me(B.data):[]}]})};return j({toggleViewMode:ue}),_e(()=>B.projectDistributionData,async s=>{w.value=B.projectDistributionData,await Be(),pe()},{deep:!0,immediate:!0}),(s,n)=>{const d=Ke,r=vt;return v(),D("div",Vt,[p("div",Ot,[a(r,{size:"small"},{default:m(()=>[a(d,{type:u.value==="count"?"primary":"default",onClick:n[0]||(n[0]=y=>ue("count"))},{default:m(()=>n[3]||(n[3]=[h(" æ•°é‡ ")])),_:1,__:[3]},8,["type"]),a(d,{type:u.value==="position"?"primary":"default",onClick:n[1]||(n[1]=y=>ue("position"))},{default:m(()=>n[4]||(n[4]=[h(" ä½ç½® ")])),_:1,__:[4]},8,["type"]),a(d,{type:u.value==="both"?"primary":"default",onClick:n[2]||(n[2]=y=>ue("both"))},{default:m(()=>n[5]||(n[5]=[h(" å…¨éƒ¨ ")])),_:1,__:[5]},8,["type"])]),_:1}),S.value.length>0?(v(),F(d,{key:0,class:"ml-20px",size:"small",onClick:ye},{default:m(()=>n[6]||(n[6]=[h(" è¿”å›ä¸Šä¸€çº§ ")])),_:1,__:[6]})):(v(),D("div",Bt))]),p("div",{ref_key:"chartRef",ref:k,class:"echart"},null,512)])}}}),Mt=Ee(Ft,[["__scopeId","data-v-393acdec"]]),Nt={class:"flex justify-between"},Ht={class:"clockInInfo"},Ut={style:{color:"#1890ff","font-weight":"700","font-size":"20px"}},Wt={style:{color:"#52c41a","font-weight":"700","font-size":"20px"}},qt={style:{color:"#faad14","font-weight":"700","font-size":"20px"}},Gt={style:{color:"#8a8886","font-weight":"700","font-size":"20px"}},Yt={key:0,class:"details"},Jt={class:"shrink-0 flex flex-col items-center justify-center w-20"},Kt=["src"],Xt={class:"mt-2 c-#52c41a text-sm font-bold text-center truncate w-full"},Qt={class:"flex-1 flex flex-col justify-center gap-1"},Zt={class:"flex text-sm"},ea=["onClick"],ta={class:"flex text-sm"},aa={class:"text-[#4169e1] font-semibold outPeopleText"},na={class:"flex text-sm"},oa={class:"text-[#4169e1] font-semibold outPeopleText"},sa={class:"mt-10px"},la=he({name:"home",__name:"index",setup(Z){const j=Xe(),B=Se(),R=Qe(),S=ge(()=>B.isMobile?0:16),{pageData:k,getData:i}=Ct(mt),w=async()=>{await i({usertypes:"2,3"}),k.data=k.data.filter(e=>e.status==0)},g=b("year"),u=b([{label:"æ—¥",value:"day"},{label:"æœˆ",value:"month"},{label:"å¹´",value:"year"},{label:"ç´¯è®¡",value:"total"}]),f=Le({dayTime:String(Te(0,null)),monthTime:String(Te(3,null)),yearTime:String(Te(4,null))}),C=b(null);async function P(e,t){var L;le(),me(),G(),(L=C.value)==null||L.toggleViewMode("both")}const pe=e=>{var t;g.value=e,le(),me(),G(),(t=C.value)==null||t.toggleViewMode("both")},se=b([]),ee=b([]),A=b([]),U=b([]),W=b([]),be=b([]),le=async()=>{const{data:e,error:t}=await Me({s:g.value=="total"?void 0:g.value=="day"?f.dayTime:g.value=="month"?f.monthTime:f.yearTime});if(!t){se.value=e,ee.value=[{name:"æœªæ ¸å‡†",value:e.project.projectn1,color:"#a27ff9"},{name:"æœªå¼€å§‹",value:e.project.project0,color:"#9ca3af"},{name:"è¿›è¡Œä¸­",value:e.project.project1,color:"#3b82f6"},{name:"å¾…å®¡æ ¸",value:e.project.project2,color:"#facc15"},{name:"å·²å®Œæˆ",value:e.project.project3,color:"#22c55e"}],A.value=[{name:"æ­£å¸¸",value:e.project.proPtype0,color:"#22c55e"},{name:"å»¶æœŸ",value:e.project.proPtype1,color:"#ef4444"}],U.value=[{name:"ç°åœºè°ƒè¯•",value:e.project.proDtype0,color:"#fb923c"},{name:"è¿œç¨‹è°ƒè¯•",value:e.project.proDtype1,color:"#94d82d"},{name:"æ— éœ€è°ƒè¯•",value:e.project.proDtype2,color:"#9ca3af"}];const L=new Map(e==null?void 0:e.norms.map(T=>[T.creater,T.totalscore])),de=new Map(e==null?void 0:e.debug.map(T=>[T.creater,T])),ne=k.data.map(T=>{const E=de.get(T.id),oe=L.get(T.id)??0;return{...T,totalscore:oe,debug:E?E.debugs:0,username:T.username??(E==null?void 0:E.username)??null,userimage:T.userimage??(E==null?void 0:E.userimage)??null,total:oe+(E?E.debugs:0)}});[3,5,6].includes(j.userInfo.usertype)?W.value=ne.sort((T,E)=>E.debug-T.debug):W.value=ne.sort((T,E)=>E.totalscore+E.debug-(T.totalscore+T.debug)),be.value=[...W.value]}},xe=b([]),me=async()=>{const{data:e,error:t}=await Ne({s:g.value=="total"?void 0:g.value=="day"?f.dayTime:g.value=="month"?f.monthTime:f.yearTime});t||(xe.value=[{name:"ç”³è¯·ä¸­",value:e.debugn1,color:"#FB923C"},{name:"å¾…è°ƒè¯•",value:e.debug0,color:"#9ca3af"},{name:"å¼€å§‹è°ƒè¯•",value:e.debug1,color:"#3B82F6"},{name:"å¾…å®¡æ ¸",value:e.debug2,color:"#FACC15"},{name:"å®¡æ ¸å®Œæˆ",value:e.debug3,color:"#10B981"}])},we=[{key:"proname",width:300,title(){return a("div",{class:"font-size-16px font-bold"},[h("è¿‘æœŸé¡¹ç›®")])},ellipsis:{tooltip:!0},render:e=>{if(e.status===null)return null;const t=ut(kt[e.status]);return a("div",null,[a(dt,{placement:"top",trigger:"hover"},{trigger:()=>a("div",{class:"cursor-pointer text-ellipsis overflow-hidden whitespace-nowrap font-bold",onClick:()=>ae(e,"id"),style:"max-width: 280px;"},[e.proname||"-"]),default:()=>e.proname||"-"}),a("div",{style:"display:flex; gap:3px; line-height:1.4;"},[a("div",{class:" flex"},[a("span",{style:"color:#666"},[h("è¿›åº¦ï¼š")]),a(ct,{type:"line",style:"width: 100px;",showIndicator:!0,percentage:e.progess,"indicator-placement":"inside",processing:!0,color:e.progess==100?"#22C55E":"#1890ff"},null)]),a("div",{class:" flex ml-8px"},[a("span",{style:"color:#666 flex"},[h("çŠ¶æ€ï¼š")]),a("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:e.status===0?"#9ca3af":e.status===1?"#3B82F6":e.status===2?"#f1c40f":"#2ecc71",borderRadius:"50%"}},[a("span",{style:{width:"10px",height:"10px",marginRight:"5px",backgroundColor:e.status===0?"#9ca3af":e.status===1?"#3B82F6":e.status===2?"#f1c40f":"#2ecc71",borderRadius:"50%"}},null),a("span",null,[t])])])])])}},{key:"clockinusername",title:"æœ€åæ‰“å¡ä¿¡æ¯",align:"left",width:220,render(e){return a("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[a("div",null,[a("span",{style:"color:#666"},[h("æ—¶é—´ï¼š")]),a("span",{style:" font-weight:500"},[e.lastclockintime||"-"])]),a("div",null,[a("span",{style:"color:#666"},[h("æ‰“å¡äººï¼š")]),a("span",{style:"font-weight:500"},[e.clockinusername||"-"])])])}},{key:"clockincounts",title:"æ‰“å¡ä¿¡æ¯",align:"left",width:200,render(e){return a("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[a("div",null,[a("span",{style:"color:#666"},[h("æ‰“å¡äººæ•°ï¼š")]),a("span",{style:"font-weight:500"},[e.clockincounts!=null?e.clockincounts+"äºº":"-"])]),a("div",null,[a("span",{style:"color:#666"},[h("æ‰“å¡äººï¼š")]),a("span",{style:" font-weight:500"},[e.clockinusers||"-"])])])}},{key:"debugname",title:"è°ƒè¯•ä»»åŠ¡ä¿¡æ¯",align:"left",width:260,render(e){return a("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[a("div",null,[a("span",{style:"color:#666"},[h("ä»»åŠ¡åç§°ï¼š")]),a("span",{style:"font-weight:500"},[e.debugname||"-"])]),a("div",null,[a("span",{style:"color:#666"},[h("çŠ¶æ€ï¼š")]),a(pt,{size:"small",color:{color:e.debugstatus==-1?"rgba(251, 146, 60, 0.15)":e.debugstatus==0?"rgba(156, 163, 175, 0.15)":e.debugstatus==1?"rgba(59, 130, 246, 0.15)":e.debugstatus==2?"rgba(250, 204, 21, 0.15)":"rgba(16, 185, 129, 0.15)",textColor:e.debugstatus==-1?"#FB923C":e.debugstatus==0?"#9CA3AF":e.debugstatus==1?"#3B82F6":e.debugstatus==2?"#FACC15":"#10B981",borderColor:e.debugstatus==-1?"#FB923C":e.debugstatus==0?"#9CA3AF":e.debugstatus==1?"#3B82F6":e.debugstatus==2?"#FACC15":"#10B981"}},{default:()=>[e.debugstatus==-1?"ç”³è¯·ä¸­":e.debugstatus==0?"å¾…è°ƒè¯•":e.debugstatus==1?"å¼€å§‹è°ƒè¯•":e.debugstatus==2?"å¾…å®¡æ ¸":"å®¡æ ¸å®Œæˆ"]})])])}},{key:"username",title:"è°ƒè¯•ä¿¡æ¯",align:"left",width:230,render(e){return a("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[a("div",null,[a("span",{style:"color:#666"},[h("æ—¶é—´ï¼š")]),a("span",{style:" font-weight:500"},[e.dbdbtime||"-"])]),a("div",null,[a("span",{style:"color:#666"},[h("è°ƒè¯•äººï¼š")]),a("span",{style:"font-weight:500"},[e.username||"-"])])])}},{title:"ä»»åŠ¡å®¡æ ¸æ—¶é—´",key:"ckdbtime",width:120}],q=Le({page:1,pageSize:20,showSizePicker:!0,fuzzy:"",itemCount:0,pageSizes:[10,20],prefix:()=>`å…± ${q.itemCount} æ¡`,onChange:e=>{q.page=e,ye()},onUpdatePageSize:e=>{q.pageSize=e,q.page=1,ye()}}),re=b([]),ye=async()=>{const{data:e,error:t}=await Ze({page:q.page,limit:q.pageSize});t||(re.value=e.list,q.itemCount=e.total)},ie=b([]),ue=async()=>{const{data:e,error:t}=await wt();t||(ie.value=e)},s=ge(()=>ie.value.filter(e=>e.pid!=-1)),n=ge(()=>ie.value.filter(e=>e.pid==-1)),d=ge(()=>k.data.filter(e=>!ie.value.some(t=>t.creater==e.id))),r=ge(()=>s.value.length),y=ge(()=>n.value.length),x=b(!1),$=b("allPeople"),I=()=>{x.value=!x.value},M=b(null),K=b(null),te=b([]),N=b(""),G=async()=>{const{data:e,error:t}=await jt({});t||(N.value=g.value=="total"?void 0:g.value=="day"?f.dayTime:g.value=="month"?f.monthTime:f.yearTime,te.value=e)},De=()=>{if(!z.value)return;const e=z.value.children[0];let t=z.value.querySelector(".clone");t?t.innerHTML=e.innerHTML:(t=e.cloneNode(!0),t.classList.add("clone"),z.value.appendChild(t)),t.style.display="block"},z=b(null);let l=null;const _=()=>{if(!z.value)return;l&&clearInterval(l);const e=z.value,t=e.children[0],L=e.querySelector(".clone");L&&(L.style.display="block",l=window.setInterval(()=>{e.scrollTop+=1,e.scrollTop>=t.scrollHeight&&(e.scrollTop=0)},30))},V=()=>{if(l&&(clearInterval(l),l=null),z.value){const e=z.value.querySelector(".clone");e&&(e.style.display="none"),z.value.scrollTop=0}};Ve(async()=>{w(),fe(),ue(),G(),M.value=window.setInterval(fe,1e3*60*5),K.value=window.setInterval(ue,1e3*60*5),setTimeout(()=>{if(z.value=document.querySelectorAll(".n-scrollbar-container")[0],!z.value)return;const e=z.value.children[0];if(!z.value.querySelector(".clone")){const t=e.cloneNode(!0);t.classList.add("clone"),z.value.appendChild(t)}z.value.addEventListener("mouseenter",V),z.value.addEventListener("mouseleave",_),_()},1e3)}),et(()=>{M.value&&clearInterval(M.value),K.value&&clearInterval(K.value),l&&clearInterval(l)});function fe(){le(),me(),ye(),G()}const ve=e=>{R.push({path:"/trajectory/realtimetrajectory"})},ae=(e,t)=>{R.push("/projectmanagement/orderdetail?prjId="+e[t]),j.setProjectInfo({pid:e[t],pname:e.proname})},Y=e=>{setTimeout(()=>V(),200),e.order?W.value.sort((t,L)=>{const de=t[e.columnKey]||0,ne=L[e.columnKey]||0;return e.order==="ascend"?de-ne:ne-de}):W.value=[...be.value],Be(()=>{De(),V(),_()})},H=[{title:()=>a("div",{class:"text-[12px] font-medium"},[h("æ’å")]),key:"rank",width:40,align:"center",render:(e,t)=>a("div",{class:["rank-index",{first:t===0,second:t===1,third:t===2}]},[t+1])},{title:()=>a("div",{class:"text-[12px] font-medium"},[h("è°ƒè¯•äºº")]),key:"username",width:80,align:"center",render:e=>a("div",{class:"flex-col items-center"},[a("img",{src:e.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png",class:"w-6 h-6 rounded-full"},null),a("span",null,[e.username])])},{title:()=>a("div",{class:"text-[12px] font-medium"},[h("è°ƒè¯•ç§¯åˆ†")]),key:"debug",width:80,sorter:!0,align:"center"},{title:()=>a("div",{class:"text-[12px] font-medium"},[h("è¡Œä¸ºå¾—åˆ†")]),key:"totalscore",width:80,sorter:!0,align:"center"},{title:()=>a("div",{class:"text-[12px] font-medium"},[h("æ€»å¾—åˆ†")]),key:"total",width:80,sorter:!0,align:"center"}],J=[{title:()=>a("div",{class:"text-[12px] font-medium"},[h("æ’å")]),key:"rank",width:40,align:"center",render:(e,t)=>a("div",{class:["rank-index",{first:t===0,second:t===1,third:t===2}]},[t+1])},{title:()=>a("div",{class:"text-[12px] font-medium"},[h("è°ƒè¯•äºº")]),key:"username",width:80,align:"center",render:e=>a("div",{class:"flex items-center justify-center"},[a("img",{src:e.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png",class:"w-6 h-6 mr-5px rounded-full"},null),a("span",null,[e.username])])},{title:()=>a("div",{class:"text-[12px] font-medium"},[h("è°ƒè¯•ç§¯åˆ†")]),key:"debug",width:80,sorter:!0,align:"center"}];return(e,t)=>{const L=Tt,de=Dt,ne=at,T=tt,E=Oe,oe=Ue,je=lt,We=rt,qe=st,Ge=Pt,Pe=it,ze=He;return v(),F(T,{vertical:"",size:16},{default:m(()=>[a(ze,{"x-gap":S.value,"y-gap":16,responsive:"screen","item-responsive":""},{default:m(()=>[a(oe,{span:"24 s:24 m:6"},{default:m(()=>[a(E,{size:"small",title:"",bordered:!1,class:"h-full card-wrapper"},{header:m(()=>[a(Rt)]),default:m(()=>[p("div",Nt,[t[9]||(t[9]=p("h2",null,null,-1)),a(T,null,{default:m(()=>[g.value==="day"?(v(),F(L,{key:0,size:"small","formatted-value":f.dayTime,"onUpdate:formattedValue":[t[0]||(t[0]=o=>f.dayTime=o),P],type:"date","value-format":"yyyy-MM-dd",style:{width:"120px"}},null,8,["formatted-value"])):ce("",!0),g.value==="month"?(v(),F(L,{key:1,size:"small","formatted-value":f.monthTime,"onUpdate:formattedValue":[t[1]||(t[1]=o=>f.monthTime=o),P],type:"month","value-format":"yyyy-MM",style:{width:"120px"}},null,8,["formatted-value"])):ce("",!0),g.value==="year"?(v(),F(L,{key:2,size:"small","formatted-value":f.yearTime,"onUpdate:formattedValue":[t[2]||(t[2]=o=>f.yearTime=o),P],type:"year","value-format":"yyyy",style:{width:"120px"}},null,8,["formatted-value"])):ce("",!0),a(ne,{value:g.value,"onUpdate:value":[t[3]||(t[3]=o=>g.value=o),pe],size:"small"},{default:m(()=>[(v(!0),D(Q,null,X(u.value,o=>(v(),F(de,{key:o.value,value:o.value,label:o.label},null,8,["value","label"]))),128))]),_:1},8,["value"])]),_:1})]),a(Re,{data:ee.value,name:"é¡¹ç›®æ€»æ•°"},null,8,["data"]),a($t,{data:se.value,name:"é¡¹ç›®æ€»æ•°"},null,8,["data"]),a(Re,{data:xe.value,name:"è°ƒè¯•æ€»æ•°"},null,8,["data"])]),_:1})]),_:1}),a(oe,{span:"24 s:24 m:18"},{default:m(()=>[a(ze,{"x-gap":S.value,"y-gap":16,responsive:"screen","item-responsive":"",class:"h-100%"},{default:m(()=>[a(oe,{span:"24 s:24 m:16"},{default:m(()=>[a(E,{size:"small",title:"",bordered:!1,class:"h-full card-wrapper","header-style":{padding:"12px 16px"}},{header:m(()=>[t[21]||(t[21]=p("span",{style:{"font-weight":"600","font-size":"16px","margin-right":"16px"}},"å®æ—¶è½¨è¿¹",-1)),p("div",Ht,[p("div",{class:"title",onClick:I,style:{display:"flex","align-items":"center",gap:"16px","font-size":"16px"}},[p("span",null,[t[10]||(t[10]=h(" å…± ")),p("span",Ut,O(Ce(k).data.length),1),t[11]||(t[11]=h(" äºº "))]),p("span",null,[t[12]||(t[12]=h(" ä»Šæ—¥å¤–å‹¤äººæ•°ï¼š ")),p("span",Wt,O(r.value),1),t[13]||(t[13]=h(" äºº "))]),p("span",null,[t[14]||(t[14]=h(" å…¬å¸äººæ•°ï¼š ")),p("span",qt,O(y.value),1),t[15]||(t[15]=h(" äºº "))]),p("span",null,[t[16]||(t[16]=h(" æœªçŸ¥ï¼š ")),p("span",Gt,O(Ce(k).data.length-r.value-y.value),1),t[17]||(t[17]=h(" äºº "))]),p("span",{class:nt(["arrow",{open:x.value}])},"â–¼",2)]),a(ot,{name:"slide"},{default:m(()=>[x.value?(v(),D("div",Yt,[a(qe,{value:$.value,"onUpdate:value":t[4]||(t[4]=o=>$.value=o),type:"card",animated:""},{default:m(()=>[a(je,{name:"allPeople",tab:"å…¨éƒ¨è°ƒè¯•å‘˜å·¥"},{default:m(()=>[(v(!0),D(Q,null,X(s.value,o=>(v(),D("span",{class:"outPeople",key:o.id},O(o.username),1))),128)),(v(!0),D(Q,null,X(n.value,o=>(v(),D("span",{class:"inPeople",key:o.id},O(o.username),1))),128)),(v(!0),D(Q,null,X(d.value,o=>(v(),D("span",{class:"unknown",key:o.id},O(o.username),1))),128))]),_:1}),a(je,{name:"outPeople",tab:"å¤–å‹¤äººå‘˜"},{default:m(()=>[a(We,{style:{"max-height":"500px"}},{default:m(()=>[(v(!0),D(Q,null,X(s.value,o=>(v(),D("div",{key:o.id,class:"mb-4 bg-white outPeopleBg rounded-lg shadow-sm hover:shadow-md transition-shadow flex"},[p("div",Jt,[p("img",{class:"w30px h-30px rounded-full shadow",src:o.userImage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png",alt:"å¤´åƒ"},null,8,Kt),p("div",Xt,O(o.username),1)]),p("div",Qt,[p("div",Zt,[t[18]||(t[18]=p("span",{class:"whitespace-nowrap"},"ğŸ—ï¸ é¡¹ç›®åç§°ï¼š",-1)),p("span",{class:"text-[#4169e1] font-semibold outPeopleText cursor-pointer",onClick:ke=>ae(o,"pid")},O(o.proname||"æš‚æ— é¡¹ç›®"),9,ea)]),p("div",ta,[t[19]||(t[19]=p("span",{class:"whitespace-nowrap"},"ğŸ“… æœ€è¿‘ä¸€æ¬¡æ‰“å¡æ—¶é—´ï¼š",-1)),p("span",aa,O(o.dbtime||"æ— "),1)]),p("div",na,[t[20]||(t[20]=p("span",{class:"whitespace-nowrap"},"ğŸ“ åœ°å€ï¼š",-1)),p("span",oa,O(o.address),1)])])]))),128))]),_:1})]),_:1}),a(je,{name:"inPeople",tab:"å…¬å¸äººå‘˜"},{default:m(()=>[(v(!0),D(Q,null,X(n.value,o=>(v(),D("span",{class:"inPeople",key:o.id},O(o.username),1))),128))]),_:1}),a(je,{name:"unknownPeople",tab:"æœªçŸ¥äººå‘˜"},{default:m(()=>[(v(!0),D(Q,null,X(d.value,o=>(v(),D("span",{class:"unknown",key:o.id},O(o.username),1))),128))]),_:1})]),_:1},8,["value"])])):ce("",!0)]),_:1})])]),"header-extra":m(()=>[p("span",{title:"è¯¦æƒ…",onClick:ve},[a(Ge,{class:"font-size-24px cursor-pointer"})])]),default:m(()=>[a(Mt,{ref_key:"trajectoryChartRef",ref:C,dates:N.value,projectDistributionData:te.value,data:ie.value,name:"å®æ—¶è½¨è¿¹"},null,8,["dates","projectDistributionData","data"])]),_:1})]),_:1}),a(oe,{span:"24 s:24 m:8"},{default:m(()=>[a(E,{size:"small",title:"",bordered:!1,class:"h-full card-wrapper"},{header:m(()=>[t[22]||(t[22]=p("h2",null,"é¡¹ç›®è°ƒè¯•ç§¯åˆ†æ’è¡Œæ¦œ",-1)),a(T,{justify:"start"},{default:m(()=>[a(ne,{value:g.value,"onUpdate:value":[t[5]||(t[5]=o=>g.value=o),pe],size:"small"},{default:m(()=>[(v(!0),D(Q,null,X(u.value,o=>(v(),F(de,{key:o.value,value:o.value,label:o.label},null,8,["value","label"]))),128))]),_:1},8,["value"]),g.value==="day"?(v(),F(L,{key:0,size:"small","formatted-value":f.dayTime,"onUpdate:formattedValue":[t[6]||(t[6]=o=>f.dayTime=o),P],type:"date","value-format":"yyyy-MM-dd",style:{width:"120px"}},null,8,["formatted-value"])):ce("",!0),g.value==="month"?(v(),F(L,{key:1,size:"small","formatted-value":f.monthTime,"onUpdate:formattedValue":[t[7]||(t[7]=o=>f.monthTime=o),P],type:"month","value-format":"yyyy-MM",style:{width:"120px"}},null,8,["formatted-value"])):ce("",!0),g.value==="year"?(v(),F(L,{key:2,size:"small","formatted-value":f.yearTime,"onUpdate:formattedValue":[t[8]||(t[8]=o=>f.yearTime=o),P],type:"year","value-format":"yyyy",style:{width:"120px"}},null,8,["formatted-value"])):ce("",!0)]),_:1})]),default:m(()=>[a(Pe,{ref:"tableContainer",class:"rankTable",remote:"","onUpdate:sorter":Y,columns:[3,5,6].includes(Ce(j).userInfo.usertype)?J:H,"scroll-x":([3,5,6].includes(Ce(j).userInfo.usertype)?J:H).reduce((o,ke)=>o+(ke.width||100),0),data:W.value,bordered:!1,"max-height":540},null,8,["columns","scroll-x","data"])]),_:1})]),_:1}),a(oe,{span:"24 s:24 m:24"},{default:m(()=>[a(E,{size:"small",title:"",bordered:!1,class:"h-full card-wrapper","header-style":{padding:"12px 16px 0px"},"content-style":{padding:"0 16px 12px"}},{header:m(()=>t[23]||(t[23]=[])),default:m(()=>[p("div",sa,[a(Pe,{ref:"tableContainer",remote:"",pagination:q.pageSize==1?!1:q,"scroll-x":we.reduce((o,ke)=>o+(ke.width||100),0),columns:we,data:re.value,bordered:!1,"max-height":280},null,8,["pagination","scroll-x","data"])])]),_:1})]),_:1})]),_:1},8,["x-gap"])]),_:1})]),_:1},8,["x-gap"])]),_:1})}}}),va=Ee(la,[["__scopeId","data-v-0cfba3f0"]]);export{va as default};
