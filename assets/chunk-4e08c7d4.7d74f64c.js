(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4e08c7d4"],{"077b":function(e,t){e.exports={messages:{CN:{sortingMode:"排序方式",pleaseSelectSortingMode:"请选择排序方式",portComAddr:"端口+通讯地址",device:"设备名称",autoSearch:"自动搜索",addTag:"添加测点",updateTag:"测点信息修改",removeTag:"移除测点",export:"导出",importTagInfo:"测点信息导入",exportTagInfo:"测点信息导出",option:"操作",update:"修改",delete:"删除",noData:"暂无数据",submit:"提交",belongingChannel:"所属通道",pleaseSelectChannelYouBelongTo:"请选择所属通道",ownedEquipment:"所属设备",pleaseSelectYourDevice:"请选择所属设备",measuringPointID:"测点ID",measuringPointName:"测点名称",physicalModelIdentification:"物模型标识(测点描述)",none:"无",measuringPointType:"测点类型",coefficientK:"系数K",collectFunctionCodes:"采集功能码",forwardFunctionCode:"转发功能码",registerAddress:"寄存器地址",upload:"上传",uploadLogo:"上传标识",limitEnable:"限值使能",close:"关",turnOnLowerLimit:"开启下限",turnOnUpperLimit:"开启上限",turnOnUpperAndLowerLimits:"开启上下限",minimumValue:"最小值",maximumValue:"最大值",group:"分组",typeOfData:"数据类型",dataFormat:"数据格式",bitwiseValue:"按位取值",alarmEnable:"报警使能",historyStorageEnabled:"历史存储使能",readAndWriteProperties:"读写属性",offsetB:"偏移B",bit:"位",eightBitUnsigned:"8位无符号",eightBitSigned:"8位有符号",sixteenBitUnsigned:"16位无符号",sixteenBitSigned:"16位有符号",thirtyTwoBitUnsigned:"32位无符号",thirtyTwoBitSigned:"32位有符号",sixteenBit:"16位BCD",thirtyTwoBit:"32位BCD",singlePrecissonFloatingPoint:"单精度浮点型",doublePrecissonFloatingPoint:"双精度浮点型",string:"字符串",sixtyFourBitUnsigned:"64位无符号",sixtyFourBitSigned:"64位有符号",analogQuantity:"模拟量",switchQuantity:"开关量",readOnly:"只读",readAndWrite:"读写",writeOnly:"只写",yes:"是",nay:"否",goto:"前往",page:"页",articlePage:"条/页",total:"共",records:"条记录",search:"查询",measuringPointSource:"测点来源",telemetry:"遥测",harunobu:"遥信",remotePulse:"遥脉",remoteControl:"遥控",remoteControlAdjust:"遥调",collectionPoint:"采集点",midpoint:"中间点",forwardingPoint:"转发点",systemPoint:"系统点",startBit:"起始位",endBit:"终止位",enableTrans:"数值转换",transValue:"转换后的值",rev2:"保留2",pleaseSelectDatasourceToDelete:"请选择要删除的数据源",hint:"提示",wantToDeleteDatasource:"确定要删除该数据源吗?",confirm:"确定",cancel:"取消",successfullyDeleted:"删除成功",failedDelete:"删除失败",measuringPointList:"测点列表",pleaseEnterMeasuringPointName:"请输入测点名称",pleaseSelectMeasuringPointType:"请选择测点类型",pleaseSelectCollectFunctionCode:"请选择采集功能码",pleaseSelectForwardingFunctionCode:"请选择转发功能码",downloadTheForwardingPointTable:"下载转发点表",downloadSuccessful:"下载成功"},US:{sortingMode:"Sorting mode",pleaseSelectSortingMode:"Please select sorting mode",portComAddr:"Port+Comm Addr",device:"Device",autoSearch:"Auto Search",addTag:"Add Measuring point",updateTag:"Modify Measuring point",removeTag:"Remove Measuring point",export:"Export",importTagInfo:"Import Measuring point Info",exportTagInfo:"Export Measuring point Info",no:"No",port:"Port",commAddress:"Comm Address",logicalAddr:"Logical Addr",transformerNo:"Transformer No",windingNo:"Winding No",communicationStatus:"Communication Status",operatingStatus:"Operating Status",option:"Option",update:"Update",delete:"Delete",noData:"No Data",deviceType:"Device Type",pleaseSelectDeviceType:"Please Select Device Type",pleaseEnterPort:"Please Enter Port",deviceModel:"Device Model",pleaseSelectDeviceModel:"Please Select Device Model",startAddr:"Start Addr",pleaseEnterStartAddr:"Please Enter StartAddr",deviceCount:"Device Count",pleaseEnterDeviceCount:"Please Enter Device Count",deviceTypeNotEmpty:"Device type cannot be empty",portNotEmpty:"Port cannot be empty",deviceModelNotEmpty:"Device model cannot be empty",startAddrNotEmpty:"The starting address cannot be empty",deviceCountNotEmpty:"Device quantity cannot be empty",submit:"Submit",belongingChannel:"Belonging channel",pleaseSelectChannelYouBelongTo:"Please select the channel you belong to",ownedEquipment:"Owned equipment",pleaseSelectYourDevice:"Please select your device",measuringPointID:"Measuring point ID",measuringPointName:"Measuring point name",physicalModelIdentification:"Physical model identification (measuring point description)",none:"None",measuringPointType:"Measuring point type",coefficientK:"Coefficient K",collectFunctionCodes:"Collect function codes",forwardFunctionCode:"Forward function code",registerAddress:"Register address",upload:"Upload",uploadLogo:"Upload logo",limitEnable:"Limit enable",close:"Close",turnOnLowerLimit:"Turn on lower limit",turnOnUpperLimit:"Turn on upper limit",turnOnUpperAndLowerLimits:"Turn on upper and lower limits",minimumValue:"Minimum value",maximumValue:"Maximum value",group:"Group",typeOfData:"Type of data",dataFormat:"Data Format",bitwiseValue:"Bitwise value",alarmEnable:"Alarm enable",historyStorageEnabled:"History storage enabled",readAndWriteProperties:"Read and write properties",offsetB:"Offset B",bit:"Bit",eightBitUnsigned:"8-bit unsigned",eightBitSigned:"8-bit signed",sixteenBitUnsigned:"16-bit unsigned",sixteenBitSigned:"16-bit signed",thirtyTwoBitUnsigned:"32-bit unsigned",thirtyTwoBitSigned:"32-bit signed",sixteenBit:"16-bit BCD",thirtyTwoBit:"32-bit BCD",singlePrecissonFloatingPoint:"Single precision floating point",doublePrecissonFloatingPoint:"Double precision floating point",string:"String",sixtyFourBitUnsigned:"64-bit unsigned",sixtyFourBitSigned:"64-bit signed",analogQuantity:"Analog Quantity",switchQuantity:"Switch Quantity",readOnly:"Read Only",readAndWrite:"Read and write",writeOnly:"Write Only",yes:"Yes",nay:"No",goto:"Go to",page:"Page",articlePage:"items/Page",total:"Total",records:"Records",search:"Search",measuringPointSource:"Measuring point source",telemetry:"Telemetry",harunobu:"Telesignal",remotePulse:"Telepulse",remoteControl:"Telecontrol",remoteControlAdjust:"Teleadjusting",collectionPoint:"Collection point",midpoint:"Midpoint",forwardingPoint:"Forwarding point",systemPoint:"System point",startBit:"Start bit",endBit:"End bit",enableTrans:"Numeric conversion",transValue:"converted value",rev2:"Reserve 2",pleaseSelectDatasourceToDelete:"Please select the data source to delete",hint:"Hint",wantToDeleteDatasource:"Are you sure you want to delete this data source?",confirm:"Confirm",cancel:"Cancel",successfullyDeleted:"Successfully deleted",failedDelete:"Failed to delete",measuringPointList:"Measuring point list",pleaseEnterMeasuringPointName:"Please enter the measuring point name",pleaseSelectMeasuringPointType:"Please select measuring point type",pleaseSelectSourceMeasuringPoints:"Please select the source of measuring points",pleaseSelectCollectFunctionCode:"Please select collection function code",pleaseSelectForwardingFunctionCode:"Please select the forwarding function code",downloadTheForwardingPointTable:"Download the forwarding point table",downloadSuccessful:"Download successful"}}}},"2a1f":function(e,t,a){a("a15b"),a("fb6a"),a("ace4"),a("b0c0"),a("3410"),a("d3b7"),a("ac1f"),a("25f0"),a("466d"),a("1276"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a9"),a("72f7"),
/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(e){}var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},a=function(){this.data=[]},n=function(e,t,a){this.data=e,this.size=e.length,this.type=t,this.encoding=a},i=a.prototype,o=n.prototype,r=e.FileReaderSync,l=function(e){this.code=this[this.name=e]},s="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=s.length,d=e.URL||e.webkitURL||e,u=d.createObjectURL,g=d.revokeObjectURL,p=d,m=e.btoa,h=e.atob,f=e.ArrayBuffer,y=e.Uint8Array,v=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(n.fake=o.fake=!0;c--;)l.prototype[s[c]]=c+1;return d.createObjectURL||(p=e.URL=function(e){var t,a=document.createElementNS("http://www.w3.org/1999/xhtml","a");return a.href=e,"origin"in a||("data:"===a.protocol.toLowerCase()?a.origin=null:(t=e.match(v),a.origin=t&&t[1])),a}),p.createObjectURL=function(e){var t,a=e.type;return null===a&&(a="application/octet-stream"),e instanceof n?(t="data:"+a,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):m?t+";base64,"+m(e.data):t+","+encodeURIComponent(e.data)):u?u.call(d,e):void 0},p.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&g&&g.call(d,e)},i.append=function(e){var a=this.data;if(y&&(e instanceof f||e instanceof y)){for(var i="",o=new y(e),s=0,c=o.length;s<c;s++)i+=String.fromCharCode(o[s]);a.push(i)}else if("Blob"===t(e)||"File"===t(e)){if(!r)throw new l("NOT_READABLE_ERR");var d=new r;a.push(d.readAsBinaryString(e))}else e instanceof n?"base64"===e.encoding&&h?a.push(h(e.data)):"URI"===e.encoding?a.push(decodeURIComponent(e.data)):"raw"===e.encoding&&a.push(e.data):("string"!=typeof e&&(e+=""),a.push(unescape(encodeURIComponent(e))))},i.getBlob=function(e){return arguments.length||(e=null),new n(this.data.join(""),e,"raw")},i.toString=function(){return"[object BlobBuilder]"},o.slice=function(e,t,a){var i=arguments.length;return i<3&&(a=null),new n(this.data.slice(e,i>1?t:this.data.length),a,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},a}(e);e.Blob=function(e,a){var n=a&&a.type||"",i=new t;if(e)for(var o=0,r=e.length;o<r;o++)Uint8Array&&e[o]instanceof Uint8Array?i.append(e[o].buffer):i.append(e[o]);var l=i.getBlob(n);return!l.slice&&l.webkitSlice&&(l.slice=l.webkitSlice),l};var a=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=a(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this)},"376b":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("4160"),a("d81d"),a("c19f"),a("ace4"),a("d3b7"),a("25f0"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a9"),a("72f7");function n(e,t){for(var a,n={},i={s:{c:1e7,r:1e7},e:{c:0,r:0}},o=0;o!=e.length;++o)for(var r=0;r!=e[o].length;++r){i.s.r>o&&(i.s.r=o),i.s.c>r&&(i.s.c=r),i.e.r<o&&(i.e.r=o),i.e.c<r&&(i.e.c=r);var l={v:e[o][r]};if(null!=l.v){var s=XLSX.utils.encode_cell({c:r,r:o});"number"==typeof l.v?l.t="n":"boolean"==typeof l.v?l.t="b":l.v instanceof Date?(l.t="n",l.z=XLSX.SSF._table[14],l.v=(a=l.v,void 0&&(a+=1462),(Date.parse(a)-new Date(Date.UTC(1899,11,30)))/864e5)):l.t="s",n[s]=l}}return i.s.c<1e7&&(n["!ref"]=XLSX.utils.encode_range(i)),n}function i(){if(!(this instanceof i))return new i;this.SheetNames=[],this.Sheets={}}function o(e){for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),n=0;n!=e.length;++n)a[n]=255&e.charCodeAt(n);return t}function r(e,t,a){var r=t;r.unshift(e);for(var l=new i,s=n(r),c=r.map((function(e){return e.map((function(e){return null==e?{wch:10}:e.toString().charCodeAt(0)>255?{wch:2*e.toString().length+5}:{wch:e.toString().length+5}}))})),d=c[0],u=1;u<c.length;u++)for(var g=0;g<c[u].length;g++)d[g].wch<c[u][g].wch&&(d[g].wch=c[u][g].wch);s["!cols"]=d,l.SheetNames.push("SheetJS"),l.Sheets.SheetJS=s;var p=XLSX.write(l,{bookType:"xlsx",bookSST:!1,type:"binary"}),m=a||"列表";saveAs(new Blob([o(p)],{type:"application/octet-stream"}),m+".xlsx")}a("2a1f"),a("0fd4"),a("1447")},"3a72":function(e,t,a){"use strict";a.r(t);a("a4d3"),a("e01a"),a("7db0"),a("4160"),a("c975"),a("a15b"),a("d81d"),a("a9e3"),a("d3b7"),a("ac1f"),a("25f0"),a("3ca3"),a("466d"),a("1276"),a("159b"),a("ddb0"),a("2b3d"),a("96cf");var n=a("1da1"),i=a("5530"),o=a("bc3a"),r=a.n(o),l=a("c1df"),s=a.n(l),c=a("2f62"),d=a("4128"),u=a("b047"),g=a.n(u),p=a("376b"),m=a("e199"),h={name:"taglist",i18n:a("077b"),data:function(){return{tableData:[],page:1,limit:1e3,total:0,chlType:null,pagerLoading:!1,dataListLoading:!1,sname:"tag_id",sort:"asc",sortConfig:{defaultSort:{field:"tag_id",order:"asc"},remote:!0},dataForm:{chlId:void 0,chlGuid:void 0,devId:void 0,tagname:"",tagType:void 0,tagSource:void 0,collect_type:void 0},chlList:[],devList:[],dataList:[],collectTypeMap:{},collectTypeList:[],sortList:[{name:this.$t("portComAddr"),value:0},{name:this.$t("device"),value:1}],scrollHeight:0,labelCol:{span:4},wrapperCol:{span:20},labelColEn:{span:6},wrapperColEn:{span:18},checkboxConfig:{checkStrictly:!1,reserve:!1,highlight:!0,checkField:"checked"},tagTypeList:[{name:this.$t("telemetry"),value:0},{name:this.$t("harunobu"),value:1},{name:this.$t("remotePulse"),value:2},{name:this.$t("remoteControl"),value:3},{name:this.$t("remoteControlAdjust"),value:4}],tagSourceList:[{name:this.$t("collectionPoint"),value:0},{name:this.$t("midpoint"),value:1},{name:this.$t("forwardingPoint"),value:2},{name:this.$t("systemPoint"),value:3}]}},computed:Object(i.a)(Object(i.a)({},Object(c.e)("setting",["lang"])),{},{getChannelType:function(){var e,t=this;return 1!=(null===(e=this.chlList.find((function(e){return e.chl_id==t.dataForm.chlId})))||void 0===e?void 0:e.chl_type)}}),methods:{moment:s.a,filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},getChannelDataList:function(){var e=this;Object(m.k)({}).then((function(t){var a=t.data;if(!a)return!1;if(0!=a.code)return e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.warning(a.msg);if(e.chlList=a.data,e.chlList.length>0){if("{}"!=JSON.stringify(e.$route.query)){for(var n=!1,i=0;i<e.chlList.length;i++)if(e.chlList[i].chl_id==e.$route.query.chl_id){n=!0,e.dataForm.chlGuid=e.chlList[i].chl_protocol_guid,e.dataForm.chlId=Number(e.$route.query.chl_id),e.chlType=e.chlList[i].chl_type;break}n||e.dataForm.chlId||(e.dataForm.chlGuid=e.chlList[0].chl_protocol_guid,e.dataForm.chlId=e.chlList[0].chl_id,e.chlType=e.chlList[0].chl_type)}else e.dataForm.chlId||(e.dataForm.chlGuid=e.chlList[0].chl_protocol_guid,e.dataForm.chlId=e.chlList[0].chl_id,e.chlType=e.chlList[0].chl_type);e.getChannelFunctionCodeList(),e.getDevDataList()}else e.dataForm.chlId=void 0})).catch((function(e){return console.log(e),!1}))},handleChannelChange:function(e){this.dataForm.chlGuid=this.chlList.find((function(t){return t.chl_id==e})).chl_protocol_guid,this.chlType=this.chlList.find((function(t){return t.chl_id==e})).chl_type,this.page=1,this.getChannelFunctionCodeList(),this.getDevDataList()},getChannelFunctionCodeList:function(){var e=this,t={guid:e.dataForm.chlGuid};e.collectTypeMap={},Object(m.p)(t).then((function(t){var a=t.data;if(0!=a.code)return e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg);if(e.collectTypeList=a.data,a.data.forEach((function(t){e.collectTypeMap[t.index]=t})),a.data.length>0){if(null!=e.dataForm.collect_type){for(var n=!1,i=0;i<e.collectTypeList.length;i++)if(e.dataForm.collect_type==e.collectTypeList[i].index){n=!0;break}n||(e.dataForm.collect_type=void 0)}}else e.dataForm.collect_type=void 0})).catch((function(e){return console.log(e),!1}))},getDevDataList:function(){var e=this,t={page:0,count:400};e.dataForm.chlId&&(t.chl_id=this.dataForm.chlId),Object(m.o)(t).then((function(t){var a=t.data;if(!a)return!1;if(0!=a.code)return e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.warning(a.msg);if(e.devList=a.data.dev,e.devList.length>0)if("{}"!=JSON.stringify(e.$route.query)){for(var n=!1,i=0;i<e.devList.length;i++)if(e.devList[i].dev_id==e.$route.query.dev_id){n=!0,e.dataForm.devId=Number(e.$route.query.dev_id);break}n||(e.dataForm.devId=e.devList[0].dev_id)}else if(e.dataForm.devId){for(var o=!1,r=0;r<e.devList.length;r++)if(e.devList[r].dev_id==e.dataForm.devId){o=!0;break}o||(e.dataForm.devId=e.devList[0].dev_id)}else e.dataForm.devId=e.devList[0].dev_id;else e.dataForm.devId=void 0;e.getDataList()})).catch((function(e){return console.log(e),!1}))},handlePageChange:function(e){var t=e.currentPage,a=e.pageSize;this.page=t,this.limit=a,this.getDataList()},handleQuerySearch:function(){this.page=1,this.getDataList()},sortChange:function(e){var t=e.property,a=e.order;a&&(this.sname=t,this.sort=a,this.getDataList())},getDataList:function(){var e=this,t={page:e.page-1,count:e.limit,sort:"asc"==e.sort?e.sname:e.sname+" "+e.sort};e.dataForm.devId&&(t.dev_id=[e.dataForm.devId]),e.dataForm.tagname&&(t.tag_name=e.dataForm.tagname),null!=e.dataForm.tagType&&(t.tag_type=e.dataForm.tagType),null!=e.dataForm.tagSource&&(t.tag_source=e.dataForm.tagSource),null!=e.dataForm.collect_type&&(t.collect_type=e.dataForm.collect_type),e.dataListLoading=!0,e.pagerLoading=!0,Object(m.H)(t).then((function(t){var a=t.data;if(!a)return!1;if(0!=a.code){if(e.dataListLoading=!1,e.pagerLoading=!1,e.$message.config({maxCount:1}),e.$message.destroy(),document.getElementsByClassName("vxe-pager--goto-text").length>0){var n=document.createEvent("HTMLEvents"),i=document.getElementsByClassName("vxe-input--inner")[0];document.getElementsByClassName("vxe-pager--goto-text")[0].innerHTML=e.$t("goto"),document.getElementsByClassName("vxe-pager--classifier-text")[0].innerHTML=e.$t("page"),i.value=parseInt(i.value)+e.$t("articlePage"),n.initEvent("input",!0,!0),i.dispatchEvent(n),document.getElementsByClassName("vxe-pager--total")[0].innerHTML=e.$t("total")+" "+e.total+" "+e.$t("records")}return e.$message.warning(a.msg)}if(e.dataList=a.data.tag,e.total=Object.prototype.hasOwnProperty.call(a.data,"total")?Number(a.data.total):a.data.tag.length,e.dataListLoading=!1,e.pagerLoading=!1,document.getElementsByClassName("vxe-pager--goto-text").length>0){var o=document.createEvent("HTMLEvents"),r=document.getElementsByClassName("vxe-input--inner")[0];document.getElementsByClassName("vxe-pager--goto-text")[0].innerHTML=e.$t("goto"),document.getElementsByClassName("vxe-pager--classifier-text")[0].innerHTML=e.$t("page"),r.value=parseInt(r.value)+" "+e.$t("articlePage"),o.initEvent("input",!0,!0),r.dispatchEvent(o),document.getElementsByClassName("vxe-pager--total")[0].innerHTML=e.$t("total")+" "+e.total+" "+e.$t("records")}})).catch((function(t){return console.log(t),e.dataListLoading=!1,e.pagerLoading=!1,!1}))},formatterTagk:function(e){var t=e.row;return-1!=String(t.tag_k).indexOf(".")?new d.Decimal(String(t.tag_k)).toDecimalPlaces(6,d.Decimal.ROUND_DOWN).toString():t.tag_k},formatterCollectType:function(e){var t=e.row,a=isNaN(t.collect_type)?t.collect_type:this.collectTypeMap[Number(t.collect_type)]?this.collectTypeMap[Number(t.collect_type)]["US"==this.lang?"descEng":"desc"]:"";return a&&-1!=a.indexOf("(")?a.split("(")[0]:a},formatterCollecttypec:function(e){var t=e.row;if(!t.collDescript)return"";if(-1==t.collDescript.indexOf("("))return t.collDescript;var a=t.collDescript.indexOf("(");return a>0?t.collDescript.substring(0,a):void 0},getDescription:function(e,t){for(var a=0;a<this.guidList.length;a++){var n=this.guidList[a];if(n.guid==e){JSON.parse(n.funccode).data.forEach((function(e){if(e.FuncCode===t)return-1!=e.description.indexOf("(")?e.description.split("(")[0]:e.description}));break}}},formatterAlarm:function(e){return 1===e.row.enablealarm?this.$t("yes"):this.$t("nay")},formatterHistory:function(e){return 1===e.row.enablehissave?this.$t("yes"):this.$t("nay")},formatterIsupload:function(e){return 1===e.row.isupload?this.$t("yes"):this.$t("nay")},selectAll:function(e){var t=this;this.selectedAlarmRowKeys=[],e.records.length>0&&e.records.forEach((function(e){t.selectedAlarmRowKeys.push(e.id)}))},handleSelectedAlarmChange:function(e){var t=this;this.selectedAlarmRowKeys=[],e.records.length>0&&e.records.forEach((function(e){t.selectedAlarmRowKeys.push(e.id)}))},handleDeleteChange:function(e){console.log(e);var t={ids:null};if(e)t.ids=e.id;else{if(0==this.selectedAlarmRowKeys.length)return this.$message.config({maxCount:1}),this.$message.destroy(),this.$message.warning(this.$t("pleaseSelectDatasourceToDelete"));t.ids=this.selectedAlarmRowKeys.join(",")}this.$confirm({title:this.$t("hint"),content:this.$t("wantToDeleteDatasource"),okText:this.$t("confirm"),okType:"danger",cancelText:this.$t("cancel"),onOk:function(){console.log("OK")},onCancel:function(){console.log("Cancel")}})},browserType:function(){var e=navigator.userAgent.toLowerCase(),t={ie:function(){return!(!window.ActiveXObject&&!("ActiveXObject"in window))},edge:function(){return/dge/.test(e)},chrome:function(){return/chrome/.test(e)},safari:function(){return/safari/.test(e)&&!/chrome/.test(e)},opera:function(){return/opera/.test(e)},msie:function(){return/msie/.test(e)&&!/opera/.test(e)},mozilla:function(){return/mozilla/.test(e)&&!/(compatible|webkit)/.test(e)}},a={};for(var n in t){var i=t[n](),o=(e.match(/.+(?:rv|it|ra|ie)[/: ]([\d.]+)/)||[])[1];if(i)return a.browser=n,a.version=o,a}},handleDownLoadTransTableChange:function(){var e=this,t={chl_id:this.dataForm.chlId,dev_id:this.dataForm.devId};Object(m.J)(t).then((function(t){var a=t.data;if(a&&0!=a.code)return e.$message.config({maxCount:1}),e.$message.destroy(),e.$message.error(a.msg);if(a&&(!a.data||0==a.data.length))return!1;var i=window.location.origin+"/"+a.data[0].file_path+"/"+a.data[0].file_name;r()({method:"get",url:i,responseType:"blob"}).then(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var n,i,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data,i=new Blob([n]),o=document.createElement("a"),r=window.URL.createObjectURL(i),o.href=r,o.download=a.data[0].file_name,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(t){return console.log(t),e.getDataList(),!1}))},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))})),t.map((function(t){return e.map((function(e){return t[e]}))}))},resetExcelData:function(e){var t=this,a=[];this.dataList.forEach((function(e){var n=isNaN(e.collect_type)?e.collect_type:t.collectTypeMap[Number(e.collect_type)]?t.collectTypeMap[Number(e.collect_type)]["US"==t.lang?"descEng":"desc"]:"",i={tag_id:e.tag_id,tag_name:e.tag_name,tag_desc:e.tag_desc,tag_type:0===e.tag_type?t.$t("telemetry"):1===e.tag_type?t.$t("harunobu"):2===e.tag_type?t.$t("remotePulse"):3===e.tag_type?t.$t("remoteControl"):4===e.tag_type?t.$t("remoteControlAdjust"):"--",tag_k:-1!=String(e.tag_k).indexOf(".")?new d.Decimal(String(e.tag_k)).toDecimalPlaces(6,d.Decimal.ROUND_DOWN).toString():e.tag_k,collect_type:n&&-1!=n.indexOf("(")?n.split("(")[0]:n,obj_addr:e.obj_addr,tag_group:e.tag_group,data_type:0===e.data_type?t.$t("bit"):1===e.data_type?t.$t("eightBitUnsigned"):2===e.data_type?t.$t("eightBitSigned"):3===e.data_type?t.$t("sixteenBitUnsigned"):4===e.data_type?t.$t("sixteenBitSigned"):5===e.data_type?t.$t("thirtyTwoBitUnsigned"):6===e.data_type?t.$t("thirtyTwoBitSigned"):7===e.data_type?t.$t("sixteenBit"):8===e.data_type?t.$t("thirtyTwoBit"):9===e.data_type?t.$t("singlePrecissonFloatingPoint"):10===e.data_type?t.$t("doublePrecissonFloatingPoint"):11===e.data_type?t.$t("string"):12===e.data_type?t.$t("sixtyFourBitUnsigned"):13===e.data_type?t.$t("sixtyFourBitSigned"):"--",data_format:0===e.data_format?"12":1===e.data_format?"21":2===e.data_format?"1234":3===e.data_format?"2143":4===e.data_format?"3412":"4321",enable_bit:1===e.enable_bit?t.$t("yes"):t.$t("nay"),org_read_value:0==e.org_read_value?t.$t("readOnly"):1==e.tagrwprop?t.$t("readAndWrite"):t.$t("writeOnly"),tag_b:e.tag_b,start_bit:e.start_bit,end_bit:e.end_bit,enable_trans:1===e.enable_trans?t.$t("yes"):t.$t("nay"),trans_value:e.trans_value,rev2:e.rev2};a.push(i)})),e(a)},handleExportChange:g()((function(){var e=this;this.resetExcelData((function(t){for(var a=[{label:e.$t("measuringPointID"),prop:"tag_id"},{label:e.$t("measuringPointName"),prop:"tag_name"},{label:e.$t("physicalModelIdentification"),prop:"tag_desc"},{label:e.$t("measuringPointType"),prop:"tag_type"},{label:e.$t("coefficientK"),prop:"tag_k"},{label:1==e.chlType?e.$t("forwardFunctionCode"):e.$t("collectFunctionCodes"),prop:"collect_type"},{label:e.$t("registerAddress"),prop:"obj_addr"},{label:e.$t("group"),prop:"tag_group"},{label:e.$t("typeOfData"),prop:"data_type"},{label:e.$t("dataFormat"),prop:"data_format"},{label:e.$t("bitwiseValue"),prop:"enable_bit"},{label:e.$t("readAndWriteProperties"),prop:"org_read_value"},{label:e.$t("offsetB"),prop:"tag_b"},{label:e.$t("startBit"),prop:"start_bit"},{label:e.$t("endBit"),prop:"end_bit"},{label:e.$t("enableTrans"),prop:"enable_trans"},{label:e.$t("transValue"),prop:"trans_value"},{label:e.$t("rev2"),prop:"rev2"}],n=[],i=[],o=0;o<a.length;o++)n[o]=a[o].label,i[o]=a[o].prop;var r=n,l=i,s=t,c=e.formatJson(l,s);Object(p.a)(r,c,e.$t("measuringPointList")+"_"+(new Date).getTime())}))}),1e3,{leading:!0,trailing:!1})},mounted:function(){var e=this;this.scrollHeight=window.innerHeight-250,this.getChannelDataList(),window.onresize=function(){e.scrollHeight=window.innerHeight-250},document.addEventListener("click",(function(){if(document.getElementsByClassName("vxe-select-option").length>0)for(var t=0;t<document.getElementsByClassName("vxe-select-option").length;t++)document.getElementsByClassName("vxe-select-option")[t].innerHTML=parseInt(document.getElementsByClassName("vxe-select-option")[t].innerHTML)+" "+e.$t("articlePage")}))},watch:{lang:{handler:function(){if(this.sortList=[{name:this.$t("portComAddr"),value:0},{name:this.$t("device"),value:1}],this.tagTypeList=[{name:this.$t("telemetry"),value:0},{name:this.$t("harunobu"),value:1},{name:this.$t("remotePulse"),value:2},{name:this.$t("remoteControl"),value:3},{name:this.$t("remoteControlAdjust"),value:4}],this.tagSourceList=[{name:this.$t("collectionPoint"),value:0},{name:this.$t("midpoint"),value:1},{name:this.$t("forwardingPoint"),value:2},{name:this.$t("systemPoint"),value:3}],document.getElementsByClassName("vxe-pager--goto-text").length>0){var e=document.createEvent("HTMLEvents"),t=document.getElementsByClassName("vxe-input--inner")[0];document.getElementsByClassName("vxe-pager--goto-text")[0].innerHTML=this.$t("goto"),document.getElementsByClassName("vxe-pager--classifier-text")[0].innerHTML=this.$t("page"),t.value=parseInt(t.value)+" "+this.$t("articlePage"),e.initEvent("input",!0,!0),t.dispatchEvent(e),document.getElementsByClassName("vxe-pager--total")[0].innerHTML=this.$t("total")+" "+this.total+" "+this.$t("records")}},deep:!0,immediate:!0}}},f=a("0c7c"),y=Object(f.a)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("a-card",[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{xl:24,md:24,sm:24}},[a("a-form-model",{attrs:{layout:"inline",model:e.dataForm}},[a("a-form-model-item",{attrs:{label:e.$t("belongingChannel")}},[a("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:e.$t("pleaseSelectChannelYouBelongTo"),"option-filter-prop":"children","filter-option":e.filterOption},on:{change:e.handleChannelChange},model:{value:e.dataForm.chlId,callback:function(t){e.$set(e.dataForm,"chlId",t)},expression:"dataForm.chlId"}},e._l(e.chlList,(function(t){return a("a-select-option",{key:t.chl_id,attrs:{label:t.chl_name,value:t.chl_id}},[e._v(" "+e._s(t.chl_name)+" ")])})),1)],1),a("a-form-model-item",{attrs:{label:e.$t("ownedEquipment")}},[a("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:e.$t("pleaseSelectYourDevice"),"option-filter-prop":"children","filter-option":e.filterOption},on:{change:e.handleQuerySearch},model:{value:e.dataForm.devId,callback:function(t){e.$set(e.dataForm,"devId",t)},expression:"dataForm.devId"}},e._l(e.devList,(function(t){return a("a-select-option",{key:t.dev_id,attrs:{label:t.dev_name,value:t.dev_id}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","max-width":"577px"}},[a("span",{style:{display:"inline-block",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",minWidth:"160px"},attrs:{title:t.dev_name}},[e._v(e._s(t.dev_name))]),a("span",{staticStyle:{color:"#8492a6","font-size":"13px",display:"inline-block","margin-left":"20px","text-align":"right",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","max-width":"200px"},attrs:{title:t.dev_desc||e.$t("nay")}},[e._v(" "+e._s(t.dev_desc||e.$t("nay"))+" ")])])])})),1)],1),a("a-form-model-item",{attrs:{label:e.$t("measuringPointName")}},[a("a-input",{attrs:{placeholder:e.$t("pleaseEnterMeasuringPointName"),allowClear:""},on:{change:e.handleQuerySearch},model:{value:e.dataForm.tagname,callback:function(t){e.$set(e.dataForm,"tagname",t)},expression:"dataForm.tagname"}})],1),a("a-form-model-item",{attrs:{label:e.$t("measuringPointType")}},[a("a-select",{staticStyle:{width:"300px"},attrs:{"show-search":"",allowClear:"",placeholder:e.$t("pleaseSelectMeasuringPointType"),"option-filter-prop":"children","filter-option":e.filterOption},on:{change:e.handleQuerySearch},model:{value:e.dataForm.tagType,callback:function(t){e.$set(e.dataForm,"tagType",t)},expression:"dataForm.tagType"}},e._l(e.tagTypeList,(function(t){return a("a-select-option",{key:t.value,attrs:{label:t.name,value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),a("a-form-model-item",{attrs:{label:1==e.chlType?e.$t("forwardFunctionCode"):e.$t("collectFunctionCodes")}},[a("a-select",{staticStyle:{width:"300px"},attrs:{"show-search":"",allowClear:"",placeholder:1==e.chlType?e.$t("pleaseSelectForwardingFunctionCode"):e.$t("pleaseSelectCollectFunctionCode"),"option-filter-prop":"children","filter-option":e.filterOption},on:{change:e.handleQuerySearch},model:{value:e.dataForm.collect_type,callback:function(t){e.$set(e.dataForm,"collect_type",t)},expression:"dataForm.collect_type"}},e._l(e.collectTypeList,(function(t){return a("a-select-option",{key:t.value,attrs:{label:"US"==e.lang?t.descEng:t.desc,value:t.index}},[e._v(" "+e._s("US"==e.lang?t.descEng:t.desc)+" ")])})),1)],1),a("a-form-model-item",[a("a-space",[a("a-button",{attrs:{icon:"search"},on:{click:e.handleQuerySearch}},[e._v(e._s(e.$t("search")))]),a("a-button",{attrs:{type:"primary",icon:"upload",disabled:e.getChannelType},on:{click:e.handleDownLoadTransTableChange}},[e._v(e._s(e.$t("downloadTheForwardingPointTable")))])],1)],1)],1),a("vxe-table",{ref:"recordTable",staticStyle:{"margin-top":"10px"},attrs:{border:"",resizable:"","auto-resize":"","sync-resize":"","show-overflow":"",size:"small","checkbox-config":e.checkboxConfig,"empty-text":e.$t("noData"),data:e.dataList,"max-height":e.scrollHeight,loading:e.dataListLoading,"row-id":"tag_id","sort-config":e.sortConfig},on:{"checkbox-all":e.selectAll,"sort-change":e.sortChange,"checkbox-change":e.handleSelectedAlarmChange}},[a("vxe-column",{attrs:{type:"checkbox",width:"60",align:"center",fixed:"left",checked:!1}}),a("vxe-table-column",{attrs:{field:"tag_id",title:e.$t("measuringPointID"),"header-align":"center",align:"center",width:"160",fixed:"left",sortable:""}}),a("vxe-table-column",{attrs:{field:"tag_name",title:e.$t("measuringPointName"),"header-align":"center",align:"center",width:"210",fixed:"left","show-overflow-tooltip":!0}}),a("vxe-table-column",{attrs:{field:"tag_desc",title:e.$t("physicalModelIdentification"),"header-align":"center",align:"center",width:"400","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.tag_desc||e.$t("none")))])]}}])}),a("vxe-table-column",{attrs:{field:"tag_type",title:e.$t("measuringPointType"),"header-align":"center",align:"center",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(0===t.row.tag_type?e.$t("telemetry"):1===t.row.tag_type?e.$t("harunobu"):2===t.row.tag_type?e.$t("remotePulse"):3===t.row.tag_type?e.$t("remoteControl"):4===t.row.tag_type?e.$t("remoteControlAdjust"):"--")+" ")]}}])}),a("vxe-table-column",{attrs:{field:"tag_k",title:e.$t("coefficientK"),"header-align":"center",align:"center",width:"100",formatter:e.formatterTagk}}),a("vxe-table-column",{attrs:{field:"collect_type",title:1==e.chlType?e.$t("forwardFunctionCode"):e.$t("collectFunctionCodes"),"header-align":"center",align:"center",width:"180","show-overflow-tooltip":!0,formatter:e.formatterCollectType}}),a("vxe-table-column",{attrs:{field:"obj_addr",title:e.$t("registerAddress"),"header-align":"center",align:"center",width:"140",sortable:"","show-overflow-tooltip":!0}}),a("vxe-table-column",{attrs:{field:"tag_group",title:e.$t("group"),"header-align":"center",align:"center",width:"60"}}),a("vxe-table-column",{attrs:{field:"data_type",title:e.$t("typeOfData"),"header-align":"center",align:"center",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(0===t.row.data_type?e.$t("bit"):1===t.row.data_type?e.$t("eightBitUnsigned"):2===t.row.data_type?e.$t("eightBitSigned"):3===t.row.data_type?e.$t("sixteenBitUnsigned"):4===t.row.data_type?e.$t("sixteenBitSigned"):5===t.row.data_type?e.$t("thirtyTwoBitUnsigned"):6===t.row.data_type?e.$t("thirtyTwoBitSigned"):7===t.row.data_type?e.$t("sixteenBit"):8===t.row.data_type?e.$t("thirtyTwoBit"):9===t.row.data_type?e.$t("singlePrecissonFloatingPoint"):10===t.row.data_type?e.$t("doublePrecissonFloatingPoint"):11===t.row.data_type?e.$t("string"):12===t.row.data_type?e.$t("sixtyFourBitUnsigned"):13===t.row.data_type?e.$t("sixtyFourBitSigned"):"--")+" ")]}}])}),a("vxe-table-column",{attrs:{field:"data_format",title:e.$t("dataFormat"),"header-align":"center",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(0===t.row.data_format?"12":1===t.row.data_format?"21":2===t.row.data_format?"1234":3===t.row.data_format?"2143":4===t.row.data_format?"3412":"4321")+" ")]}}])}),a("vxe-table-column",{attrs:{field:"enable_bit",title:e.$t("bitwiseValue"),"header-align":"center",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1===t.row.enable_bit?e.$t("yes"):e.$t("nay"))+" ")]}}])}),a("vxe-table-column",{attrs:{field:"org_read_value",title:e.$t("readAndWriteProperties"),"header-align":"center",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(0===t.row.tagrwprop?e.$t("readOnly"):1===t.row.tagrwprop?e.$t("readAndWrite"):e.$t("writeOnly"))+" ")]}}])}),a("vxe-table-column",{attrs:{field:"tag_b",title:e.$t("offsetB"),"header-align":"center",align:"center",width:"80"}}),a("vxe-table-column",{attrs:{field:"start_bit",title:e.$t("startBit"),"header-align":"center",align:"center",width:"120"}}),a("vxe-table-column",{attrs:{field:"end_bit",title:e.$t("endBit"),"header-align":"center",align:"center",width:"120"}}),a("vxe-table-column",{attrs:{field:"enable_trans",title:e.$t("enableTrans"),"header-align":"center",align:"center",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1===t.row.enable_trans?e.$t("yes"):e.$t("nay"))+" ")]}}])}),a("vxe-table-column",{attrs:{field:"trans_value",title:e.$t("transValue"),"header-align":"center",align:"center",width:"120"}}),a("vxe-table-column",{attrs:{field:"rev2",title:e.$t("rev2"),"header-align":"center",align:"center",width:"120"}})],1),a("vxe-pager",{attrs:{perfect:"",size:"mini",loading:e.pagerLoading,"current-page":e.page,"page-size":e.limit,"page-sizes":[100,200,500,1e3,2e3],total:e.total,layouts:["PrevPage","JumpNumber","NextPage","FullJump","Sizes","Total"]},on:{"page-change":e.handlePageChange}})],1)],1)],1)],1)}),[],!1,null,null,null).exports;t.default=y}}]);