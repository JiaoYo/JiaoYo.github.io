const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/juhe-_rdOmOmm.js","assets/index-BTeMkgsf.js","assets/index-tSZ4Z9Lu.css"])))=>i.map(i=>d[i]);
import{d as le,b as A,o as C,e as f,a7 as Oe,W as ye,s as S,aY as Kt,a as _e,h as R,aZ as ht,c as ie,w as $,G as ge,t as z,aL as yt,i as bt,f as r,aO as se,a_ as de,a2 as Jt,_ as xt,aI as Je,at as he,aE as jt,B as wt,g as w,a$ as b,z as Xt,Z as Zt,Y as Qt,D as Ne,aR as He,b0 as ea,a1 as ta,b1 as aa,J as na,b2 as oa,b3 as ra,b4 as sa,a3 as ia,ay as la,b5 as ot,$ as ua,aN as ca,aA as da,aD as pa,aS as fa}from"./index-BTeMkgsf.js";import{i as fe,b as Le,r as Ce,a as De,f as ma}from"./isObjectLike-BXZHaRQF.js";import{_ as va,u as Tt,a as Ct,i as _a,r as ga,p as ha,b as ya,c as ba}from"./juhe-_rdOmOmm.js";import{f as Dt,a as St,b as xa,c as rt,d as ja,e as wa}from"./home-D8WEg5c0.js";import{_ as Ta,a as Ca}from"./Grid-D1GO_CFb.js";import{p as Da}from"./business-CvQFdQAH.js";import{u as Sa}from"./usePageData-BtaN_wXr.js";import{_ as Pa}from"./DatePicker-ABP-mfiZ.js";const $a={class:"loader-overlay"},Ea=le({__name:"loading",props:{color:{default:"#1890ff"}},setup(e){const t=e;return(a,s)=>(C(),A("div",$a,[f("div",{class:"loader",style:Oe({"--c":`no-repeat linear-gradient(${t.color} 0 0)`})},null,4)]))}}),Aa=ye(Ea,[["__scopeId","data-v-c4fc24aa"]]);var qe=Array.isArray;function Pt(e){return e}var ka="[object AsyncFunction]",Oa="[object Function]",Ia="[object GeneratorFunction]",La="[object Proxy]";function Xe(e){if(!fe(e))return!1;var t=Le(e);return t==Oa||t==Ia||t==ka||t==La}var Ue=Ce["__core-js_shared__"],st=function(){var e=/[^.]+$/.exec(Ue&&Ue.keys&&Ue.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function za(e){return!!st&&st in e}var Ra=Function.prototype,Fa=Ra.toString;function Ba(e){if(e!=null){try{return Fa.call(e)}catch{}try{return e+""}catch{}}return""}var Ma=/[\\^$.*+?()[\]{}|]/g,Va=/^\[object .+?Constructor\]$/,Na=Function.prototype,Ha=Object.prototype,Ua=Na.toString,Wa=Ha.hasOwnProperty,qa=RegExp("^"+Ua.call(Wa).replace(Ma,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ga(e){if(!fe(e)||za(e))return!1;var t=Xe(e)?qa:Va;return t.test(Ba(e))}function Ya(e,t){return e==null?void 0:e[t]}function Ze(e,t){var a=Ya(e,t);return Ga(a)?a:void 0}var it=Object.create,Ka=function(){function e(){}return function(t){if(!fe(t))return{};if(it)return it(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();function Ja(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function Xa(e,t){var a=-1,s=e.length;for(t||(t=Array(s));++a<s;)t[a]=e[a];return t}var Za=800,Qa=16,en=Date.now;function tn(e){var t=0,a=0;return function(){var s=en(),l=Qa-(s-a);if(a=s,l>0){if(++t>=Za)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function an(e){return function(){return e}}var Ie=function(){try{var e=Ze(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nn=Ie?function(e,t){return Ie(e,"toString",{configurable:!0,enumerable:!1,value:an(t),writable:!0})}:Pt,on=tn(nn),rn=9007199254740991,sn=/^(?:0|[1-9]\d*)$/;function $t(e,t){var a=typeof e;return t=t??rn,!!t&&(a=="number"||a!="symbol"&&sn.test(e))&&e>-1&&e%1==0&&e<t}function Qe(e,t,a){t=="__proto__"&&Ie?Ie(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function ze(e,t){return e===t||e!==e&&t!==t}var ln=Object.prototype,un=ln.hasOwnProperty;function cn(e,t,a){var s=e[t];(!(un.call(e,t)&&ze(s,a))||a===void 0&&!(t in e))&&Qe(e,t,a)}function dn(e,t,a,s){var l=!a;a||(a={});for(var u=-1,i=t.length;++u<i;){var c=t[u],p=void 0;p===void 0&&(p=e[c]),l?Qe(a,c,p):cn(a,c,p)}return a}var lt=Math.max;function pn(e,t,a){return t=lt(t===void 0?e.length-1:t,0),function(){for(var s=arguments,l=-1,u=lt(s.length-t,0),i=Array(u);++l<u;)i[l]=s[t+l];l=-1;for(var c=Array(t+1);++l<t;)c[l]=s[l];return c[t]=a(i),Ja(e,this,c)}}function fn(e,t){return on(pn(e,t,Pt),e+"")}var mn=9007199254740991;function Et(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=mn}function et(e){return e!=null&&Et(e.length)&&!Xe(e)}function vn(e,t,a){if(!fe(a))return!1;var s=typeof t;return(s=="number"?et(a)&&$t(t,a.length):s=="string"&&t in a)?ze(a[t],e):!1}function _n(e){return fn(function(t,a){var s=-1,l=a.length,u=l>1?a[l-1]:void 0,i=l>2?a[2]:void 0;for(u=e.length>3&&typeof u=="function"?(l--,u):void 0,i&&vn(a[0],a[1],i)&&(u=l<3?void 0:u,l=1),t=Object(t);++s<l;){var c=a[s];c&&e(t,c,s,u)}return t})}var gn=Object.prototype;function At(e){var t=e&&e.constructor,a=typeof t=="function"&&t.prototype||gn;return e===a}function hn(e,t){for(var a=-1,s=Array(e);++a<e;)s[a]=t(a);return s}var yn="[object Arguments]";function ut(e){return De(e)&&Le(e)==yn}var kt=Object.prototype,bn=kt.hasOwnProperty,xn=kt.propertyIsEnumerable,Ge=ut(function(){return arguments}())?ut:function(e){return De(e)&&bn.call(e,"callee")&&!xn.call(e,"callee")};function jn(){return!1}var Ot=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ct=Ot&&typeof module=="object"&&module&&!module.nodeType&&module,wn=ct&&ct.exports===Ot,dt=wn?Ce.Buffer:void 0,Tn=dt?dt.isBuffer:void 0,It=Tn||jn,Cn="[object Arguments]",Dn="[object Array]",Sn="[object Boolean]",Pn="[object Date]",$n="[object Error]",En="[object Function]",An="[object Map]",kn="[object Number]",On="[object Object]",In="[object RegExp]",Ln="[object Set]",zn="[object String]",Rn="[object WeakMap]",Fn="[object ArrayBuffer]",Bn="[object DataView]",Mn="[object Float32Array]",Vn="[object Float64Array]",Nn="[object Int8Array]",Hn="[object Int16Array]",Un="[object Int32Array]",Wn="[object Uint8Array]",qn="[object Uint8ClampedArray]",Gn="[object Uint16Array]",Yn="[object Uint32Array]",E={};E[Mn]=E[Vn]=E[Nn]=E[Hn]=E[Un]=E[Wn]=E[qn]=E[Gn]=E[Yn]=!0;E[Cn]=E[Dn]=E[Fn]=E[Sn]=E[Bn]=E[Pn]=E[$n]=E[En]=E[An]=E[kn]=E[On]=E[In]=E[Ln]=E[zn]=E[Rn]=!1;function Kn(e){return De(e)&&Et(e.length)&&!!E[Le(e)]}function Jn(e){return function(t){return e(t)}}var Lt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,we=Lt&&typeof module=="object"&&module&&!module.nodeType&&module,Xn=we&&we.exports===Lt,We=Xn&&ma.process,pt=function(){try{var e=we&&we.require&&we.require("util").types;return e||We&&We.binding&&We.binding("util")}catch{}}(),ft=pt&&pt.isTypedArray,zt=ft?Jn(ft):Kn;function Zn(e,t){var a=qe(e),s=!a&&Ge(e),l=!a&&!s&&It(e),u=!a&&!s&&!l&&zt(e),i=a||s||l||u,c=i?hn(e.length,String):[],p=c.length;for(var v in e)i&&(v=="length"||l&&(v=="offset"||v=="parent")||u&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||$t(v,p))||c.push(v);return c}function Qn(e,t){return function(a){return e(t(a))}}function eo(e){var t=[];if(e!=null)for(var a in Object(e))t.push(a);return t}var to=Object.prototype,ao=to.hasOwnProperty;function no(e){if(!fe(e))return eo(e);var t=At(e),a=[];for(var s in e)s=="constructor"&&(t||!ao.call(e,s))||a.push(s);return a}function Rt(e){return et(e)?Zn(e):no(e)}var Te=Ze(Object,"create");function oo(){this.__data__=Te?Te(null):{},this.size=0}function ro(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var so="__lodash_hash_undefined__",io=Object.prototype,lo=io.hasOwnProperty;function uo(e){var t=this.__data__;if(Te){var a=t[e];return a===so?void 0:a}return lo.call(t,e)?t[e]:void 0}var co=Object.prototype,po=co.hasOwnProperty;function fo(e){var t=this.__data__;return Te?t[e]!==void 0:po.call(t,e)}var mo="__lodash_hash_undefined__";function vo(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=Te&&t===void 0?mo:t,this}function pe(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}pe.prototype.clear=oo;pe.prototype.delete=ro;pe.prototype.get=uo;pe.prototype.has=fo;pe.prototype.set=vo;function _o(){this.__data__=[],this.size=0}function Re(e,t){for(var a=e.length;a--;)if(ze(e[a][0],t))return a;return-1}var go=Array.prototype,ho=go.splice;function yo(e){var t=this.__data__,a=Re(t,e);if(a<0)return!1;var s=t.length-1;return a==s?t.pop():ho.call(t,a,1),--this.size,!0}function bo(e){var t=this.__data__,a=Re(t,e);return a<0?void 0:t[a][1]}function xo(e){return Re(this.__data__,e)>-1}function jo(e,t){var a=this.__data__,s=Re(a,e);return s<0?(++this.size,a.push([e,t])):a[s][1]=t,this}function Q(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}Q.prototype.clear=_o;Q.prototype.delete=yo;Q.prototype.get=bo;Q.prototype.has=xo;Q.prototype.set=jo;var Ft=Ze(Ce,"Map");function wo(){this.size=0,this.__data__={hash:new pe,map:new(Ft||Q),string:new pe}}function To(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Fe(e,t){var a=e.__data__;return To(t)?a[typeof t=="string"?"string":"hash"]:a.map}function Co(e){var t=Fe(this,e).delete(e);return this.size-=t?1:0,t}function Do(e){return Fe(this,e).get(e)}function So(e){return Fe(this,e).has(e)}function Po(e,t){var a=Fe(this,e),s=a.size;return a.set(e,t),this.size+=a.size==s?0:1,this}function be(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}be.prototype.clear=wo;be.prototype.delete=Co;be.prototype.get=Do;be.prototype.has=So;be.prototype.set=Po;var Bt=Qn(Object.getPrototypeOf,Object),$o="[object Object]",Eo=Function.prototype,Ao=Object.prototype,Mt=Eo.toString,ko=Ao.hasOwnProperty,Oo=Mt.call(Object);function Io(e){if(!De(e)||Le(e)!=$o)return!1;var t=Bt(e);if(t===null)return!0;var a=ko.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&Mt.call(a)==Oo}function Lo(){this.__data__=new Q,this.size=0}function zo(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}function Ro(e){return this.__data__.get(e)}function Fo(e){return this.__data__.has(e)}var Bo=200;function Mo(e,t){var a=this.__data__;if(a instanceof Q){var s=a.__data__;if(!Ft||s.length<Bo-1)return s.push([e,t]),this.size=++a.size,this;a=this.__data__=new be(s)}return a.set(e,t),this.size=a.size,this}function xe(e){var t=this.__data__=new Q(e);this.size=t.size}xe.prototype.clear=Lo;xe.prototype.delete=zo;xe.prototype.get=Ro;xe.prototype.has=Fo;xe.prototype.set=Mo;var Vt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,mt=Vt&&typeof module=="object"&&module&&!module.nodeType&&module,Vo=mt&&mt.exports===Vt,vt=Vo?Ce.Buffer:void 0;vt&&vt.allocUnsafe;function No(e,t){return e.slice()}var _t=Ce.Uint8Array;function Ho(e){var t=new e.constructor(e.byteLength);return new _t(t).set(new _t(e)),t}function Uo(e,t){var a=Ho(e.buffer);return new e.constructor(a,e.byteOffset,e.length)}function Wo(e){return typeof e.constructor=="function"&&!At(e)?Ka(Bt(e)):{}}function qo(e){return function(t,a,s){for(var l=-1,u=Object(t),i=s(t),c=i.length;c--;){var p=i[++l];if(a(u[p],p,u)===!1)break}return t}}var Go=qo();function Ye(e,t,a){(a!==void 0&&!ze(e[t],a)||a===void 0&&!(t in e))&&Qe(e,t,a)}function Yo(e){return De(e)&&et(e)}function Ke(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Ko(e){return dn(e,Rt(e))}function Jo(e,t,a,s,l,u,i){var c=Ke(e,a),p=Ke(t,a),v=i.get(p);if(v){Ye(e,a,v);return}var D=u?u(c,p,a+"",e,t,i):void 0,_=D===void 0;if(_){var x=qe(p),G=!x&&It(p),Y=!x&&!G&&zt(p);D=p,x||G||Y?qe(c)?D=c:Yo(c)?D=Xa(c):G?(_=!1,D=No(p)):Y?(_=!1,D=Uo(p)):D=[]:Io(p)||Ge(p)?(D=c,Ge(c)?D=Ko(c):(!fe(c)||Xe(c))&&(D=Wo(p))):_=!1}_&&(i.set(p,D),l(D,p,s,u,i),i.delete(p)),Ye(e,a,D)}function Nt(e,t,a,s,l){e!==t&&Go(t,function(u,i){if(l||(l=new xe),fe(u))Jo(e,t,i,a,Nt,s,l);else{var c=s?s(Ke(e,i),u,i+"",e,t,l):void 0;c===void 0&&(c=u),Ye(e,i,c)}},Rt)}var Xo=_n(function(e,t,a){Nt(e,t,a)});const Zo=["width","height"],Qo=["fill","stroke","d"],er=["stroke"],tr=["stroke","d"],ar={class:"dv-border-box-content"},nr=le({__name:"border-box-13",props:{color:{type:Array,default:()=>[]},backgroundColor:{type:String,default:"transparent"}},setup(e){const t=e,a=["#6586ec","#2cf7fe"],s=S(null),{width:l,height:u}=Kt(s,{width:0,height:0},{box:"border-box"}),i=_e(()=>Xo(a,t.color));return(c,p)=>(C(),A("div",{class:"dv-border-box-13 dv-border-box",ref_key:"domRef",ref:s},[(C(),A("svg",{width:R(l),height:R(u),class:"dv-border-svg-container"},[f("path",{fill:e.backgroundColor,stroke:i.value[0],d:`
            M 5 20 L 5 10 L 12 3  L 60 3 L 68 10
            L ${R(l)-20} 10 L ${R(l)-5} 25
            L ${R(l)-5} ${R(u)-5} L 20 ${R(u)-5}
            L 5 ${R(u)-20} L 5 20
        `},null,8,Qo),f("path",{fill:"transparent","stroke-width":"3","stroke-linecap":"round","stroke-dasharray":"10, 5",stroke:i.value[0],d:"M 16 9 L 61 9"},null,8,er),p[0]||(p[0]=f("path",{fill:"transparent",stroke:"{mergedColor[1]}",d:"M 5 20 L 5 10 L 12 3  L 60 3 L 68 10"},null,-1)),f("path",{fill:"transparent",stroke:i.value[1],d:`M ${R(l)-5} ${R(u)-30} L ${R(l)-5} ${R(u)-5} L ${R(l)-30} ${R(u)-5}`},null,8,tr)],8,Zo)),f("div",ar,[ht(c.$slots,"default",{},void 0,!0)])],512))}}),or=ye(nr,[["__scopeId","data-v-4ea05f61"]]),rr={class:"title-inner"},sr=le({__name:"item-wrap",props:{title:{default:""},justifypos:{default:""}},setup(e){const t=e;return(a,s)=>{const l=or;return C(),ie(l,null,{default:$(()=>[a.title!==""?(C(),A("div",{key:0,class:"item_title",style:Oe({justifyContent:t.justifypos=="start"?"start":"center"})},[s[0]||(s[0]=f("div",{class:"zuo"},null,-1)),f("span",rr," Â Â "+z(a.title)+"Â Â  ",1),s[1]||(s[1]=f("div",{class:"you"},null,-1))],4)):ge("",!0),f("div",{class:yt(a.title!==""?"item_title_content":"item_title_content_def")},[ht(a.$slots,"default",{},void 0,!0)],2)]),_:3})}}}),ir=ye(sr,[["__scopeId","data-v-31760178"]]),lr={class:"item"},ur={class:"flex items-center"},cr={class:"text-16px",style:{"font-weight":"bold"}},dr=le({name:"CardData",__name:"card-data",setup(e){const t=S([{key:"project",title:"é¡¹ç›®æ€»æ•°",value:0,icon:"xiangmu"},{key:"contract",title:"åˆåŒæ€»æ•°",value:0,icon:"hetong"},{key:"debug",title:"è°ƒè¯•æ€»æ•°",value:0,icon:"tiaoshi"}]),a=async()=>{const{data:l,error:u}=await Dt();u||(t.value[0].value=l.project.projects,t.value[1].value=l.project.contracts)},s=async()=>{const{data:l,error:u}=await St();u||(t.value[2].value=l.debugs)};return bt(()=>{a(),s()}),(l,u)=>{const i=xt,c=va,p=Ca,v=Ta,D=Jt;return C(),ie(D,{bordered:!1,size:"small",class:"card-wrapper","content-style":{padding:"0px 0px",backgroundColor:"transparent"}},{default:$(()=>[r(v,{cols:"1 s:1 m:1 l:1 xl:3",responsive:"screen",class:"gridCss"},{default:$(()=>[(C(!0),A(se,null,de(t.value,(_,x)=>(C(),ie(p,{key:_.key},{default:$(()=>[f("div",lr,[f("div",ur,[r(i,{"local-icon":_.icon,class:"font-size-28px mr-5px",style:Oe({color:x==0?"#00ff85":x==1?"#00eaff":"#ffdd00"})},null,8,["local-icon","style"]),f("h3",cr,z(_.title),1)]),r(c,{"start-value":1,"end-value":_.value,style:Oe([{color:x==0?"#00ff85":x==1?"#00eaff":"#ffdd00"},{"font-family":"dsdigits","font-weight":"bolder"}]),class:"text-28px dark:text-dark text-center"},null,8,["end-value","style"])])]),_:2},1024))),128))]),_:1})]),_:1})}}}),pr=ye(dr,[["__scopeId","data-v-8ddb1839"]]),gt=le({name:"SimplePieChart",__name:"pie-chart",props:{data:{},name:{}},setup(e){const t=e,a=Je(),{domRef:s,updateOptions:l}=Tt(()=>({tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},title:{text:"",top:"45%",textAlign:"center",left:"65%",textStyle:{fontSize:16,fontWeight:500}},legend:{orient:"vertical",left:"5%",top:"center",icon:"circle",itemWidth:10,itemHeight:10,formatter:function(i){const c=t.data.find(p=>p.name===i);return c?`${i} {valueStyle|${c.value||0}ä¸ª}`:i},textStyle:{rich:{valueStyle:{color:"#1890ff",fontWeight:"bold",fontSize:14}},fontSize:14}},series:[{type:"pie",radius:["75","85"],center:["65%","50%"],avoidLabelOverlap:!0,hideOverlap:!0,label:{show:!0,position:"inside",formatter:"{c}ä¸ª",fontSize:16},labelLine:{show:!0},data:[]}]}));function u(){l(i=>{const c=t.data||[],p=c.reduce((v,D)=>v+(D.value||0),0);return i.title.text=`${t.name??""}${p}`,i.series[0].data=c.map(v=>({name:v.name,value:v.value,itemStyle:{color:v.color,borderWidth:3,borderColor:v.color,shadowBlur:15,shadowColor:v.color}})),i.legend.data=c.map(v=>v.name),i})}return he(()=>t.data,u,{deep:!0}),he(()=>t.name,u),he(()=>a.locale,u),u(),(i,c)=>(C(),A("div",{ref_key:"domRef",ref:s,class:"h-260px w-full overflow-hidden"},null,512))}}),fr=le({name:"PieChart",__name:"pie-chart1",props:{data:{},name:{}},setup(e){const t=e,a=Je(),s=["#fb923c","#94d82d","#9ca3af"],l=["#ef4444","#22c55e"],{domRef:u,updateOptions:i}=Tt(()=>({tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},title:{text:"",top:"45%",textAlign:"center",left:"65%",textStyle:{fontSize:16,fontWeight:500}},legend:[{data:["ç°åœºè°ƒè¯•","è¿œç¨‹è°ƒè¯•","æ— éœ€è°ƒè¯•"],orient:"vertical",left:"5%",top:"25%",icon:"circle",itemWidth:10,itemHeight:10,formatter:function(v){const _=c.value.series[0].data.find(x=>x.name===v);return _?`${v} {valueStyle|${_.value||0}ä¸ª}`:v},textStyle:{rich:{valueStyle:{color:"#1890ff",fontWeight:"bold",fontSize:14}},fontSize:14}},{data:["å·²å»¶æœŸ","æ­£å¸¸"],orient:"vertical",left:"5%",top:"55%",icon:"circle",itemWidth:10,itemHeight:10,formatter:function(v){const _=c.value.series[1].data.find(x=>x.name===v);return _?`${v} {valueStyle|${_.value||0}ä¸ª}`:v},textStyle:{rich:{valueStyle:{color:"#1890ff",fontWeight:"bold",fontSize:14}},fontSize:14}}],series:[{color:s,type:"pie",radius:[75,85],center:["65%","50%"],avoidLabelOverlap:!0,label:{show:!0,position:"inside",formatter:"{c}ä¸ª",fontSize:14},labelLine:{show:!1},data:[]},{color:l,type:"pie",radius:[50,60],center:["65%","50%"],avoidLabelOverlap:!0,label:{show:!0,position:"inside",formatter:"{c}ä¸ª",fontSize:14},labelLine:{show:!1},data:[]}]})),c=S({});function p(){i(v=>{var Y;const D=((Y=t.data)==null?void 0:Y.project)||{};v.title.text=`${t.name}${D.projects??""}`;const _=["ç°åœºè°ƒè¯•","è¿œç¨‹è°ƒè¯•","æ— éœ€è°ƒè¯•"];v.series[0].data=_.map((B,O)=>({name:B,value:D[`proDtype${O}`]||0,itemStyle:{borderWidth:5,shadowBlur:20,borderColor:s[O],shadowColor:s[O]}}));const x=["å·²å»¶æœŸ","æ­£å¸¸"],G=["proPtype1","proPtype0"];return v.series[1].data=x.map((B,O)=>({name:B,value:D[G[O]]||0,itemStyle:{borderWidth:5,shadowBlur:20,borderColor:l[O],shadowColor:l[O]}})),c.value=v,v})}return he(()=>t.data,p,{deep:!0}),he(()=>a.locale,p),p(),(v,D)=>(C(),A("div",{ref_key:"domRef",ref:u,class:"h-260px overflow-hidden"},null,512))}}),mr={class:"map-container"},vr={class:"toolbar"},_r={key:1},gr=le({__name:"trajectory_chart",props:{projectDistributionData:{},data:{},dates:{}},setup(e,{expose:t}){let a=e;const s=S("china"),l=S([]),u=S(null);let i=null;const c=S(),p=S("both"),v={åŒ—äº¬:"beijing",å¤©æ´¥:"tianjin",ä¸Šæµ·:"shanghai",é‡åº†:"chongqing",æ²³åŒ—:"hebei",å±±è¥¿:"shanxi",å†…è’™å¤:"neimenggu",è¾½å®:"liaoning",å‰æ—:"jilin",é»‘é¾™æ±Ÿ:"heilongjiang",æ±Ÿè‹:"jiangsu",æµ™æ±Ÿ:"zhejiang",å®‰å¾½:"anhui",ç¦å»º:"fujian",æ±Ÿè¥¿:"jiangxi",å±±ä¸œ:"shandong",æ²³å—:"henan",æ¹–åŒ—:"hubei",æ¹–å—:"hunan",å¹¿ä¸œ:"guangdong",å¹¿è¥¿:"guangxi",æµ·å—:"hainan",å››å·:"sichuan",è´µå·:"guizhou",äº‘å—:"yunnan",è¥¿è—:"xizang",é™•è¥¿:"shanxi1",ç”˜è‚ƒ:"gansu",é’æµ·:"qinghai",å®å¤:"ningxia",æ–°ç–†:"xinjiang",é¦™æ¸¯:"hongkong",æ¾³é—¨:"macau",å°æ¹¾:"taiwan"};function D(m){return{åŒ—äº¬:[116.4074,39.9042],å¤©æ´¥:[117.2,39.1333],æ²³åŒ—:[114.5025,38.0455],å±±è¥¿:[112.549,37.857],å†…è’™å¤:[111.6708,40.8183],è¾½å®:[123.4291,41.7968],å‰æ—:[125.3245,43.8868],é»‘é¾™æ±Ÿ:[126.6424,45.756],ä¸Šæµ·:[121.4737,31.2304],æ±Ÿè‹:[118.7674,32.0415],æµ™æ±Ÿ:[120.1536,30.2875],å®‰å¾½:[117.283,31.8612],ç¦å»º:[119.3062,26.0753],æ±Ÿè¥¿:[115.8922,28.6765],å±±ä¸œ:[117.0009,36.6758],æ²³å—:[113.6654,34.757],æ¹–åŒ—:[114.2986,30.5844],æ¹–å—:[112.9823,28.1941],å¹¿ä¸œ:[113.2806,23.1252],å¹¿è¥¿:[108.32,22.824],æµ·å—:[110.3312,20.031],é‡åº†:[106.504,29.533],å››å·:[104.0657,30.6595],è´µå·:[106.7135,26.5783],äº‘å—:[102.7123,25.0406],è¥¿è—:[91.1175,29.6469],é™•è¥¿:[108.948,34.2632],ç”˜è‚ƒ:[103.8233,36.0586],é’æµ·:[101.7789,36.6232],å®å¤:[106.2782,38.4663],æ–°ç–†:[87.6177,43.7928],å°æ¹¾:[121.5091,25.044],é¦™æ¸¯:[114.1734,22.3206],æ¾³é—¨:[113.5491,22.1987]}[m]||null}function _(m){const d=ba.find(j=>j.city===m);return d?[d.lng,d.lat]:null}async function x(){u.value&&(i=_a(u.value),await me("china"),window.addEventListener("resize",()=>i==null?void 0:i.resize()))}async function G(m){try{return(await ya(Object.assign({"../../../assets/map/anhui.json":()=>b(()=>import("./anhui-itXsmiYb.js"),[]),"../../../assets/map/aomen.json":()=>b(()=>import("./aomen-CvhUKNbQ.js"),[]),"../../../assets/map/beijing.json":()=>b(()=>import("./beijing-BY449fIP.js"),[]),"../../../assets/map/china.json":()=>b(()=>import("./china-VoTTtmff.js"),[]),"../../../assets/map/chongqing.json":()=>b(()=>import("./chongqing-CQxENMLR.js"),[]),"../../../assets/map/city.json":()=>b(()=>import("./juhe-_rdOmOmm.js").then(j=>j.d),__vite__mapDeps([0,1,2])),"../../../assets/map/fujian.json":()=>b(()=>import("./fujian-DMjqeJN6.js"),[]),"../../../assets/map/gansu.json":()=>b(()=>import("./gansu-CRFNUfIK.js"),[]),"../../../assets/map/guangdong.json":()=>b(()=>import("./guangdong-DrCxObPG.js"),[]),"../../../assets/map/guangxi.json":()=>b(()=>import("./guangxi-BpEUbHdK.js"),[]),"../../../assets/map/guizhou.json":()=>b(()=>import("./guizhou-BY1JCp8Q.js"),[]),"../../../assets/map/hainan.json":()=>b(()=>import("./hainan-D2Sf7JTA.js"),[]),"../../../assets/map/hebei.json":()=>b(()=>import("./hebei-DTrnS0O1.js"),[]),"../../../assets/map/heilongjiang.json":()=>b(()=>import("./heilongjiang-DAACJd-E.js"),[]),"../../../assets/map/henan.json":()=>b(()=>import("./henan-DIkIePKJ.js"),[]),"../../../assets/map/hubei.json":()=>b(()=>import("./hubei-Bwnp1LoM.js"),[]),"../../../assets/map/hunan.json":()=>b(()=>import("./hunan-JCtVINy3.js"),[]),"../../../assets/map/jiangsu.json":()=>b(()=>import("./jiangsu-CLS7jcCc.js"),[]),"../../../assets/map/jiangxi.json":()=>b(()=>import("./jiangxi-CNAW8yFe.js"),[]),"../../../assets/map/jilin.json":()=>b(()=>import("./jilin-Bi5EpTmL.js"),[]),"../../../assets/map/liaoning.json":()=>b(()=>import("./liaoning-Do0e7YUX.js"),[]),"../../../assets/map/neimenggu.json":()=>b(()=>import("./neimenggu-CFQ1EPad.js"),[]),"../../../assets/map/ningxia.json":()=>b(()=>import("./ningxia-Bd5m21w_.js"),[]),"../../../assets/map/qinghai.json":()=>b(()=>import("./qinghai-DZmk70v-.js"),[]),"../../../assets/map/shandong.json":()=>b(()=>import("./shandong-CSwMvLbR.js"),[]),"../../../assets/map/shanghai.json":()=>b(()=>import("./shanghai-Dcy8PZ0o.js"),[]),"../../../assets/map/shanxi.json":()=>b(()=>import("./shanxi-6IIkp01T.js"),[]),"../../../assets/map/shanxi1.json":()=>b(()=>import("./shanxi1-CYyZbQBJ.js"),[]),"../../../assets/map/sichuan.json":()=>b(()=>import("./sichuan-DbWrPnDk.js"),[]),"../../../assets/map/taiwan.json":()=>b(()=>import("./taiwan-5IN91H0y.js"),[]),"../../../assets/map/tianjin.json":()=>b(()=>import("./tianjin-DmXrewkB.js"),[]),"../../../assets/map/xianggang.json":()=>b(()=>import("./xianggang-CCDY8cPS.js"),[]),"../../../assets/map/xinjiang.json":()=>b(()=>import("./xinjiang-CTJGzQIj.js"),[]),"../../../assets/map/xizang.json":()=>b(()=>import("./xizang-DdTsLb_A.js"),[]),"../../../assets/map/yunnan.json":()=>b(()=>import("./yunnan-CVzIswEy.js"),[]),"../../../assets/map/zhejiang.json":()=>b(()=>import("./zhejiang-1lSaxhlD.js"),[])}),`../../../assets/map/${m}.json`,6)).default}catch{return console.warn("åœ°å›¾ä¸å­˜åœ¨ï¼š",m),null}}function Y(m){const d=m.features.flatMap(T=>T.geometry.coordinates.flat(2)),j=d.filter((T,I)=>I%2===0),h=d.filter((T,I)=>I%2===1);return[(Math.min(...j)+Math.max(...j))/2,(Math.min(...h)+Math.max(...h))/2]}const B=new Map,O=S({contractname:"",proname:"",dispatch:"",debugname:"",dbdbtime:""}),Se=async(m,d)=>{for(const j of m){const h=j.creater;if(!B.has(h)){const{data:T}=await rt({pid:j.pid>0?j.pid:void 0,creater:j.creater});B.set(h,T)}}i==null||i.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:d})},Be=async m=>{const{data:d}=await rt({pid:m.pid>0?m.pid:void 0,creater:m.creater});O.value=d,B.set(m.creater,d),i==null||i.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:m._index})};function Pe(m){if(!m||!m.length)return[];const d=[],j=.01,h=new Set;for(let T=0;T<m.length;T++){if(h.has(T))continue;const I=m[T],N=[I];for(let L=T+1;L<m.length;L++){if(h.has(L))continue;const J=m[L],te=Math.abs(I.longitude-J.longitude),ae=Math.abs(I.latitude-J.latitude);te<j&&ae<j&&(N.push(J),h.add(L))}if(h.add(T),N.length===1)d.push({...I,value:[I.longitude,I.latitude],isCluster:!1,name:I.username||"æœªçŸ¥",_index:d.length});else{const L=N.map(q=>q.username||"æœªçŸ¥"),J=L.length>3?`${L.slice(0,3).join(", ")} ç­‰${L.length}äºº`:L.join(", "),te=N.reduce((q,ne)=>q+ne.longitude,0)/N.length,ae=N.reduce((q,ne)=>q+ne.latitude,0)/N.length;d.push({name:J,value:[te,ae],isCluster:!0,clusterData:N,_index:d.length})}}return d}const ue=()=>{var j;const m=(j=c.value)==null?void 0:j.map(h=>{const T=h.coord||D(h.name);return!T||!h.counts||h.counts<=0?null:{name:h.name,value:[...T,h.counts],counts:h.counts}}).filter(Boolean),d=Pe(a.data);return{countData:p.value==="count"||p.value==="both"?m:[],positionData:p.value==="position"||p.value==="both"?d:[]}};async function me(m){var Ee;const d=await G(m);if(!d)return;ga(m,d);const j=(Ee=c.value)==null?void 0:Ee.map(y=>{const P=y.coord||D(y.name);return!P||!y.counts||y.counts<=0?null:{name:y.name,value:[...P,y.counts],counts:y.counts}}).filter(Boolean);Y(d);const h=j==null?void 0:j.filter(y=>y.counts>0),T=Math.max(...h.map(y=>y.counts),1),I=Math.min(...h.map(y=>y.counts),0),N=45,L=25,J=y=>{if(T===I)return L;const P=(N-L)/(T-I),U=L-P*I;return Math.max(P*y+U,L)},{countData:te,positionData:ae}=ue(),q={tooltip:{trigger:"item",backgroundColor:"transparent",borderWidth:0,extraCssText:"box-shadow:none; padding:0;",formatter:y=>{var U,X,Z,ce,k;if(!y.data)return"";const P=y.data;if(P.isCluster){Se(P.clusterData,P._index);let M=`<div style="
          min-width: 260px;
          font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
          font-size: 13px;
          color: #333;
          line-height: 1.6;
          background: #fff;
          border-radius: 10px;
          padding: 12px 14px 10px;
          box-shadow: 0 4px 14px rgba(0,0,0,0.15);
          border: 1px solid #f0f0f0;
        ">`;return P.clusterData.forEach(K=>{const W=B.get(K.creater);M+=`
            <div style="display:flex;margin-bottom:10px;">
              <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; margin-right:20px; width:50px;">
                <img src="${K.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png"}"
                    style="width:36px; height:36px; border-radius:50%;" />
                <div style="font-size:14px; font-weight:600; color:#1890ff; text-align:center; margin-top:4px;">
                  ${K.username||"æœªçŸ¥"}
                </div>
              </div>
              <div style="flex:1">
                <div style="font-size:14px;color:#333;"><b>æ‰“å¡æ—¶é—´ï¼š</b><span style="color:#1890ff;">${K.dbtime||"-"}</span></div>
                <div style="font-size:14px;color:#333;"><b>æ‰“å¡åœ°å€ï¼š</b><span style="color:#1890ff;">${K.address||"-"}</span></div>
                ${W?`
                    <div style="margin-top:4px;font-size:14px;">
                      <div style="color:#333;"><b>é¡¹ç›®åç§°ï¼š</b><span style="color:#1890ff;">${W.proname||"-"}</span></div>
                      <div style="color:#333;"><b>åˆåŒåç§°ï¼š</b><span style="color:#1890ff;">${W.contractname||"-"}</span></div>
                      <div style="color:#333;"><b>ä»»åŠ¡åç§°ï¼š</b><span style="color:#1890ff;">${W.debugname||"-"}</span></div>
                    </div>`:'<div style="color:#999;"></div>'}
              </div>
            </div>
            <hr style="border:0;border-top:1px dashed #e8e8e8;margin:6px 0;" />
          `}),M+="</div>",M}else{const M=P.creater;B.has(M)?O.value=B.get(M):(O.value={contractname:"",proname:"",dispatch:"",debugname:"",dbdbtime:""},Be(P));const K=O.value&&Object.values(O.value).some(Ae=>Ae);let W=`<div style="
          min-width: 260px;
          font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
          font-size: 14px;
          color: #333;
          line-height: 1.6;
          background: #fff;
          border-radius: 10px;
          padding: 12px 14px 10px;
          box-shadow: 0 4px 14px rgba(0,0,0,0.15);
          border: 1px solid #f0f0f0;
        ">
          <div style="display: flex; align-items: center; margin-bottom: 8px;">
            <img src="${P.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png"}" style="width:38px;height:38px;border-radius:50%;object-fit:cover;margin-right:10px;box-shadow:0 1px 4px rgba(0,0,0,0.15);" />
            <div>
              <div style="font-weight:bold;font-size:15px;color:#1890ff;">${P.username||"æœªçŸ¥äººå‘˜"}</div>
              <div style="font-size:12px;color:#999;">è°ƒè¯•äººå‘˜</div>
            </div>
          </div>
          <div style="border-top:1px dashed #e8e8e8;margin:6px 0;"></div>
          <div><b>æ‰“å¡æ—¶é—´ï¼š</b><span style="color:#1890ff;">${P.dbtime||"-"}</span></div>
          <div><b>åœ°å€ï¼š</b><span style="color:#1890ff;">${P.address||"-"}</span></div>`;return K?W+=`
            <div style="margin-top: 6px; font-weight: 500; color: #666;">é¡¹ç›®ä¿¡æ¯</div>
            <div><b>é¡¹ç›®åç§°ï¼š</b><span style="color:#1890ff;">${((U=O.value)==null?void 0:U.proname)||"-"}</span></div>
            <div><b>åˆåŒåç§°ï¼š</b><span style="color:#1890ff;">${((X=O.value)==null?void 0:X.contractname)||"-"}</span></div>
            <div><b>è°ƒåº¦åç§°ï¼š</b><span style="color:#1890ff;">${((Z=O.value)==null?void 0:Z.dispatch)||"-"}</span></div>
            <div><b>è°ƒè¯•ä»»åŠ¡ï¼š</b><span style="color:#1890ff;">${((ce=O.value)==null?void 0:ce.debugname)||"-"}</span></div>
            <div><b>å¼€å§‹æ—¶é—´ï¼š</b><span style="color:#1890ff;">${((k=O.value)==null?void 0:k.dbdbtime)||"-"}</span></div>
          `:W+=`<div><b>é¡¹ç›®åç§°ï¼š</b><span style="color:#1890ff;">${P.proname||"-"}</span></div>`,W+="</div>",W}}},geo:{map:m,roam:!0,zoom:1.2,scaleLimit:{min:1,max:15},center:null,label:{show:!0,color:"#fff",fontSize:12},itemStyle:{areaColor:"#13244a",borderColor:"#487eb0"},emphasis:{itemStyle:{areaColor:"#1e90ff"},label:{show:!0,color:"#fff"}}},series:[{type:"scatter",name:"æ•°é‡ç‚¹",coordinateSystem:"geo",symbol:`image://${ha}`,zlevel:2,symbolSize:y=>J(y[2]),label:{show:!0,formatter:y=>y.value[2],color:"#fff",fontSize:10,fontWeight:"bold",textShadowColor:"rgba(0,0,0,0.45)",textShadowBlur:4,textShadowOffsetX:1,textShadowOffsetY:1},tooltip:{backgroundColor:"rgba(0,0,0,0.75)",borderWidth:0,extraCssText:"border-radius:8px; padding:8px 12px;",formatter:y=>{const P=y.data.counts||0;return`
              <div style="font-size:13px; line-height:1.6; color:#fff;">
                <div style="font-weight:600; margin-bottom:4px;">${y.data.name||""}</div>
                <div>
                  é¡¹ç›®æ•°é‡ï¼š
                  <span style="color:#FFD700; font-weight:600;">${P}</span>
                </div>
              </div>
            `}},itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#6fa8ff"},{offset:1,color:"#4169e1"}]},shadowColor:"rgba(65,105,225,0.45)",shadowBlur:12,shadowOffsetY:4},emphasis:{scale:!0,itemStyle:{shadowBlur:18,shadowColor:"rgba(65,105,225,0.7)"},label:{fontSize:12}},data:te},{name:"ä½ç½®ç‚¹",type:"scatter",coordinateSystem:"geo",zlevel:3,symbolSize:(y,P)=>P.data.isCluster?16:12,symbol:"circle",label:{show:!0,position:"right",distance:0,formatter:y=>y.data.name,color:"#2dd4bf",fontWeight:600,fontSize:13,backgroundColor:"rgba(7, 15, 32, 0.85)",padding:[4,8],borderRadius:8,borderColor:"rgba(45, 212, 191, 0.5)",borderWidth:1,shadowColor:"rgba(45, 212, 191, 0.35)",shadowBlur:6},itemStyle:{color:"#2dd4bf",borderColor:"rgba(255,255,255,0.9)",borderWidth:1.5,shadowColor:"rgba(45, 212, 191, 0.8)",shadowBlur:12},emphasis:{scale:!0,label:{fontSize:13,fontWeight:700},itemStyle:{shadowBlur:14}},data:ae}]};i==null||i.setOption(q);const ne=async y=>{const P=y.name,U=v[P];if(!U)return;let X=[];const Z=await $e(P);console.log(Z,"res"),X=Z,X=X.map(ce=>{const k=_(ce.name);return k?{...ce,coord:k}:null}).filter(Boolean),l.value.push({map:s.value,data:c.value}),s.value=U,c.value=X,me(U)};i==null||i.off("click"),i==null||i.on("click",y=>ne(y))}async function je(){if(!l.value.length)return;const m=l.value.pop();s.value=m.map,c.value=a.projectDistributionData,me(s.value)}const $e=async m=>{var T;const d=(T=a.projectDistributionData.find(I=>I.name===m))==null?void 0:T.id,{data:j,error:h}=await xa({pid:d,dates:a.dates});return console.log(j,"data"),j},ee=m=>{var j;if(p.value=m,!i)return;const d=(j=c.value)==null?void 0:j.map(h=>{const T=h.coord||D(h.name);return!T||!h.counts||h.counts<=0?null:{name:h.name,value:[...T,h.counts],counts:h.counts}}).filter(Boolean);i.setOption({series:[{name:"æ•°é‡ç‚¹",data:m==="count"||m==="both"?d:[]},{name:"ä½ç½®ç‚¹",data:m==="position"||m==="both"?Pe(a.data):[]}]})};return t({toggleViewMode:ee}),he(()=>a.projectDistributionData,async m=>{c.value=a.projectDistributionData,await jt(),x()},{deep:!0,immediate:!0}),(m,d)=>{const j=wt,h=Ct;return C(),A("div",mr,[f("div",vr,[r(h,{size:"small"},{default:$(()=>[r(j,{type:p.value==="count"?"primary":"default",onClick:d[0]||(d[0]=T=>ee("count"))},{default:$(()=>d[3]||(d[3]=[w(" æ•°é‡ ")])),_:1,__:[3]},8,["type"]),r(j,{type:p.value==="position"?"primary":"default",onClick:d[1]||(d[1]=T=>ee("position"))},{default:$(()=>d[4]||(d[4]=[w(" ä½ç½® ")])),_:1,__:[4]},8,["type"]),r(j,{type:p.value==="both"?"primary":"default",onClick:d[2]||(d[2]=T=>ee("both"))},{default:$(()=>d[5]||(d[5]=[w(" å…¨éƒ¨ ")])),_:1,__:[5]},8,["type"])]),_:1}),l.value.length>0?(C(),ie(j,{key:0,class:"ml-20px",size:"small",onClick:je},{default:$(()=>d[6]||(d[6]=[w(" è¿”å›ä¸Šä¸€çº§ ")])),_:1,__:[6]})):(C(),A("div",_r))]),f("div",{ref_key:"chartRef",ref:u,class:"echart"},null,512)])}}}),hr=ye(gr,[["__scopeId","data-v-18ec3471"]]),yr={class:"content_wrap"},br={class:"d-flex jc-center title_wrap"},xr={class:"top_Info"},jr={class:"left"},wr={class:"right"},Tr={class:"index-box"},Cr={class:"content_left"},Dr={class:"content_right"},Sr={class:"flex rtop"},Pr={class:"clockInInfo"},$r={style:{color:"#1890ff","font-weight":"700","font-size":"20px"}},Er={style:{color:"#52c41a","font-weight":"700","font-size":"20px"}},Ar={style:{color:"#faad14","font-weight":"700","font-size":"20px"}},kr={style:{color:"#8a8886","font-weight":"700","font-size":"20px"}},Or={key:0,class:"details"},Ir={class:"shrink-0 flex flex-col items-center justify-center w-20"},Lr=["src"],zr={class:"mt-2 c-#52c41a text-sm font-bold text-center truncate w-full"},Rr={class:"flex-1 flex flex-col justify-center gap-1"},Fr={class:"flex text-sm"},Br={class:"text-[#4169e1] font-semibold outPeopleText"},Mr={class:"flex text-sm"},Vr={class:"text-[#4169e1] font-semibold outPeopleText"},Nr={class:"flex text-sm"},Hr={class:"text-[#4169e1] font-semibold outPeopleText"},Ur=le({name:"bigscreen",__name:"index",setup(e){const t=Xt(),a=Zt();Je();const s=Qt(),l=S(!1),u=Ne({dateDay:"",dateYear:"",dateWeek:"",timing:null}),i=["å‘¨æ—¥","å‘¨ä¸€","å‘¨äºŒ","å‘¨ä¸‰","å‘¨å››","å‘¨äº”","å‘¨å…­"];(()=>{u.timing=setInterval(()=>{u.dateDay=ot().format("YYYY-MM-DD hh : mm : ss"),u.dateWeek=i[ot().day()]},1e3)})();const{pageData:p,getData:v}=Sa(fa),D=async()=>{await v({usertypes:"2,3"}),p.data=p.data.filter(n=>n.status==0)},_=S("total"),x=Ne({dayTime:String(He(0,null)),monthTime:String(He(3,null)),yearTime:String(He(4,null))}),G=S(null);async function Y(n,o){var H;je(),ee(),Z(),(H=G.value)==null||H.toggleViewMode("both")}const B=n=>{var o;_.value=n,je(),ee(),Z(),(o=G.value)==null||o.toggleViewMode("both")},O=S([]),Se=S([]),Be=S([]),Pe=S([]),ue=S([]),me=S([]),je=async()=>{const{data:n,error:o}=await Dt({s:_.value=="total"?void 0:_.value=="day"?x.dayTime:_.value=="month"?x.monthTime:x.yearTime});if(!o){O.value=n,Se.value=[{name:"æœªæ ¸å‡†",value:n.project.projectn1,color:"#a27ff9"},{name:"æœªå¼€å§‹",value:n.project.project0,color:"#9ca3af"},{name:"è¿›è¡Œä¸­",value:n.project.project1,color:"#3b82f6"},{name:"å¾…å®¡æ ¸",value:n.project.project2,color:"#facc15"},{name:"å·²å®Œæˆ",value:n.project.project3,color:"#22c55e"}],Be.value=[{name:"æ­£å¸¸",value:n.project.proPtype0,color:"#22c55e"},{name:"å»¶æœŸ",value:n.project.proPtype1,color:"#ef4444"}],Pe.value=[{name:"ç°åœºè°ƒè¯•",value:n.project.proDtype0,color:"#fb923c"},{name:"è¿œç¨‹è°ƒè¯•",value:n.project.proDtype1,color:"#94d82d"},{name:"æ— éœ€è°ƒè¯•",value:n.project.proDtype2,color:"#9ca3af"}];const H=new Map(n==null?void 0:n.norms.map(F=>[F.creater,F.totalscore])),ve=new Map(n==null?void 0:n.debug.map(F=>[F.creater,F])),oe=p.data.map(F=>{const V=ve.get(F.id),re=H.get(F.id)??0;return{...F,totalscore:re,debug:V?V.debugs:0,username:F.username??(V==null?void 0:V.username)??null,userimage:F.userimage??(V==null?void 0:V.userimage)??null,total:re+(V?V.debugs:0)}});ue.value=oe.sort((F,V)=>V.totalscore+V.debug-(F.totalscore+F.debug)),me.value=[...ue.value]}},$e=S([]),ee=async()=>{const{data:n,error:o}=await St({s:_.value=="total"?void 0:_.value=="day"?x.dayTime:_.value=="month"?x.monthTime:x.yearTime});o||($e.value=[{name:"ç”³è¯·ä¸­",value:n.debugn1,color:"#FB923C"},{name:"å¾…è°ƒè¯•",value:n.debug0,color:"#9ca3af"},{name:"å¼€å§‹è°ƒè¯•",value:n.debug1,color:"#3B82F6"},{name:"å¾…å®¡æ ¸",value:n.debug2,color:"#FACC15"},{name:"å®¡æ ¸å®Œæˆ",value:n.debug3,color:"#10B981"}])},m=[{key:"proname",title:()=>r("div",{class:"font-medium ml-20px"},[w("è¿‘æœŸé¡¹ç›®")]),width:300,ellipsis:{tooltip:!0},render:n=>{if(n.status===null)return null;const o=ua(Da[n.status]);return r("div",null,[r(ca,{placement:"top",trigger:"hover"},{trigger:()=>r("div",{class:"cursor-pointer text-ellipsis overflow-hidden whitespace-nowrap font-bold",onClick:()=>Ht(n),style:"max-width: 280px;"},[n.proname||"-"]),default:()=>n.proname||"-"}),r("div",{style:"display:flex; gap:3px; line-height:1.4;"},[r("div",{class:" flex"},[r("span",{style:"color:#b9b9b9"},[w("è¿›åº¦ï¼š")]),r(da,{type:"line",style:"width: 100px;",showIndicator:!0,percentage:n.progess,"indicator-placement":"inside",processing:!0,color:n.progess==100?"#22C55E":"#1890ff"},null)]),r("div",{class:" flex ml-8px"},[r("span",{style:"color:#b9b9b9 flex"},[w("çŠ¶æ€ï¼š")]),r("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:n.status===0?"#9ca3af":n.status===1?"#3B82F6":n.status===2?"#f1c40f":"#2ecc71",borderRadius:"50%"}},[r("span",{style:{width:"10px",height:"10px",marginRight:"5px",backgroundColor:n.status===0?"#9ca3af":n.status===1?"#3B82F6":n.status===2?"#f1c40f":"#2ecc71",borderRadius:"50%"}},null),r("span",null,[o])])])])])}},{key:"clockinusername",title:"æœ€åæ‰“å¡ä¿¡æ¯",align:"left",width:220,render(n){return r("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[r("div",null,[r("span",{style:"color:#b9b9b9"},[w("æ—¶é—´ï¼š")]),r("span",{style:" font-weight:500"},[n.lastclockintime||"-"])]),r("div",null,[r("span",{style:"color:#b9b9b9"},[w("æ‰“å¡äººï¼š")]),r("span",{style:"font-weight:500"},[n.clockinusername||"-"])])])}},{key:"clockincounts",title:"æ‰“å¡ä¿¡æ¯",align:"left",width:200,render(n){return r("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[r("div",null,[r("span",{style:"color:#b9b9b9"},[w("æ‰“å¡äººæ•°ï¼š")]),r("span",{style:"font-weight:500"},[n.clockincounts!=null?n.clockincounts+"äºº":"-"])]),r("div",null,[r("span",{style:"color:#b9b9b9"},[w("æ‰“å¡äººï¼š")]),r("span",{style:" font-weight:500"},[n.clockinusers||"-"])])])}},{key:"debugname",title:"è°ƒè¯•ä»»åŠ¡ä¿¡æ¯",align:"left",width:260,render(n){return r("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[r("div",null,[r("span",{style:"color:#b9b9b9"},[w("ä»»åŠ¡åç§°ï¼š")]),r("span",{style:"font-weight:500"},[n.debugname||"-"])]),r("div",null,[r("span",{style:"color:#b9b9b9"},[w("çŠ¶æ€ï¼š")]),r(pa,{size:"small",color:{color:n.debugstatus==-1?"rgba(251, 146, 60, 0.15)":n.debugstatus==0?"rgba(156, 163, 175, 0.15)":n.debugstatus==1?"rgba(59, 130, 246, 0.15)":n.debugstatus==2?"rgba(250, 204, 21, 0.15)":"rgba(16, 185, 129, 0.15)",textColor:n.debugstatus==-1?"#FB923C":n.debugstatus==0?"#9CA3AF":n.debugstatus==1?"#3B82F6":n.debugstatus==2?"#FACC15":"#10B981",borderColor:n.debugstatus==-1?"#FB923C":n.debugstatus==0?"#9CA3AF":n.debugstatus==1?"#3B82F6":n.debugstatus==2?"#FACC15":"#10B981"}},{default:()=>[n.debugstatus==-1?"ç”³è¯·ä¸­":n.debugstatus==0?"å¾…è°ƒè¯•":n.debugstatus==1?"å¼€å§‹è°ƒè¯•":n.debugstatus==2?"å¾…å®¡æ ¸":"å®¡æ ¸å®Œæˆ"]})])])}},{key:"username",title:"è°ƒè¯•ä¿¡æ¯",align:"left",width:230,render(n){return r("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[r("div",null,[r("span",{style:"color:#b9b9b9"},[w("æ—¶é—´ï¼š")]),r("span",{style:" font-weight:500"},[n.dbdbtime||"-"])]),r("div",null,[r("span",{style:"color:#b9b9b9"},[w("è°ƒè¯•äººï¼š")]),r("span",{style:"font-weight:500"},[n.username||"-"])])])}},{title:"ä»»åŠ¡å®¡æ ¸æ—¶é—´",key:"ckdbtime",width:120}],d=Ne({page:1,pageSize:10,showSizePicker:!0,fuzzy:"",itemCount:0,size:"small",pageSizes:[5,10,20],prefix:()=>`å…± ${d.itemCount} æ¡`,onChange:n=>{d.page=n,h()},onUpdatePageSize:n=>{d.pageSize=n,d.page=1,h()}}),j=S([]),h=async()=>{const{data:n,error:o}=await ea({page:d.page,limit:d.pageSize});o||(j.value=n.list,d.itemCount=n.total)},T=S([]),I=async()=>{const{data:n,error:o}=await ja();o||(T.value=n)},N=_e(()=>T.value.filter(n=>n.pid!=-1)),L=_e(()=>T.value.filter(n=>n.pid==-1)),J=_e(()=>p.data.filter(n=>!T.value.some(o=>o.creater==n.id))),te=_e(()=>N.value.length),ae=_e(()=>L.value.length),q=S(!1),ne=S("allPeople"),Ee=()=>{q.value=!q.value},y=S(null),P=S(null),U=S([]),X=S(""),Z=async()=>{const{data:n,error:o}=await wa({dates:_.value=="total"?void 0:_.value=="day"?x.dayTime:_.value=="month"?x.monthTime:x.yearTime});o||(X.value=_.value=="total"?void 0:_.value=="day"?x.dayTime:_.value=="month"?x.monthTime:x.yearTime,U.value=n)},ce=()=>{if(!k.value)return;const n=k.value.children[0];let o=k.value.querySelector(".clone");o?o.innerHTML=n.innerHTML:(o=n.cloneNode(!0),o.classList.add("clone"),k.value.appendChild(o)),o.style.display="block"},k=S(null);let M=null;const K=()=>{if(!k.value)return;M&&clearInterval(M);const n=k.value,o=n.children[0],H=n.querySelector(".clone");H&&(H.style.display="block",M=window.setInterval(()=>{n.scrollTop+=1,n.scrollTop>=o.scrollHeight&&(n.scrollTop=0)},30))},W=()=>{if(M&&(clearInterval(M),M=null),k.value){const n=k.value.querySelector(".clone");n&&(n.style.display="none"),k.value.scrollTop=0}},Ae=async()=>{await Promise.all([je(),ee(),h(),Z()])},Me=S("");bt(async()=>{try{a.themeScheme=="dark"?Me.value="dark":(Me.value="light",a.setThemeScheme("dark")),l.value=!0,await Promise.all([D(),Ae(),I(),Z()])}catch(n){console.error("é¦–é¡µæ•°æ®åŠ è½½å¤±è´¥",n)}finally{l.value=!1}y.value=window.setInterval(Ae,1e3*60*5),P.value=window.setInterval(I,1e3*60*5),setTimeout(()=>{if(k.value=document.querySelector(".n-scrollbar-container"),!k.value)return;const n=k.value.children[0];if(!k.value.querySelector(".clone")){const o=n.cloneNode(!0);o.classList.add("clone"),k.value.appendChild(o)}k.value.addEventListener("mouseenter",W),k.value.addEventListener("mouseleave",K),K()},1e3)}),ta(()=>{y.value&&clearInterval(y.value),P.value&&clearInterval(P.value),M&&clearInterval(M),Me.value=="light"&&a.setThemeScheme("light")});const Ht=n=>{s.push("/projectmanagement/orderdetail?prjId="+n.id),t.setProjectInfo({pid:n.id,pname:n.proname})},Ut=n=>{setTimeout(()=>W(),200),n.order?ue.value.sort((o,H)=>{const ve=o[n.columnKey]||0,oe=H[n.columnKey]||0;return n.order==="ascend"?ve-oe:oe-ve}):ue.value=[...me.value],jt(()=>{ce(),W(),K()})},tt=[{title:()=>r("div",{class:"text-[12px] font-700"},[w("æ’å")]),key:"rank",width:40,align:"center",render:(n,o)=>r("div",{class:["rank-index",{first:o===0,second:o===1,third:o===2}]},[o+1])},{title:()=>r("div",{class:"text-[12px] font-700"},[w("è°ƒè¯•äºº")]),key:"username",width:80,align:"center",render:n=>r("div",{class:"flex-col items-center"},[r("img",{src:n.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png",class:"w-6 h-6 rounded-full"},null),r("span",null,[n.username])])},{title:()=>r("div",{class:"text-[12px] font-700"},[w("è°ƒè¯•ç§¯åˆ†")]),key:"debug",width:80,sorter:!0,align:"center"},{title:()=>r("div",{class:"text-[12px] font-700"},[w("è¡Œä¸ºå¾—åˆ†")]),key:"totalscore",width:80,sorter:!0,align:"center"},{title:()=>r("div",{class:"text-[12px] font-700"},[w("æ€»å¾—åˆ†")]),key:"total",width:80,sorter:!0,align:"center"}],at=[{title:()=>r("div",{class:"text-[12px] font-700"},[w("æ’å")]),key:"rank",width:40,align:"center",render:(n,o)=>r("div",{class:["rank-index",{first:o===0,second:o===1,third:o===2}]},[o+1])},{title:()=>r("div",{class:"text-[12px] font-700"},[w("è°ƒè¯•äºº")]),key:"username",width:80,align:"center",render:n=>r("div",{class:"flex items-center justify-center"},[r("img",{src:n.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png",class:"w-6 h-6 mr-5px rounded-full"},null),r("span",null,[n.username])])},{title:()=>r("div",{class:"text-[12px] font-700"},[w("è°ƒè¯•ç§¯åˆ†")]),key:"debug",width:80,sorter:!0,align:"center"}],Wt=()=>{s.push({path:"/projectmanagement/orderdetail"})};return(n,o)=>{const H=wt,ve=Ct,oe=Pa,F=na,V=xt,re=ir,ke=sa,qt=ia,Gt=ra,nt=la,Yt=Aa;return C(),A(se,null,[f("div",yr,[f("div",br,[o[12]||(o[12]=aa('<div class="zuojuxing" data-v-14fbca8d></div><div class="youjuxing" data-v-14fbca8d></div><div class="guang" data-v-14fbca8d></div><div class="d-flex jc-center" data-v-14fbca8d><div class="title" data-v-14fbca8d><span class="title-text" data-v-14fbca8d>é¢†ç¥ºå·¥ç¨‹é¡¹ç›®ç®¡ç†å¹³å°</span></div></div>',4)),f("div",xr,[f("div",jr,[r(F,null,{default:$(()=>[r(ve,{size:"small"},{default:$(()=>[r(H,{type:_.value==="day"?"primary":"default",onClick:o[0]||(o[0]=g=>B("day"))},{default:$(()=>o[8]||(o[8]=[w(" æ—¥ ")])),_:1,__:[8]},8,["type"]),r(H,{type:_.value==="month"?"primary":"default",onClick:o[1]||(o[1]=g=>B("month"))},{default:$(()=>o[9]||(o[9]=[w(" æœˆ ")])),_:1,__:[9]},8,["type"]),r(H,{type:_.value==="year"?"primary":"default",onClick:o[2]||(o[2]=g=>B("year"))},{default:$(()=>o[10]||(o[10]=[w(" å¹´ ")])),_:1,__:[10]},8,["type"]),r(H,{type:_.value==="total"?"primary":"default",onClick:o[3]||(o[3]=g=>B("total"))},{default:$(()=>o[11]||(o[11]=[w(" ç´¯è®¡ ")])),_:1,__:[11]},8,["type"])]),_:1}),_.value==="day"?(C(),ie(oe,{key:0,size:"small","formatted-value":x.dayTime,"onUpdate:formattedValue":[o[4]||(o[4]=g=>x.dayTime=g),Y],type:"date","value-format":"yyyy-MM-dd",style:{width:"120px"}},null,8,["formatted-value"])):ge("",!0),_.value==="month"?(C(),ie(oe,{key:1,size:"small","formatted-value":x.monthTime,"onUpdate:formattedValue":[o[5]||(o[5]=g=>x.monthTime=g),Y],type:"month","value-format":"yyyy-MM",style:{width:"120px"}},null,8,["formatted-value"])):ge("",!0),_.value==="year"?(C(),ie(oe,{key:2,size:"small","formatted-value":x.yearTime,"onUpdate:formattedValue":[o[6]||(o[6]=g=>x.yearTime=g),Y],type:"year","value-format":"yyyy",style:{width:"120px"}},null,8,["formatted-value"])):ge("",!0)]),_:1})]),f("div",wr,[f("div",{class:"setting_icon",onClick:Wt},[r(V,{"local-icon":"home",class:"font-size-30px mr-5px",style:{color:"#fff"}})]),f("div",null,z(u.dateYear)+" "+z(u.dateWeek)+" "+z(u.dateDay),1)])])]),f("div",Tr,[f("div",Cr,[r(re,{class:"content_left-top",title:"é¡¹ç›®ä¿¡æ¯"},{default:$(()=>[r(pr)]),_:1}),r(re,{class:"content_left-bottom",title:"é¡¹ç›®è¯¦ç»†ä¿¡æ¯"},{default:$(()=>[r(gt,{data:Se.value,name:"é¡¹ç›®æ€»æ•°"},null,8,["data"]),r(fr,{data:O.value,name:"é¡¹ç›®æ€»æ•°"},null,8,["data"]),r(gt,{data:$e.value,name:"è°ƒè¯•æ€»æ•°"},null,8,["data"])]),_:1})]),f("div",Dr,[f("div",Sr,[r(re,{title:"å®æ—¶è½¨è¿¹",justifypos:"start",class:"content_right-center"},{default:$(()=>[f("div",Pr,[f("div",{class:"totalBox",onClick:Ee,style:{display:"flex","align-items":"center",gap:"16px","font-size":"16px"}},[f("span",null,[o[13]||(o[13]=w(" å…± ")),f("span",$r,z(R(p).data.length),1),o[14]||(o[14]=w(" äºº "))]),f("span",null,[o[15]||(o[15]=w(" ä»Šæ—¥å¤–å‹¤äººæ•°ï¼š ")),f("span",Er,z(te.value),1),o[16]||(o[16]=w(" äºº "))]),f("span",null,[o[17]||(o[17]=w(" å…¬å¸äººæ•°ï¼š ")),f("span",Ar,z(ae.value),1),o[18]||(o[18]=w(" äºº "))]),f("span",null,[o[19]||(o[19]=w(" æœªçŸ¥ï¼š ")),f("span",kr,z(R(p).data.length-te.value-ae.value),1),o[20]||(o[20]=w(" äºº "))]),f("span",{class:yt(["arrow",{open:q.value}])},"â–¼",2)]),r(oa,{name:"slide"},{default:$(()=>[q.value?(C(),A("div",Or,[r(Gt,{value:ne.value,"onUpdate:value":o[7]||(o[7]=g=>ne.value=g),type:"card",animated:""},{default:$(()=>[r(ke,{name:"allPeople",tab:"å…¨éƒ¨è°ƒè¯•å‘˜å·¥"},{default:$(()=>[(C(!0),A(se,null,de(N.value,g=>(C(),A("span",{class:"outPeople",key:g.id},z(g.username),1))),128)),(C(!0),A(se,null,de(L.value,g=>(C(),A("span",{class:"inPeople",key:g.id},z(g.username),1))),128)),(C(!0),A(se,null,de(J.value,g=>(C(),A("span",{class:"unknown",key:g.id},z(g.username),1))),128))]),_:1}),r(ke,{name:"outPeople",tab:"å¤–å‹¤äººå‘˜"},{default:$(()=>[r(qt,{style:{"max-height":"500px"}},{default:$(()=>[(C(!0),A(se,null,de(N.value,g=>(C(),A("div",{key:g.id,class:"mb-4 bg-white outPeopleBg rounded-lg shadow-sm hover:shadow-md transition-shadow flex"},[f("div",Ir,[f("img",{class:"w30px h-30px rounded-full shadow",src:g.userImage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png",alt:"å¤´åƒ"},null,8,Lr),f("div",zr,z(g.username),1)]),f("div",Rr,[f("div",Fr,[o[21]||(o[21]=f("span",{class:"whitespace-nowrap"},"ğŸ—ï¸ é¡¹ç›®åç§°ï¼š",-1)),f("span",Br,z(g.proname||"æš‚æ— é¡¹ç›®"),1)]),f("div",Mr,[o[22]||(o[22]=f("span",{class:"whitespace-nowrap"},"ğŸ“… æœ€è¿‘ä¸€æ¬¡æ‰“å¡æ—¶é—´ï¼š",-1)),f("span",Vr,z(g.dbtime||"æ— "),1)]),f("div",Nr,[o[23]||(o[23]=f("span",{class:"whitespace-nowrap"},"ğŸ“ åœ°å€ï¼š",-1)),f("span",Hr,z(g.address),1)])])]))),128))]),_:1})]),_:1}),r(ke,{name:"inPeople",tab:"å…¬å¸äººå‘˜"},{default:$(()=>[(C(!0),A(se,null,de(L.value,g=>(C(),A("span",{class:"inPeople",key:g.id},z(g.username),1))),128))]),_:1}),r(ke,{name:"unknownPeople",tab:"æœªçŸ¥äººå‘˜"},{default:$(()=>[(C(!0),A(se,null,de(J.value,g=>(C(),A("span",{class:"unknown",key:g.id},z(g.username),1))),128))]),_:1})]),_:1},8,["value"])])):ge("",!0)]),_:1})]),r(hr,{ref_key:"trajectoryChartRef",ref:G,projectDistributionData:U.value,dates:X.value,data:T.value,name:"å®æ—¶è½¨è¿¹"},null,8,["projectDistributionData","dates","data"])]),_:1}),r(re,{title:"æ’è¡Œæ¦œ",class:"content_right-top"},{default:$(()=>[r(nt,{ref:"tableContainer",remote:"","onUpdate:sorter":Ut,columns:R(t).userInfo.usertype==3?at:tt,"scroll-x":(R(t).userInfo.usertype==3?at:tt).reduce((g,Ve)=>g+(Ve.width||100),0),data:ue.value,bordered:!1,"max-height":560},null,8,["columns","scroll-x","data"])]),_:1})]),r(re,{class:"content_right-bottom",title:"è¿‘æœŸé¡¹ç›®"},{default:$(()=>[r(nt,{ref:"tableContainer",remote:"",pagination:d.pageSize==1?!1:d,"scroll-x":m.reduce((g,Ve)=>g+(Ve.width||100),0),columns:m,data:j.value,bordered:!1,"max-height":325},null,8,["pagination","scroll-x","data"])]),_:1})])])]),l.value?(C(),ie(Yt,{key:0})):ge("",!0)],64)}}}),Qr=ye(Ur,[["__scopeId","data-v-14fbca8d"]]);export{Qr as default};
