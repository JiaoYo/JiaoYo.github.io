import{aS as te,ag as j,aT as oe,d as ae,ai as U,aU as ie,aV as ue,dP as le,C as se,aX as re,aY as B,T as de,D as ce,aZ as pe,dz as fe,aj as ve,ak as he,r as T,b2 as me,b3 as ge,al as z,dQ as Ae,a as L,b4 as be,ao as Me,b6 as we,dA as Ie,b9 as ye,b8 as _,df as Ue}from"./index-BvFB2cuj.js";const Se=te([j("auto-complete",`
 z-index: auto;
 position: relative;
 display: inline-flex;
 width: 100%;
 `),j("auto-complete-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[oe({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]);function xe(t){return t.map(D)}function D(t){var g,d;return typeof t=="string"?{label:t,value:t}:t.type==="group"?{type:"group",label:(g=t.label)!==null&&g!==void 0?g:t.name,value:(d=t.value)!==null&&d!==void 0?d:t.name,key:t.key||t.name,children:t.children.map(f=>D(f))}:t}const Ce=Object.assign(Object.assign({},z.props),{to:B.propTo,menuProps:Object,append:Boolean,bordered:{type:Boolean,default:void 0},clearable:{type:Boolean,default:void 0},defaultValue:{type:String,default:null},loading:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},placeholder:String,placement:{type:String,default:"bottom-start"},value:String,blurAfterSelect:Boolean,clearAfterSelect:Boolean,getShow:Function,showEmpty:Boolean,inputProps:Object,renderOption:Function,renderLabel:Function,size:String,options:{type:Array,default:()=>[]},zIndex:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onSelect:[Function,Array],onBlur:[Function,Array],onFocus:[Function,Array],onInput:[Function,Array]}),Fe=ae({name:"AutoComplete",props:Ce,slots:Object,setup(t){const{mergedBorderedRef:g,namespaceRef:d,mergedClsPrefixRef:h,inlineThemeDisabled:f}=ve(t),o=he(t),{mergedSizeRef:u,mergedDisabledRef:c,mergedStatusRef:b}=o,I=T(null),S=T(null),e=T(t.defaultValue),p=me(t,"value"),a=ge(p,e),i=T(!1),l=T(!1),m=z("AutoComplete","-auto-complete",Se,Ae,t,h),v=L(()=>xe(t.options)),r=L(()=>{const{getShow:n}=t;return n?n(a.value||""):!!a.value}),M=L(()=>r.value&&i.value&&(t.showEmpty?!0:!!v.value.length)),y=L(()=>be(v.value,Ie("value","children")));function x(n){const{"onUpdate:value":s,onUpdateValue:A,onInput:w}=t,{nTriggerFormInput:O,nTriggerFormChange:ne}=o;A&&_(A,n),s&&_(s,n),w&&_(w,n),e.value=n,O(),ne()}function $(n){const{onSelect:s}=t,{nTriggerFormInput:A,nTriggerFormChange:w}=o;s&&_(s,n),A(),w()}function N(n){const{onBlur:s}=t,{nTriggerFormBlur:A}=o;s&&_(s,n),A()}function J(n){const{onFocus:s}=t,{nTriggerFormFocus:A}=o;s&&_(s,n),A()}function q(){l.value=!0}function K(){window.setTimeout(()=>{l.value=!1},0)}function W(n){var s,A,w;switch(n.key){case"Enter":if(!l.value){const O=(s=S.value)===null||s===void 0?void 0:s.getPendingTmNode();O&&(P(O.rawNode),n.preventDefault())}break;case"ArrowDown":(A=S.value)===null||A===void 0||A.next();break;case"ArrowUp":(w=S.value)===null||w===void 0||w.prev();break}}function P(n){(n==null?void 0:n.value)!==void 0&&($(n.value),t.clearAfterSelect?x(null):n.label!==void 0&&x(t.append?`${a.value}${n.label}`:n.label),i.value=!1,t.blurAfterSelect&&ee())}function H(){x(null)}function Q(n){i.value=!0,J(n)}function X(n){i.value=!1,N(n)}function Y(n){i.value=!0,x(n)}function Z(n){P(n.rawNode)}function G(n){var s;!((s=I.value)===null||s===void 0)&&s.contains(ye(n))||(i.value=!1)}function ee(){var n,s;!((n=I.value)===null||n===void 0)&&n.contains(document.activeElement)&&((s=document.activeElement)===null||s===void 0||s.blur())}const V=L(()=>{const{common:{cubicBezierEaseInOut:n},self:{menuBoxShadow:s}}=m.value;return{"--n-menu-box-shadow":s,"--n-bezier":n}}),C=f?Me("auto-complete",void 0,V,t):void 0,R=T(null),k={focus:()=>{var n;(n=R.value)===null||n===void 0||n.focus()},blur:()=>{var n;(n=R.value)===null||n===void 0||n.blur()}};return{focus:k.focus,blur:k.blur,inputInstRef:R,uncontrolledValue:e,mergedValue:a,isMounted:we(),adjustedTo:B(t),menuInstRef:S,triggerElRef:I,treeMate:y,mergedSize:u,mergedDisabled:c,active:M,mergedStatus:b,handleClear:H,handleFocus:Q,handleBlur:X,handleInput:Y,handleToggle:Z,handleClickOutsideMenu:G,handleCompositionStart:q,handleCompositionEnd:K,handleKeyDown:W,mergedTheme:m,cssVars:f?void 0:V,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender,mergedBordered:g,namespace:d,mergedClsPrefix:h}},render(){const{mergedClsPrefix:t}=this;return U("div",{class:`${t}-auto-complete`,ref:"triggerElRef",onKeydown:this.handleKeyDown,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd},U(ie,null,{default:()=>[U(ue,null,{default:()=>{const g=this.$slots.default;if(g)return le("default",g,{handleInput:this.handleInput,handleFocus:this.handleFocus,handleBlur:this.handleBlur,value:this.mergedValue});const{mergedTheme:d}=this;return U(se,{ref:"inputInstRef",status:this.mergedStatus,theme:d.peers.Input,themeOverrides:d.peerOverrides.Input,bordered:this.mergedBordered,value:this.mergedValue,placeholder:this.placeholder,size:this.mergedSize,disabled:this.mergedDisabled,clearable:this.clearable,loading:this.loading,inputProps:this.inputProps,onClear:this.handleClear,onFocus:this.handleFocus,onUpdateValue:this.handleInput,onBlur:this.handleBlur},{suffix:()=>{var h,f;return(f=(h=this.$slots).suffix)===null||f===void 0?void 0:f.call(h)},prefix:()=>{var h,f;return(f=(h=this.$slots).prefix)===null||f===void 0?void 0:f.call(h)}})}}),U(re,{show:this.active,to:this.adjustedTo,containerClass:this.namespace,zIndex:this.zIndex,teleportDisabled:this.adjustedTo===B.tdkey,placement:this.placement,width:"target"},{default:()=>U(de,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>{var g;if((g=this.onRender)===null||g===void 0||g.call(this),!this.active)return null;const{menuProps:d}=this;return ce(U(fe,Object.assign({},d,{clsPrefix:t,ref:"menuInstRef",theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,"auto-pending":!0,class:[`${t}-auto-complete-menu`,this.themeClass,d==null?void 0:d.class],style:[d==null?void 0:d.style,this.cssVars],treeMate:this.treeMate,multiple:!1,renderLabel:this.renderLabel,renderOption:this.renderOption,size:"medium",onToggle:this.handleToggle}),{empty:()=>{var h,f;return(f=(h=this.$slots).empty)===null||f===void 0?void 0:f.call(h)}}),[[pe,this.handleClickOutsideMenu,void 0,{capture:!0}]])}})})]}))}});var F={exports:{}},Te=F.exports,E;function _e(){return E||(E=1,function(t,g){(function(d,h){t.exports=h()})(Te,function(){function d(e){var p=[];return e.AMapUI&&p.push(h(e.AMapUI)),e.Loca&&p.push(f(e.Loca)),Promise.all(p)}function h(e){return new Promise(function(p,a){var i=[];if(e.plugins)for(var l=0;l<e.plugins.length;l+=1)u.AMapUI.plugins.indexOf(e.plugins[l])==-1&&i.push(e.plugins[l]);if(c.AMapUI===o.failed)a("前次请求 AMapUI 失败");else if(c.AMapUI===o.notload){c.AMapUI=o.loading,u.AMapUI.version=e.version||u.AMapUI.version,l=u.AMapUI.version;var m=document.body||document.head,v=document.createElement("script");v.type="text/javascript",v.src="https://webapi.amap.com/ui/"+l+"/main.js",v.onerror=function(r){c.AMapUI=o.failed,a("请求 AMapUI 失败")},v.onload=function(){if(c.AMapUI=o.loaded,i.length)window.AMapUI.loadUI(i,function(){for(var r=0,M=i.length;r<M;r++){var y=i[r].split("/").slice(-1)[0];window.AMapUI[y]=arguments[r]}for(p();b.AMapUI.length;)b.AMapUI.splice(0,1)[0]()});else for(p();b.AMapUI.length;)b.AMapUI.splice(0,1)[0]()},m.appendChild(v)}else c.AMapUI===o.loaded?e.version&&e.version!==u.AMapUI.version?a("不允许多个版本 AMapUI 混用"):i.length?window.AMapUI.loadUI(i,function(){for(var r=0,M=i.length;r<M;r++){var y=i[r].split("/").slice(-1)[0];window.AMapUI[y]=arguments[r]}p()}):p():e.version&&e.version!==u.AMapUI.version?a("不允许多个版本 AMapUI 混用"):b.AMapUI.push(function(r){r?a(r):i.length?window.AMapUI.loadUI(i,function(){for(var M=0,y=i.length;M<y;M++){var x=i[M].split("/").slice(-1)[0];window.AMapUI[x]=arguments[M]}p()}):p()})})}function f(e){return new Promise(function(p,a){if(c.Loca===o.failed)a("前次请求 Loca 失败");else if(c.Loca===o.notload){c.Loca=o.loading,u.Loca.version=e.version||u.Loca.version;var i=u.Loca.version,l=u.AMap.version.startsWith("2"),m=i.startsWith("2");if(l&&!m||!l&&m)a("JSAPI 与 Loca 版本不对应！！");else{l=u.key,m=document.body||document.head;var v=document.createElement("script");v.type="text/javascript",v.src="https://webapi.amap.com/loca?v="+i+"&key="+l,v.onerror=function(r){c.Loca=o.failed,a("请求 AMapUI 失败")},v.onload=function(){for(c.Loca=o.loaded,p();b.Loca.length;)b.Loca.splice(0,1)[0]()},m.appendChild(v)}}else c.Loca===o.loaded?e.version&&e.version!==u.Loca.version?a("不允许多个版本 Loca 混用"):p():e.version&&e.version!==u.Loca.version?a("不允许多个版本 Loca 混用"):b.Loca.push(function(r){r?a(r):a()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var o;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(o||(o={}));var u={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},c={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},b={AMapUI:[],Loca:[]},I=[],S=function(e){typeof e=="function"&&(c.AMap===o.loaded?e(window.AMap):I.push(e))};return{load:function(e){return new Promise(function(p,a){if(c.AMap==o.failed)a("");else if(c.AMap==o.notload){var i=e.key,l=e.version,m=e.plugins;i?(window.AMap&&location.host!=="lbs.amap.com"&&a("禁止多种API加载方式混用"),u.key=i,u.AMap.version=l||u.AMap.version,u.AMap.plugins=m||u.AMap.plugins,c.AMap=o.loading,l=document.body||document.head,window.___onAPILoaded=function(r){if(delete window.___onAPILoaded,r)c.AMap=o.failed,a(r);else for(c.AMap=o.loaded,d(e).then(function(){p(window.AMap)}).catch(a);I.length;)I.splice(0,1)[0]()},m=document.createElement("script"),m.type="text/javascript",m.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+u.AMap.version+"&key="+i+"&plugin="+u.AMap.plugins.join(","),m.onerror=function(r){c.AMap=o.failed,a(r)},l.appendChild(m)):a("请填写key")}else if(c.AMap==o.loaded)if(e.key&&e.key!==u.key)a("多个不一致的 key");else if(e.version&&e.version!==u.AMap.version)a("不允许多个版本 JSAPI 混用");else{if(i=[],e.plugins)for(l=0;l<e.plugins.length;l+=1)u.AMap.plugins.indexOf(e.plugins[l])==-1&&i.push(e.plugins[l]);i.length?window.AMap.plugin(i,function(){d(e).then(function(){p(window.AMap)}).catch(a)}):d(e).then(function(){p(window.AMap)}).catch(a)}else if(e.key&&e.key!==u.key)a("多个不一致的 key");else if(e.version&&e.version!==u.AMap.version)a("不允许多个版本 JSAPI 混用");else{var v=[];if(e.plugins)for(l=0;l<e.plugins.length;l+=1)u.AMap.plugins.indexOf(e.plugins[l])==-1&&v.push(e.plugins[l]);S(function(){v.length?window.AMap.plugin(v,function(){d(e).then(function(){p(window.AMap)}).catch(a)}):d(e).then(function(){p(window.AMap)}).catch(a)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,u={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},c={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},b={AMap:[],AMapUI:[],Loca:[]}}}})}(F)),F.exports}var Le=_e();const Re=Ue(Le);export{Re as A,Fe as _};
