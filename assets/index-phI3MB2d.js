const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/juhe-D-RAbWAi.js","assets/index-9Ko_9_TI.js","assets/index-QIRIoK7q.css"])))=>i.map(i=>d[i]);
import{R as Ge,b as D,o as g,e as m,d as _e,s as b,i as $e,c as H,a2 as Ve,w as f,f as t,a$ as Y,aP as K,_ as Je,a7 as Ae,t as V,W as Ee,aJ as Se,au as ge,aE as Be,B as Ye,g as y,b0 as p,z as Ke,Y as Xe,a as ve,D as Le,aS as Te,b1 as Qe,a1 as Ze,J as et,G as pe,aB as tt,h as Ce,aM as at,b3 as nt,b4 as ot,b5 as st,a3 as lt,ax as rt,$ as it,aO as ut,aA as dt,aD as ct,aT as pt}from"./index-9Ko_9_TI.js";import{_ as mt,u as Oe,a as ft,i as vt,r as gt,p as _t,b as yt,c as ht}from"./juhe-D-RAbWAi.js";import{f as Fe,a as Me,b as bt,c as Ie,d as xt,e as wt}from"./home-s6C-Ek0R.js";import{_ as Ne,a as He}from"./Grid-C4COR-OK.js";import{p as jt}from"./business-BXzaRcWh.js";import{u as kt}from"./usePageData-BWaYhHgw.js";import{_ as Ct}from"./RadioButton-BH8aJiOr.js";import{_ as Dt}from"./DatePicker-DdutLwK7.js";const Tt={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"};function Et(X,w){return g(),D("svg",Tt,w[0]||(w[0]=[m("path",{fill:"currentColor",d:"M19 6a1 1 0 0 0-1 1v4a1 1 0 0 1-1 1H7.41l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0-.21.33a1 1 0 0 0 0 .76a1 1 0 0 0 .21.33l3 3a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.42L7.41 14H17a3 3 0 0 0 3-3V7a1 1 0 0 0-1-1"},null,-1)]))}const St=Ge({name:"uil-enter",render:Et}),Pt={class:"item"},zt={class:"flex items-center"},At={class:"text-16px",style:{"font-weight":"bold"}},Lt=_e({name:"CardData",__name:"card-data",setup(X){const w=b([{key:"project",title:"é¡¹ç›®æ€»æ•°",value:0,icon:"xiangmu"},{key:"contract",title:"åˆåŒæ€»æ•°",value:0,icon:"hetong"},{key:"debug",title:"è°ƒè¯•æ€»æ•°",value:0,icon:"tiaoshi"}]),B=async()=>{const{data:z,error:j}=await Fe();j||(w.value[0].value=z.project.projects,w.value[1].value=z.project.contracts)},L=async()=>{const{data:z,error:j}=await Me();j||(w.value[2].value=z.debugs)};return $e(()=>{B(),L()}),(z,j)=>{const u=Je,x=mt,_=He,r=Ne,v=Ve;return g(),H(v,{bordered:!1,size:"small",class:"card-wrapper","content-style":{padding:"0px 0px"}},{default:f(()=>[t(r,{cols:"1 s:1 m:1 l:1 xl:3",responsive:"screen",class:"gridCss"},{default:f(()=>[(g(!0),D(K,null,Y(w.value,(k,A)=>(g(),H(_,{key:k.key},{default:f(()=>[m("div",Pt,[m("div",zt,[t(u,{"local-icon":k.icon,class:"font-size-28px mr-5px",style:Ae({color:A==0?"#00ff85":A==1?"#00eaff":"#ffdd00"})},null,8,["local-icon","style"]),m("h3",At,V(k.title),1)]),t(x,{"start-value":1,"end-value":k.value,style:Ae([{color:A==0?"#00ff85":A==1?"#00eaff":"#ffdd00"},{"font-family":"dsdigits","font-weight":"bolder"}]),class:"text-28px dark:text-dark text-center"},null,8,["end-value","style"])])]),_:2},1024))),128))]),_:1})]),_:1})}}}),It=Ee(Lt,[["__scopeId","data-v-ed9b6f55"]]),Re=_e({name:"SimplePieChart",__name:"pie-chart",props:{data:{},name:{}},setup(X){const w=X,B=Se(),{domRef:L,updateOptions:z}=Oe(()=>({tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},title:{text:"",top:"45%",textAlign:"center",left:"65%",textStyle:{fontSize:16,fontWeight:500}},legend:{orient:"vertical",left:"5%",top:"center",icon:"circle",itemWidth:10,itemHeight:10,formatter:function(u){const x=w.data.find(_=>_.name===u);return x?`${u} {valueStyle|${x.value||0}ä¸ª}`:u},textStyle:{rich:{valueStyle:{color:"#1890ff",fontWeight:"bold",fontSize:14}},fontSize:14}},series:[{type:"pie",radius:["75","80"],center:["65%","50%"],avoidLabelOverlap:!0,hideOverlap:!0,label:{show:!0,position:"inside",formatter:"{c}ä¸ª",fontSize:14},labelLine:{show:!0},data:[]}]}));function j(){z(u=>{const x=w.data||[],_=x.reduce((r,v)=>r+(v.value||0),0);return u.title.text=`${w.name??""}${_}`,u.series[0].data=x.map(r=>({name:r.name,value:r.value,itemStyle:{color:r.color,borderWidth:3,borderColor:r.color,shadowBlur:15,shadowColor:r.color}})),u.legend.data=x.map(r=>r.name),u})}return ge(()=>w.data,j,{deep:!0}),ge(()=>w.name,j),ge(()=>B.locale,j),j(),(u,x)=>(g(),D("div",{ref_key:"domRef",ref:L,class:"h-260px w-full overflow-hidden"},null,512))}}),Rt=_e({name:"PieChart",__name:"pie-chart1",props:{data:{},name:{}},setup(X){const w=X,B=Se(),L=["#fb923c","#94d82d","#9ca3af"],z=["#ef4444","#22c55e"],{domRef:j,updateOptions:u}=Oe(()=>({tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},title:{text:"",top:"45%",textAlign:"center",left:"65%",textStyle:{fontSize:16,fontWeight:500}},legend:[{data:["ç°åœºè°ƒè¯•","è¿œç¨‹è°ƒè¯•","æ— éœ€è°ƒè¯•"],orient:"vertical",left:"5%",top:"25%",icon:"circle",itemWidth:10,itemHeight:10,formatter:function(r){const k=x.value.series[0].data.find(A=>A.name===r);return k?`${r} {valueStyle|${k.value||0}ä¸ª}`:r},textStyle:{rich:{valueStyle:{color:"#1890ff",fontWeight:"bold",fontSize:14}},fontSize:14}},{data:["å·²å»¶æœŸ","æ­£å¸¸"],orient:"vertical",left:"5%",top:"55%",icon:"circle",itemWidth:10,itemHeight:10,formatter:function(r){const k=x.value.series[1].data.find(A=>A.name===r);return k?`${r} {valueStyle|${k.value||0}ä¸ª}`:r},textStyle:{rich:{valueStyle:{color:"#1890ff",fontWeight:"bold",fontSize:14}},fontSize:14}}],series:[{color:L,type:"pie",radius:[75,80],center:["65%","50%"],avoidLabelOverlap:!0,label:{show:!0,position:"inside",formatter:"{c}ä¸ª",fontSize:14},labelLine:{show:!1},data:[]},{color:z,type:"pie",radius:[55,60],center:["65%","50%"],avoidLabelOverlap:!0,label:{show:!0,position:"inside",formatter:"{c}ä¸ª",fontSize:14},labelLine:{show:!1},data:[]}]})),x=b({});function _(){u(r=>{var le;const v=((le=w.data)==null?void 0:le.project)||{};r.title.text=`${w.name}${v.projects??""}`;const k=["ç°åœºè°ƒè¯•","è¿œç¨‹è°ƒè¯•","æ— éœ€è°ƒè¯•"];r.series[0].data=k.map((Q,I)=>({name:Q,value:v[`proDtype${I}`]||0,itemStyle:{borderWidth:5,shadowBlur:20,borderColor:L[I],shadowColor:L[I]}}));const A=["å·²å»¶æœŸ","æ­£å¸¸"],me=["proPtype1","proPtype0"];return r.series[1].data=A.map((Q,I)=>({name:Q,value:v[me[I]]||0,itemStyle:{borderWidth:5,shadowBlur:20,borderColor:z[I],shadowColor:z[I]}})),x.value=r,r})}return ge(()=>w.data,_,{deep:!0}),ge(()=>B.locale,_),_(),(r,v)=>(g(),D("div",{ref_key:"domRef",ref:j,class:"h-260px overflow-hidden"},null,512))}}),$t={class:"map-container"},Vt={class:"toolbar"},Bt={key:1},Ot=_e({__name:"trajectory_chart",props:{projectDistributionData:{},data:{},dates:{}},setup(X,{expose:w}){let B=X;const L=b("china"),z=b([]),j=b(null);let u=null;const x=b(),_=["åŒ—äº¬","ä¸Šæµ·","å¤©æ´¥","é‡åº†"],r=b("both"),v={åŒ—äº¬:"beijing",å¤©æ´¥:"tianjin",ä¸Šæµ·:"shanghai",é‡åº†:"chongqing",æ²³åŒ—:"hebei",å±±è¥¿:"shanxi",å†…è’™å¤:"neimenggu",è¾½å®:"liaoning",å‰æ—:"jilin",é»‘é¾™æ±Ÿ:"heilongjiang",æ±Ÿè‹:"jiangsu",æµ™æ±Ÿ:"zhejiang",å®‰å¾½:"anhui",ç¦å»º:"fujian",æ±Ÿè¥¿:"jiangxi",å±±ä¸œ:"shandong",æ²³å—:"henan",æ¹–åŒ—:"hubei",æ¹–å—:"hunan",å¹¿ä¸œ:"guangdong",å¹¿è¥¿:"guangxi",æµ·å—:"hainan",å››å·:"sichuan",è´µå·:"guizhou",äº‘å—:"yunnan",è¥¿è—:"xizang",é™•è¥¿:"shanxi1",ç”˜è‚ƒ:"gansu",é’æµ·:"qinghai",å®å¤:"ningxia",æ–°ç–†:"xinjiang",é¦™æ¸¯:"hongkong",æ¾³é—¨:"macau",å°æ¹¾:"taiwan"};function k(n){return{åŒ—äº¬:[116.4074,39.9042],å¤©æ´¥:[117.2,39.1333],æ²³åŒ—:[114.5025,38.0455],å±±è¥¿:[112.549,37.857],å†…è’™å¤:[111.6708,40.8183],è¾½å®:[123.4291,41.7968],å‰æ—:[125.3245,43.8868],é»‘é¾™æ±Ÿ:[126.6424,45.756],ä¸Šæµ·:[121.4737,31.2304],æ±Ÿè‹:[118.7674,32.0415],æµ™æ±Ÿ:[120.1536,30.2875],å®‰å¾½:[117.283,31.8612],ç¦å»º:[119.3062,26.0753],æ±Ÿè¥¿:[115.8922,28.6765],å±±ä¸œ:[117.0009,36.6758],æ²³å—:[113.6654,34.757],æ¹–åŒ—:[114.2986,30.5844],æ¹–å—:[112.9823,28.1941],å¹¿ä¸œ:[113.2806,23.1252],å¹¿è¥¿:[108.32,22.824],æµ·å—:[110.3312,20.031],é‡åº†:[106.504,29.533],å››å·:[104.0657,30.6595],è´µå·:[106.7135,26.5783],äº‘å—:[102.7123,25.0406],è¥¿è—:[91.1175,29.6469],é™•è¥¿:[108.948,34.2632],ç”˜è‚ƒ:[103.8233,36.0586],é’æµ·:[101.7789,36.6232],å®å¤:[106.2782,38.4663],æ–°ç–†:[87.6177,43.7928],å°æ¹¾:[121.5091,25.044],é¦™æ¸¯:[114.1734,22.3206],æ¾³é—¨:[113.5491,22.1987]}[n]||null}function A(n){const s=ht.find(d=>d.city===n);return s?[s.lng,s.lat]:null}async function me(){j.value&&(u=vt(j.value),await re("china"),window.addEventListener("resize",()=>u==null?void 0:u.resize()))}async function le(n){try{return(await yt(Object.assign({"../../../assets/map/anhui.json":()=>p(()=>import("./anhui-itXsmiYb.js"),[]),"../../../assets/map/aomen.json":()=>p(()=>import("./aomen-CvhUKNbQ.js"),[]),"../../../assets/map/beijing.json":()=>p(()=>import("./beijing-BY449fIP.js"),[]),"../../../assets/map/china.json":()=>p(()=>import("./china-VoTTtmff.js"),[]),"../../../assets/map/chongqing.json":()=>p(()=>import("./chongqing-CQxENMLR.js"),[]),"../../../assets/map/city.json":()=>p(()=>import("./juhe-D-RAbWAi.js").then(d=>d.d),__vite__mapDeps([0,1,2])),"../../../assets/map/fujian.json":()=>p(()=>import("./fujian-DMjqeJN6.js"),[]),"../../../assets/map/gansu.json":()=>p(()=>import("./gansu-CRFNUfIK.js"),[]),"../../../assets/map/guangdong.json":()=>p(()=>import("./guangdong-DrCxObPG.js"),[]),"../../../assets/map/guangxi.json":()=>p(()=>import("./guangxi-BpEUbHdK.js"),[]),"../../../assets/map/guizhou.json":()=>p(()=>import("./guizhou-BY1JCp8Q.js"),[]),"../../../assets/map/hainan.json":()=>p(()=>import("./hainan-D2Sf7JTA.js"),[]),"../../../assets/map/hebei.json":()=>p(()=>import("./hebei-DTrnS0O1.js"),[]),"../../../assets/map/heilongjiang.json":()=>p(()=>import("./heilongjiang-DAACJd-E.js"),[]),"../../../assets/map/henan.json":()=>p(()=>import("./henan-DIkIePKJ.js"),[]),"../../../assets/map/hubei.json":()=>p(()=>import("./hubei-Bwnp1LoM.js"),[]),"../../../assets/map/hunan.json":()=>p(()=>import("./hunan-JCtVINy3.js"),[]),"../../../assets/map/jiangsu.json":()=>p(()=>import("./jiangsu-CLS7jcCc.js"),[]),"../../../assets/map/jiangxi.json":()=>p(()=>import("./jiangxi-CNAW8yFe.js"),[]),"../../../assets/map/jilin.json":()=>p(()=>import("./jilin-Bi5EpTmL.js"),[]),"../../../assets/map/liaoning.json":()=>p(()=>import("./liaoning-Do0e7YUX.js"),[]),"../../../assets/map/neimenggu.json":()=>p(()=>import("./neimenggu-CFQ1EPad.js"),[]),"../../../assets/map/ningxia.json":()=>p(()=>import("./ningxia-Bd5m21w_.js"),[]),"../../../assets/map/qinghai.json":()=>p(()=>import("./qinghai-DZmk70v-.js"),[]),"../../../assets/map/shandong.json":()=>p(()=>import("./shandong-CSwMvLbR.js"),[]),"../../../assets/map/shanghai.json":()=>p(()=>import("./shanghai-Dcy8PZ0o.js"),[]),"../../../assets/map/shanxi.json":()=>p(()=>import("./shanxi-6IIkp01T.js"),[]),"../../../assets/map/shanxi1.json":()=>p(()=>import("./shanxi1-CYyZbQBJ.js"),[]),"../../../assets/map/sichuan.json":()=>p(()=>import("./sichuan-DbWrPnDk.js"),[]),"../../../assets/map/taiwan.json":()=>p(()=>import("./taiwan-5IN91H0y.js"),[]),"../../../assets/map/tianjin.json":()=>p(()=>import("./tianjin-DmXrewkB.js"),[]),"../../../assets/map/xianggang.json":()=>p(()=>import("./xianggang-CCDY8cPS.js"),[]),"../../../assets/map/xinjiang.json":()=>p(()=>import("./xinjiang-CTJGzQIj.js"),[]),"../../../assets/map/xizang.json":()=>p(()=>import("./xizang-DdTsLb_A.js"),[]),"../../../assets/map/yunnan.json":()=>p(()=>import("./yunnan-CVzIswEy.js"),[]),"../../../assets/map/zhejiang.json":()=>p(()=>import("./zhejiang-1lSaxhlD.js"),[])}),`../../../assets/map/${n}.json`,6)).default}catch{return console.warn("åœ°å›¾ä¸å­˜åœ¨ï¼š",n),null}}function Q(n){const s=n.features.flatMap(h=>h.geometry.coordinates.flat(2)),d=s.filter((h,T)=>T%2===0),c=s.filter((h,T)=>T%2===1);return[(Math.min(...d)+Math.max(...d))/2,(Math.min(...c)+Math.max(...c))/2]}const I=new Map,F=b({contractname:"",proname:"",dispatch:"",debugname:"",dbdbtime:""}),Z=async(n,s)=>{for(const d of n){const c=d.creater;if(!I.has(c)){const{data:h}=await Ie({pid:d.pid>0?d.pid:void 0,creater:d.creater});I.set(c,h)}}u==null||u.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:s})},ye=async n=>{const{data:s}=await Ie({pid:n.pid>0?n.pid:void 0,creater:n.creater});F.value=s,I.set(n.creater,s),u==null||u.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:n._index})};function fe(n){if(!n||!n.length)return[];const s=[],d=.01,c=new Set;for(let h=0;h<n.length;h++){if(c.has(h))continue;const T=n[h],O=[T];for(let E=h+1;E<n.length;E++){if(c.has(E))continue;const q=n[E],ie=Math.abs(T.longitude-q.longitude),J=Math.abs(T.latitude-q.latitude);ie<d&&J<d&&(O.push(q),c.add(E))}if(c.add(h),O.length===1)s.push({...T,value:[T.longitude,T.latitude],isCluster:!1,name:T.username||"æœªçŸ¥",_index:s.length});else{const E=O.map(M=>M.username||"æœªçŸ¥"),q=E.length>3?`${E.slice(0,3).join(", ")} ç­‰${E.length}äºº`:E.join(", "),ie=O.reduce((M,te)=>M+te.longitude,0)/O.length,J=O.reduce((M,te)=>M+te.latitude,0)/O.length;s.push({name:q,value:[ie,J],isCluster:!0,clusterData:O,_index:s.length})}}return s}const he=()=>{var d;const n=(d=x.value)==null?void 0:d.map(c=>{const h=c.coord||k(c.name);return!h||!c.counts||c.counts<=0?null:{name:c.name,value:[...h,c.counts],counts:c.counts}}).filter(Boolean),s=fe(B.data);return{countData:r.value==="count"||r.value==="both"?n:[],positionData:r.value==="position"||r.value==="both"?s:[]}};function be(n){return n}async function re(n){var ue;let s=await le(n);if(!s)return;n==="hainan"&&(s=s),gt(n,s);const d=(ue=x.value)==null?void 0:ue.map(i=>{const l=i.coord||k(i.name);return!l||!i.counts||i.counts<=0?null:{name:i.name,value:[...l,i.counts],counts:i.counts}}).filter(Boolean);Q(s);const c=d==null?void 0:d.filter(i=>i.counts>0),h=Math.max(...c.map(i=>i.counts),1),T=Math.min(...c.map(i=>i.counts),0),O=45,E=25,q=i=>{if(h===T)return E;const l=(O-E)/(h-T),C=E-l*T;return Math.max(l*i+C,E)},{countData:ie,positionData:J}=he(),M=n==="hainan",te={tooltip:{trigger:"item",backgroundColor:"transparent",borderWidth:0,extraCssText:"box-shadow:none; padding:0;",formatter:i=>{var C,de,ae,ne,G;if(!i.data)return"";const l=i.data;if(l.isCluster){Z(l.clusterData,l._index);let $=`<div style="
          min-width: 260px;
          font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
          font-size: 13px;
          color: #333;
          line-height: 1.6;
          background: #fff;
          border-radius: 10px;
          padding: 12px 14px 10px;
          box-shadow: 0 4px 14px rgba(0,0,0,0.15);
          border: 1px solid #f0f0f0;
        ">`;return l.clusterData.forEach(U=>{const N=I.get(U.creater);$+=`
            <div style="display:flex;margin-bottom:10px;">
              <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; margin-right:20px; width:50px;">
                <img src="${U.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png"}"
                    style="width:36px; height:36px; border-radius:50%;" />
                <div style="font-size:14px; font-weight:600; color:#1890ff; text-align:center; margin-top:4px;">
                  ${U.username||"æœªçŸ¥"}
                </div>
              </div>
              <div style="flex:1">
                <div style="font-size:14px;color:#333;"><b>æ‰“å¡æ—¶é—´ï¼š</b><span style="color:#1890ff;">${U.dbtime||"-"}</span></div>
                <div style="font-size:14px;color:#333;"><b>æ‰“å¡åœ°å€ï¼š</b><span style="color:#1890ff;">${U.address||"-"}</span></div>
                ${N?`
                    <div style="margin-top:4px;font-size:14px;">
                      <div style="color:#333;"><b>é¡¹ç›®åç§°ï¼š</b><span style="color:#1890ff;">${N.proname||"-"}</span></div>
                      <div style="color:#333;"><b>åˆåŒåç§°ï¼š</b><span style="color:#1890ff;">${N.contractname||"-"}</span></div>
                      <div style="color:#333;"><b>ä»»åŠ¡åç§°ï¼š</b><span style="color:#1890ff;">${N.debugname||"-"}</span></div>
                    </div>`:'<div style="color:#999;"></div>'}
              </div>
            </div>
            <hr style="border:0;border-top:1px dashed #e8e8e8;margin:6px 0;" />
          `}),$+="</div>",$}else{const $=l.creater;I.has($)?F.value=I.get($):(F.value={contractname:"",proname:"",dispatch:"",debugname:"",dbdbtime:""},ye(l));const U=F.value&&Object.values(F.value).some(je=>je);let N=`<div style="
          min-width: 260px;
          font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
          font-size: 14px;
          color: #333;
          line-height: 1.6;
          background: #fff;
          border-radius: 10px;
          padding: 12px 14px 10px;
          box-shadow: 0 4px 14px rgba(0,0,0,0.15);
          border: 1px solid #f0f0f0;
        ">
          <div style="display: flex; align-items: center; margin-bottom: 8px;">
            <img src="${l.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png"}" style="width:38px;height:38px;border-radius:50%;object-fit:cover;margin-right:10px;box-shadow:0 1px 4px rgba(0,0,0,0.15);" />
            <div>
              <div style="font-weight:bold;font-size:15px;color:#1890ff;">${l.username||"æœªçŸ¥äººå‘˜"}</div>
              <div style="font-size:12px;color:#999;">è°ƒè¯•äººå‘˜</div>
            </div>
          </div>
          <div style="border-top:1px dashed #e8e8e8;margin:6px 0;"></div>
          <div><b>æ‰“å¡æ—¶é—´ï¼š</b><span style="color:#1890ff;">${l.dbtime||"-"}</span></div>
          <div><b>åœ°å€ï¼š</b><span style="color:#1890ff;">${l.address||"-"}</span></div>`;return U?N+=`
            <div style="margin-top: 6px; font-weight: 500; color: #666;">é¡¹ç›®ä¿¡æ¯</div>
            <div><b>é¡¹ç›®åç§°ï¼š</b><span style="color:#1890ff;">${((C=F.value)==null?void 0:C.proname)||"-"}</span></div>
            <div><b>åˆåŒåç§°ï¼š</b><span style="color:#1890ff;">${((de=F.value)==null?void 0:de.contractname)||"-"}</span></div>
            <div><b>è°ƒåº¦åç§°ï¼š</b><span style="color:#1890ff;">${((ae=F.value)==null?void 0:ae.dispatch)||"-"}</span></div>
            <div><b>è°ƒè¯•ä»»åŠ¡ï¼š</b><span style="color:#1890ff;">${((ne=F.value)==null?void 0:ne.debugname)||"-"}</span></div>
            <div><b>å¼€å§‹æ—¶é—´ï¼š</b><span style="color:#1890ff;">${((G=F.value)==null?void 0:G.dbdbtime)||"-"}</span></div>
          `:N+=`<div><b>é¡¹ç›®åç§°ï¼š</b><span style="color:#1890ff;">${l.proname||"-"}</span></div>`,N+="</div>",N}}},geo:{map:n,roam:!0,zoom:M?8:1.2,scaleLimit:{min:1,max:15},center:M?[109.6,19.03]:null,label:{show:!0},itemStyle:{areaColor:"#f7f9fb",borderColor:"#d0d7de"},emphasis:{itemStyle:{areaColor:"#e6f4ff"}}},series:[{type:"scatter",name:"æ•°é‡ç‚¹",coordinateSystem:"geo",symbol:`image://${_t}`,zlevel:2,symbolSize:i=>q(i[2]),label:{show:!0,formatter:i=>i.value[2],color:"#fff",fontSize:10,fontWeight:"bold",textShadowColor:"rgba(0,0,0,0.45)",textShadowBlur:4,textShadowOffsetX:1,textShadowOffsetY:1},tooltip:{backgroundColor:"rgba(0,0,0,0.75)",borderWidth:0,extraCssText:"border-radius:8px; padding:8px 12px;",formatter:i=>{const l=i.data.counts||0;return`
              <div style="font-size:13px; line-height:1.6; color:#fff;">
                <div style="font-weight:600; margin-bottom:4px;">${i.data.name||""}</div>
                <div>
                  é¡¹ç›®æ•°é‡ï¼š
                  <span style="color:#FFD700; font-weight:600;">${l}</span>
                </div>
              </div>
            `}},itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#6fa8ff"},{offset:1,color:"#4169e1"}]},shadowColor:"rgba(65,105,225,0.45)",shadowBlur:12,shadowOffsetY:4},emphasis:{scale:!0,itemStyle:{shadowBlur:18,shadowColor:"rgba(65,105,225,0.7)"},label:{fontSize:12}},data:ie},{name:"ä½ç½®ç‚¹",type:"scatter",coordinateSystem:"geo",zlevel:3,symbolSize:(i,l)=>l.data.isCluster?16:12,symbol:"circle",label:{show:!0,position:"right",distance:0,formatter:i=>i.data.name,color:"#52c41a",fontWeight:600,fontSize:14,backgroundColor:"rgba(255,255,255,1)",padding:[5,5],borderRadius:6,borderColor:"rgba(82, 196, 26,0.4)",borderWidth:1,shadowColor:"rgba(82, 196, 26,0.4)",shadowBlur:4},itemStyle:{color:i=>(i.data.isCluster,"#52c41a"),borderColor:"#fff",borderWidth:2,shadowColor:i=>(i.data.isCluster,"rgba(82, 196, 26,0.6)"),shadowBlur:8},emphasis:{scale:!0,label:{fontSize:13,fontWeight:700},itemStyle:{shadowBlur:14}},data:J}]};u==null||u.setOption(te);const we=async i=>{var ne;const l=i.name,C=v[l];if(!C)return;if(z.value.push({map:L.value,data:x.value}),_.includes(l)){const G=(ne=x.value)==null?void 0:ne.find(U=>U.name===l);if(!G)return;const $=k(l);if(!$)return;L.value=C,x.value=[{name:l,counts:G.counts,coord:$}],await re(C);return}const ae=(await xe(l)).map(G=>{const $=A(G.name);return $?{...G,coord:$}:null}).filter(Boolean);L.value=C,x.value=ae,await re(C)};u==null||u.off("click"),u==null||u.on("click",i=>we(i))}async function W(){if(!z.value.length)return;const n=z.value.pop();L.value=n.map,x.value=n.data,await re(L.value)}const xe=async n=>{var h;const s=(h=B.projectDistributionData.find(T=>T.name===n))==null?void 0:h.id,{data:d,error:c}=await bt({pid:s});return console.log(d,"data"),d},ee=n=>{var d;if(r.value=n,!u)return;const s=(d=x.value)==null?void 0:d.map(c=>{const h=c.coord||k(c.name);return!h||!c.counts||c.counts<=0?null:{name:c.name,value:[...h,c.counts],counts:c.counts}}).filter(Boolean);u.setOption({series:[{name:"æ•°é‡ç‚¹",data:n==="count"||n==="both"?s:[]},{name:"ä½ç½®ç‚¹",data:n==="position"||n==="both"?fe(B.data):[]}]})};return w({toggleViewMode:ee}),ge(()=>B.projectDistributionData,async n=>{x.value=B.projectDistributionData,await Be(),me()},{deep:!0,immediate:!0}),(n,s)=>{const d=Ye,c=ft;return g(),D("div",$t,[m("div",Vt,[t(c,{size:"small"},{default:f(()=>[t(d,{type:r.value==="count"?"primary":"default",onClick:s[0]||(s[0]=h=>ee("count"))},{default:f(()=>s[3]||(s[3]=[y(" æ•°é‡ ")])),_:1,__:[3]},8,["type"]),t(d,{type:r.value==="position"?"primary":"default",onClick:s[1]||(s[1]=h=>ee("position"))},{default:f(()=>s[4]||(s[4]=[y(" ä½ç½® ")])),_:1,__:[4]},8,["type"]),t(d,{type:r.value==="both"?"primary":"default",onClick:s[2]||(s[2]=h=>ee("both"))},{default:f(()=>s[5]||(s[5]=[y(" å…¨éƒ¨ ")])),_:1,__:[5]},8,["type"])]),_:1}),z.value.length>0?(g(),H(d,{key:0,class:"ml-20px",size:"small",onClick:W},{default:f(()=>s[6]||(s[6]=[y(" è¿”å›ä¸Šä¸€çº§ ")])),_:1,__:[6]})):(g(),D("div",Bt))]),m("div",{ref_key:"chartRef",ref:j,class:"echart"},null,512)])}}}),Ft=Ee(Ot,[["__scopeId","data-v-e05695db"]]),Mt={class:"flex justify-between"},Nt={class:"clockInInfo"},Ht={style:{color:"#1890ff","font-weight":"700","font-size":"20px"}},Wt={style:{color:"#52c41a","font-weight":"700","font-size":"20px"}},Ut={style:{color:"#faad14","font-weight":"700","font-size":"20px"}},qt={style:{color:"#8a8886","font-weight":"700","font-size":"20px"}},Gt={key:0,class:"details"},Jt={class:"shrink-0 flex flex-col items-center justify-center w-20"},Yt=["src"],Kt={class:"mt-2 c-#52c41a text-sm font-bold text-center truncate w-full"},Xt={class:"flex-1 flex flex-col justify-center gap-1"},Qt={class:"flex text-sm"},Zt={class:"text-[#4169e1] font-semibold outPeopleText"},ea={class:"flex text-sm"},ta={class:"text-[#4169e1] font-semibold outPeopleText"},aa={class:"flex text-sm"},na={class:"text-[#4169e1] font-semibold outPeopleText"},oa={class:"mt-10px"},sa=_e({name:"home",__name:"index",setup(X){const w=Ke(),B=Se(),L=Xe(),z=ve(()=>B.isMobile?0:16),{pageData:j,getData:u}=kt(pt),x=async()=>{await u({usertypes:"2,3"}),j.data=j.data.filter(e=>e.status==0)},_=b("year"),r=b([{label:"æ—¥",value:"day"},{label:"æœˆ",value:"month"},{label:"å¹´",value:"year"},{label:"ç´¯è®¡",value:"total"}]),v=Le({dayTime:String(Te(0,null)),monthTime:String(Te(3,null)),yearTime:String(Te(4,null))}),k=b(null);async function A(e,a){var R;fe(),be(),ue(),(R=k.value)==null||R.toggleViewMode("both")}const me=e=>{var a;_.value=e,fe(),be(),ue(),(a=k.value)==null||a.toggleViewMode("both")},le=b([]),Q=b([]),I=b([]),F=b([]),Z=b([]),ye=b([]),fe=async()=>{const{data:e,error:a}=await Fe({s:_.value=="total"?void 0:_.value=="day"?v.dayTime:_.value=="month"?v.monthTime:v.yearTime});if(!a){le.value=e,Q.value=[{name:"æœªæ ¸å‡†",value:e.project.projectn1,color:"#a27ff9"},{name:"æœªå¼€å§‹",value:e.project.project0,color:"#9ca3af"},{name:"è¿›è¡Œä¸­",value:e.project.project1,color:"#3b82f6"},{name:"å¾…å®¡æ ¸",value:e.project.project2,color:"#facc15"},{name:"å·²å®Œæˆ",value:e.project.project3,color:"#22c55e"}],I.value=[{name:"æ­£å¸¸",value:e.project.proPtype0,color:"#22c55e"},{name:"å»¶æœŸ",value:e.project.proPtype1,color:"#ef4444"}],F.value=[{name:"ç°åœºè°ƒè¯•",value:e.project.proDtype0,color:"#fb923c"},{name:"è¿œç¨‹è°ƒè¯•",value:e.project.proDtype1,color:"#94d82d"},{name:"æ— éœ€è°ƒè¯•",value:e.project.proDtype2,color:"#9ca3af"}];const R=new Map(e==null?void 0:e.norms.map(S=>[S.creater,S.totalscore])),ce=new Map(e==null?void 0:e.debug.map(S=>[S.creater,S])),oe=j.data.map(S=>{const P=ce.get(S.id),se=R.get(S.id)??0;return{...S,totalscore:se,debug:P?P.debugs:0,username:S.username??(P==null?void 0:P.username)??null,userimage:S.userimage??(P==null?void 0:P.userimage)??null,total:se+(P?P.debugs:0)}});[3,5,6].includes(w.userInfo.usertype)?Z.value=oe.sort((S,P)=>P.debug-S.debug):Z.value=oe.sort((S,P)=>P.totalscore+P.debug-(S.totalscore+S.debug)),ye.value=[...Z.value]}},he=b([]),be=async()=>{const{data:e,error:a}=await Me({s:_.value=="total"?void 0:_.value=="day"?v.dayTime:_.value=="month"?v.monthTime:v.yearTime});a||(he.value=[{name:"ç”³è¯·ä¸­",value:e.debugn1,color:"#FB923C"},{name:"å¾…è°ƒè¯•",value:e.debug0,color:"#9ca3af"},{name:"å¼€å§‹è°ƒè¯•",value:e.debug1,color:"#3B82F6"},{name:"å¾…å®¡æ ¸",value:e.debug2,color:"#FACC15"},{name:"å®¡æ ¸å®Œæˆ",value:e.debug3,color:"#10B981"}])},re=[{key:"proname",width:300,title(){return t("div",{class:"font-size-16px font-bold"},[y("è¿‘æœŸé¡¹ç›®")])},ellipsis:{tooltip:!0},render:e=>{if(e.status===null)return null;const a=it(jt[e.status]);return t("div",null,[t(ut,{placement:"top",trigger:"hover"},{trigger:()=>t("div",{class:"cursor-pointer text-ellipsis overflow-hidden whitespace-nowrap font-bold",onClick:()=>$(e),style:"max-width: 280px;"},[e.proname||"-"]),default:()=>e.proname||"-"}),t("div",{style:"display:flex; gap:3px; line-height:1.4;"},[t("div",{class:" flex"},[t("span",{style:"color:#666"},[y("è¿›åº¦ï¼š")]),t(dt,{type:"line",style:"width: 100px;",showIndicator:!0,percentage:e.progess,"indicator-placement":"inside",processing:!0,color:e.progess==100?"#22C55E":"#1890ff"},null)]),t("div",{class:" flex ml-8px"},[t("span",{style:"color:#666 flex"},[y("çŠ¶æ€ï¼š")]),t("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:e.status===0?"#9ca3af":e.status===1?"#3B82F6":e.status===2?"#f1c40f":"#2ecc71",borderRadius:"50%"}},[t("span",{style:{width:"10px",height:"10px",marginRight:"5px",backgroundColor:e.status===0?"#9ca3af":e.status===1?"#3B82F6":e.status===2?"#f1c40f":"#2ecc71",borderRadius:"50%"}},null),t("span",null,[a])])])])])}},{key:"clockinusername",title:"æœ€åæ‰“å¡ä¿¡æ¯",align:"left",width:220,render(e){return t("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[t("div",null,[t("span",{style:"color:#666"},[y("æ—¶é—´ï¼š")]),t("span",{style:" font-weight:500"},[e.lastclockintime||"-"])]),t("div",null,[t("span",{style:"color:#666"},[y("æ‰“å¡äººï¼š")]),t("span",{style:"font-weight:500"},[e.clockinusername||"-"])])])}},{key:"clockincounts",title:"æ‰“å¡ä¿¡æ¯",align:"left",width:200,render(e){return t("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[t("div",null,[t("span",{style:"color:#666"},[y("æ‰“å¡äººæ•°ï¼š")]),t("span",{style:"font-weight:500"},[e.clockincounts!=null?e.clockincounts+"äºº":"-"])]),t("div",null,[t("span",{style:"color:#666"},[y("æ‰“å¡äººï¼š")]),t("span",{style:" font-weight:500"},[e.clockinusers||"-"])])])}},{key:"debugname",title:"è°ƒè¯•ä»»åŠ¡ä¿¡æ¯",align:"left",width:260,render(e){return t("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[t("div",null,[t("span",{style:"color:#666"},[y("ä»»åŠ¡åç§°ï¼š")]),t("span",{style:"font-weight:500"},[e.debugname||"-"])]),t("div",null,[t("span",{style:"color:#666"},[y("çŠ¶æ€ï¼š")]),t(ct,{size:"small",color:{color:e.debugstatus==-1?"rgba(251, 146, 60, 0.15)":e.debugstatus==0?"rgba(156, 163, 175, 0.15)":e.debugstatus==1?"rgba(59, 130, 246, 0.15)":e.debugstatus==2?"rgba(250, 204, 21, 0.15)":"rgba(16, 185, 129, 0.15)",textColor:e.debugstatus==-1?"#FB923C":e.debugstatus==0?"#9CA3AF":e.debugstatus==1?"#3B82F6":e.debugstatus==2?"#FACC15":"#10B981",borderColor:e.debugstatus==-1?"#FB923C":e.debugstatus==0?"#9CA3AF":e.debugstatus==1?"#3B82F6":e.debugstatus==2?"#FACC15":"#10B981"}},{default:()=>[e.debugstatus==-1?"ç”³è¯·ä¸­":e.debugstatus==0?"å¾…è°ƒè¯•":e.debugstatus==1?"å¼€å§‹è°ƒè¯•":e.debugstatus==2?"å¾…å®¡æ ¸":"å®¡æ ¸å®Œæˆ"]})])])}},{key:"username",title:"è°ƒè¯•ä¿¡æ¯",align:"left",width:230,render(e){return t("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[t("div",null,[t("span",{style:"color:#666"},[y("æ—¶é—´ï¼š")]),t("span",{style:" font-weight:500"},[e.dbdbtime||"-"])]),t("div",null,[t("span",{style:"color:#666"},[y("è°ƒè¯•äººï¼š")]),t("span",{style:"font-weight:500"},[e.username||"-"])])])}},{title:"ä»»åŠ¡å®¡æ ¸æ—¶é—´",key:"ckdbtime",width:120}],W=Le({page:1,pageSize:20,showSizePicker:!0,fuzzy:"",itemCount:0,pageSizes:[10,20],prefix:()=>`å…± ${W.itemCount} æ¡`,onChange:e=>{W.page=e,ee()},onUpdatePageSize:e=>{W.pageSize=e,W.page=1,ee()}}),xe=b([]),ee=async()=>{const{data:e,error:a}=await Qe({page:W.page,limit:W.pageSize});a||(xe.value=e.list,W.itemCount=e.total)},n=b([]),s=async()=>{const{data:e,error:a}=await xt();a||(n.value=e)},d=ve(()=>n.value.filter(e=>e.pid!=-1)),c=ve(()=>n.value.filter(e=>e.pid==-1)),h=ve(()=>j.data.filter(e=>!n.value.some(a=>a.creater==e.id))),T=ve(()=>d.value.length),O=ve(()=>c.value.length),E=b(!1),q=b("allPeople"),ie=()=>{E.value=!E.value},J=b(null),M=b(null),te=b([]),we=b(""),ue=async()=>{const{data:e,error:a}=await wt({});a||(we.value=_.value=="total"?void 0:_.value=="day"?v.dayTime:_.value=="month"?v.monthTime:v.yearTime,te.value=e)},i=()=>{if(!l.value)return;const e=l.value.children[0];let a=l.value.querySelector(".clone");a?a.innerHTML=e.innerHTML:(a=e.cloneNode(!0),a.classList.add("clone"),l.value.appendChild(a)),a.style.display="block"},l=b(null);let C=null;const de=()=>{if(!l.value)return;C&&clearInterval(C);const e=l.value,a=e.children[0],R=e.querySelector(".clone");R&&(R.style.display="block",C=window.setInterval(()=>{e.scrollTop+=1,e.scrollTop>=a.scrollHeight&&(e.scrollTop=0)},30))},ae=()=>{if(C&&(clearInterval(C),C=null),l.value){const e=l.value.querySelector(".clone");e&&(e.style.display="none"),l.value.scrollTop=0}};$e(async()=>{x(),ne(),s(),ue(),J.value=window.setInterval(ne,1e3*60*5),M.value=window.setInterval(s,1e3*60*5),setTimeout(()=>{if(l.value=document.querySelector(".n-scrollbar-container"),!l.value)return;const e=l.value.children[0];if(!l.value.querySelector(".clone")){const a=e.cloneNode(!0);a.classList.add("clone"),l.value.appendChild(a)}l.value.addEventListener("mouseenter",ae),l.value.addEventListener("mouseleave",de),de()},1e3)}),Ze(()=>{J.value&&clearInterval(J.value),M.value&&clearInterval(M.value),C&&clearInterval(C)});function ne(){fe(),be(),ee(),ue()}const G=e=>{L.push({path:"/trajectory/realtimetrajectory"})},$=e=>{L.push("/projectmanagement/orderdetail?prjId="+e.id),w.setProjectInfo({pid:e.id,pname:e.proname})},U=e=>{setTimeout(()=>ae(),200),e.order?Z.value.sort((a,R)=>{const ce=a[e.columnKey]||0,oe=R[e.columnKey]||0;return e.order==="ascend"?ce-oe:oe-ce}):Z.value=[...ye.value],Be(()=>{i(),ae(),de()})},N=[{title:()=>t("div",{class:"text-[12px] font-medium"},[y("æ’å")]),key:"rank",width:40,align:"center",render:(e,a)=>t("div",{class:["rank-index",{first:a===0,second:a===1,third:a===2}]},[a+1])},{title:()=>t("div",{class:"text-[12px] font-medium"},[y("è°ƒè¯•äºº")]),key:"username",width:80,align:"center",render:e=>t("div",{class:"flex-col items-center"},[t("img",{src:e.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png",class:"w-6 h-6 rounded-full"},null),t("span",null,[e.username])])},{title:()=>t("div",{class:"text-[12px] font-medium"},[y("è°ƒè¯•ç§¯åˆ†")]),key:"debug",width:80,sorter:!0,align:"center"},{title:()=>t("div",{class:"text-[12px] font-medium"},[y("è¡Œä¸ºå¾—åˆ†")]),key:"totalscore",width:80,sorter:!0,align:"center"},{title:()=>t("div",{class:"text-[12px] font-medium"},[y("æ€»å¾—åˆ†")]),key:"total",width:80,sorter:!0,align:"center"}],je=[{title:()=>t("div",{class:"text-[12px] font-medium"},[y("æ’å")]),key:"rank",width:40,align:"center",render:(e,a)=>t("div",{class:["rank-index",{first:a===0,second:a===1,third:a===2}]},[a+1])},{title:()=>t("div",{class:"text-[12px] font-medium"},[y("è°ƒè¯•äºº")]),key:"username",width:80,align:"center",render:e=>t("div",{class:"flex items-center justify-center"},[t("img",{src:e.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png",class:"w-6 h-6 mr-5px rounded-full"},null),t("span",null,[e.username])])},{title:()=>t("div",{class:"text-[12px] font-medium"},[y("è°ƒè¯•ç§¯åˆ†")]),key:"debug",width:80,sorter:!0,align:"center"}];return(e,a)=>{const R=Dt,ce=Ct,oe=tt,S=et,P=Ve,se=He,ke=st,We=lt,Ue=ot,qe=St,Pe=rt,ze=Ne;return g(),H(S,{vertical:"",size:16},{default:f(()=>[t(ze,{"x-gap":z.value,"y-gap":16,responsive:"screen","item-responsive":""},{default:f(()=>[t(se,{span:"24 s:24 m:6"},{default:f(()=>[t(P,{size:"small",title:"",bordered:!1,class:"h-full card-wrapper"},{header:f(()=>[t(It)]),default:f(()=>[m("div",Mt,[a[9]||(a[9]=m("h2",null,null,-1)),t(S,null,{default:f(()=>[_.value==="day"?(g(),H(R,{key:0,size:"small","formatted-value":v.dayTime,"onUpdate:formattedValue":[a[0]||(a[0]=o=>v.dayTime=o),A],type:"date","value-format":"yyyy-MM-dd",style:{width:"120px"}},null,8,["formatted-value"])):pe("",!0),_.value==="month"?(g(),H(R,{key:1,size:"small","formatted-value":v.monthTime,"onUpdate:formattedValue":[a[1]||(a[1]=o=>v.monthTime=o),A],type:"month","value-format":"yyyy-MM",style:{width:"120px"}},null,8,["formatted-value"])):pe("",!0),_.value==="year"?(g(),H(R,{key:2,size:"small","formatted-value":v.yearTime,"onUpdate:formattedValue":[a[2]||(a[2]=o=>v.yearTime=o),A],type:"year","value-format":"yyyy",style:{width:"120px"}},null,8,["formatted-value"])):pe("",!0),t(oe,{value:_.value,"onUpdate:value":[a[3]||(a[3]=o=>_.value=o),me],size:"small"},{default:f(()=>[(g(!0),D(K,null,Y(r.value,o=>(g(),H(ce,{key:o.value,value:o.value,label:o.label},null,8,["value","label"]))),128))]),_:1},8,["value"])]),_:1})]),t(Re,{data:Q.value,name:"é¡¹ç›®æ€»æ•°"},null,8,["data"]),t(Rt,{data:le.value,name:"é¡¹ç›®æ€»æ•°"},null,8,["data"]),t(Re,{data:he.value,name:"è°ƒè¯•æ€»æ•°"},null,8,["data"])]),_:1})]),_:1}),t(se,{span:"24 s:24 m:18"},{default:f(()=>[t(ze,{"x-gap":z.value,"y-gap":16,responsive:"screen","item-responsive":"",class:"h-100%"},{default:f(()=>[t(se,{span:"24 s:24 m:16"},{default:f(()=>[t(P,{size:"small",title:"",bordered:!1,class:"h-full card-wrapper","header-style":{padding:"12px 16px"}},{header:f(()=>[a[21]||(a[21]=m("span",{style:{"font-weight":"600","font-size":"16px","margin-right":"16px"}},"å®æ—¶è½¨è¿¹",-1)),m("div",Nt,[m("div",{class:"title",onClick:ie,style:{display:"flex","align-items":"center",gap:"16px","font-size":"16px"}},[m("span",null,[a[10]||(a[10]=y(" å…± ")),m("span",Ht,V(Ce(j).data.length),1),a[11]||(a[11]=y(" äºº "))]),m("span",null,[a[12]||(a[12]=y(" ä»Šæ—¥å¤–å‹¤äººæ•°ï¼š ")),m("span",Wt,V(T.value),1),a[13]||(a[13]=y(" äºº "))]),m("span",null,[a[14]||(a[14]=y(" å…¬å¸äººæ•°ï¼š ")),m("span",Ut,V(O.value),1),a[15]||(a[15]=y(" äºº "))]),m("span",null,[a[16]||(a[16]=y(" æœªçŸ¥ï¼š ")),m("span",qt,V(Ce(j).data.length-T.value-O.value),1),a[17]||(a[17]=y(" äºº "))]),m("span",{class:at(["arrow",{open:E.value}])},"â–¼",2)]),t(nt,{name:"slide"},{default:f(()=>[E.value?(g(),D("div",Gt,[t(Ue,{value:q.value,"onUpdate:value":a[4]||(a[4]=o=>q.value=o),type:"card",animated:""},{default:f(()=>[t(ke,{name:"allPeople",tab:"å…¨éƒ¨è°ƒè¯•å‘˜å·¥"},{default:f(()=>[(g(!0),D(K,null,Y(d.value,o=>(g(),D("span",{class:"outPeople",key:o.id},V(o.username),1))),128)),(g(!0),D(K,null,Y(c.value,o=>(g(),D("span",{class:"inPeople",key:o.id},V(o.username),1))),128)),(g(!0),D(K,null,Y(h.value,o=>(g(),D("span",{class:"unknown",key:o.id},V(o.username),1))),128))]),_:1}),t(ke,{name:"outPeople",tab:"å¤–å‹¤äººå‘˜"},{default:f(()=>[t(We,{style:{"max-height":"500px"}},{default:f(()=>[(g(!0),D(K,null,Y(d.value,o=>(g(),D("div",{key:o.id,class:"mb-4 bg-white outPeopleBg rounded-lg shadow-sm hover:shadow-md transition-shadow flex"},[m("div",Jt,[m("img",{class:"w30px h-30px rounded-full shadow",src:o.userImage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png",alt:"å¤´åƒ"},null,8,Yt),m("div",Kt,V(o.username),1)]),m("div",Xt,[m("div",Qt,[a[18]||(a[18]=m("span",{class:"whitespace-nowrap"},"ğŸ—ï¸ é¡¹ç›®åç§°ï¼š",-1)),m("span",Zt,V(o.proname||"æš‚æ— é¡¹ç›®"),1)]),m("div",ea,[a[19]||(a[19]=m("span",{class:"whitespace-nowrap"},"ğŸ“… æœ€è¿‘ä¸€æ¬¡æ‰“å¡æ—¶é—´ï¼š",-1)),m("span",ta,V(o.dbtime||"æ— "),1)]),m("div",aa,[a[20]||(a[20]=m("span",{class:"whitespace-nowrap"},"ğŸ“ åœ°å€ï¼š",-1)),m("span",na,V(o.address),1)])])]))),128))]),_:1})]),_:1}),t(ke,{name:"inPeople",tab:"å…¬å¸äººå‘˜"},{default:f(()=>[(g(!0),D(K,null,Y(c.value,o=>(g(),D("span",{class:"inPeople",key:o.id},V(o.username),1))),128))]),_:1}),t(ke,{name:"unknownPeople",tab:"æœªçŸ¥äººå‘˜"},{default:f(()=>[(g(!0),D(K,null,Y(h.value,o=>(g(),D("span",{class:"unknown",key:o.id},V(o.username),1))),128))]),_:1})]),_:1},8,["value"])])):pe("",!0)]),_:1})])]),"header-extra":f(()=>[m("span",{title:"è¯¦æƒ…",onClick:G},[t(qe,{class:"font-size-24px cursor-pointer"})])]),default:f(()=>[t(Ft,{ref_key:"trajectoryChartRef",ref:k,dates:we.value,projectDistributionData:te.value,data:n.value,name:"å®æ—¶è½¨è¿¹"},null,8,["dates","projectDistributionData","data"])]),_:1})]),_:1}),t(se,{span:"24 s:24 m:8"},{default:f(()=>[t(P,{size:"small",title:"",bordered:!1,class:"h-full card-wrapper"},{header:f(()=>[a[22]||(a[22]=m("h2",null,"é¡¹ç›®è°ƒè¯•ç§¯åˆ†æ’è¡Œæ¦œ",-1)),t(S,{justify:"start"},{default:f(()=>[t(oe,{value:_.value,"onUpdate:value":[a[5]||(a[5]=o=>_.value=o),me],size:"small"},{default:f(()=>[(g(!0),D(K,null,Y(r.value,o=>(g(),H(ce,{key:o.value,value:o.value,label:o.label},null,8,["value","label"]))),128))]),_:1},8,["value"]),_.value==="day"?(g(),H(R,{key:0,size:"small","formatted-value":v.dayTime,"onUpdate:formattedValue":[a[6]||(a[6]=o=>v.dayTime=o),A],type:"date","value-format":"yyyy-MM-dd",style:{width:"120px"}},null,8,["formatted-value"])):pe("",!0),_.value==="month"?(g(),H(R,{key:1,size:"small","formatted-value":v.monthTime,"onUpdate:formattedValue":[a[7]||(a[7]=o=>v.monthTime=o),A],type:"month","value-format":"yyyy-MM",style:{width:"120px"}},null,8,["formatted-value"])):pe("",!0),_.value==="year"?(g(),H(R,{key:2,size:"small","formatted-value":v.yearTime,"onUpdate:formattedValue":[a[8]||(a[8]=o=>v.yearTime=o),A],type:"year","value-format":"yyyy",style:{width:"120px"}},null,8,["formatted-value"])):pe("",!0)]),_:1})]),default:f(()=>[t(Pe,{ref:"tableContainer",class:"rankTable",remote:"","onUpdate:sorter":U,columns:[3,5,6].includes(Ce(w).userInfo.usertype)?je:N,"scroll-x":([3,5,6].includes(Ce(w).userInfo.usertype)?je:N).reduce((o,De)=>o+(De.width||100),0),data:Z.value,bordered:!1,"max-height":540},null,8,["columns","scroll-x","data"])]),_:1})]),_:1}),t(se,{span:"24 s:24 m:24"},{default:f(()=>[t(P,{size:"small",title:"",bordered:!1,class:"h-full card-wrapper","header-style":{padding:"12px 16px 0px"}},{header:f(()=>a[23]||(a[23]=[])),default:f(()=>[m("div",oa,[t(Pe,{ref:"tableContainer",remote:"",pagination:W.pageSize==1?!1:W,"scroll-x":re.reduce((o,De)=>o+(De.width||100),0),columns:re,data:xe.value,bordered:!1,"max-height":300},null,8,["pagination","scroll-x","data"])])]),_:1})]),_:1})]),_:1},8,["x-gap"])]),_:1})]),_:1},8,["x-gap"])]),_:1})}}}),fa=Ee(sa,[["__scopeId","data-v-1b04ed88"]]);export{fa as default};
