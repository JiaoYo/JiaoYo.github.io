const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/juhe-C704FkDL.js","assets/index-DCPTYPg6.js","assets/index-BDgfg9qr.css"])))=>i.map(i=>d[i]);
import{d as de,b as A,o as C,e as p,a7 as Ie,W as be,s as P,a_ as Kt,a as ge,h as z,a$ as bt,c as ce,w as $,G as he,t as L,aM as xt,i as jt,f as r,aP as ue,b0 as fe,a2 as Jt,_ as wt,aJ as Ze,au as ye,aE as Tt,B as Ct,g as x,b1 as y,z as Xt,Z as Zt,Y as Qt,D as Ue,aT as We,b2 as ea,a1 as ta,b3 as aa,J as na,b4 as oa,b5 as ra,b6 as sa,a3 as ia,ax as la,b7 as st,$ as ua,aO as ca,aA as da,aD as pa,aU as fa}from"./index-DCPTYPg6.js";import{i as ve,b as ze,r as Se,a as $e,f as ma}from"./isObjectLike-BXZHaRQF.js";import{_ as va,u as Dt,a as Pt,i as _a,r as ga,p as ha,b as ya,c as ba}from"./juhe-C704FkDL.js";import{f as St,a as $t,b as xa,c as it,d as ja,e as wa}from"./home-BOzmwSDN.js";import{_ as Ta,a as Ca}from"./Grid-p0WIMYG_.js";import{p as Da}from"./business-lhu-rMxc.js";import{u as Pa}from"./usePageData-BUYwLNSk.js";import{_ as Sa}from"./DatePicker-BbdERBWx.js";const $a={class:"loader-overlay"},Ea=de({__name:"loading",props:{color:{default:"#1890ff"}},setup(e){const t=e;return(a,s)=>(C(),A("div",$a,[p("div",{class:"loader",style:Ie({"--c":`no-repeat linear-gradient(${t.color} 0 0)`})},null,4)]))}}),Aa=be(Ea,[["__scopeId","data-v-c4fc24aa"]]);var Ye=Array.isArray;function Et(e){return e}var ka="[object AsyncFunction]",Oa="[object Function]",Ia="[object GeneratorFunction]",La="[object Proxy]";function Qe(e){if(!ve(e))return!1;var t=ze(e);return t==Oa||t==Ia||t==ka||t==La}var qe=Se["__core-js_shared__"],lt=function(){var e=/[^.]+$/.exec(qe&&qe.keys&&qe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function za(e){return!!lt&&lt in e}var Ra=Function.prototype,Fa=Ra.toString;function Ba(e){if(e!=null){try{return Fa.call(e)}catch{}try{return e+""}catch{}}return""}var Ma=/[\\^$.*+?()[\]{}|]/g,Va=/^\[object .+?Constructor\]$/,Na=Function.prototype,Ha=Object.prototype,Ua=Na.toString,Wa=Ha.hasOwnProperty,qa=RegExp("^"+Ua.call(Wa).replace(Ma,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ga(e){if(!ve(e)||za(e))return!1;var t=Qe(e)?qa:Va;return t.test(Ba(e))}function Ya(e,t){return e==null?void 0:e[t]}function et(e,t){var a=Ya(e,t);return Ga(a)?a:void 0}var ut=Object.create,Ka=function(){function e(){}return function(t){if(!ve(t))return{};if(ut)return ut(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();function Ja(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function Xa(e,t){var a=-1,s=e.length;for(t||(t=Array(s));++a<s;)t[a]=e[a];return t}var Za=800,Qa=16,en=Date.now;function tn(e){var t=0,a=0;return function(){var s=en(),l=Qa-(s-a);if(a=s,l>0){if(++t>=Za)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function an(e){return function(){return e}}var Le=function(){try{var e=et(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nn=Le?function(e,t){return Le(e,"toString",{configurable:!0,enumerable:!1,value:an(t),writable:!0})}:Et,on=tn(nn),rn=9007199254740991,sn=/^(?:0|[1-9]\d*)$/;function At(e,t){var a=typeof e;return t=t??rn,!!t&&(a=="number"||a!="symbol"&&sn.test(e))&&e>-1&&e%1==0&&e<t}function tt(e,t,a){t=="__proto__"&&Le?Le(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function Re(e,t){return e===t||e!==e&&t!==t}var ln=Object.prototype,un=ln.hasOwnProperty;function cn(e,t,a){var s=e[t];(!(un.call(e,t)&&Re(s,a))||a===void 0&&!(t in e))&&tt(e,t,a)}function dn(e,t,a,s){var l=!a;a||(a={});for(var u=-1,m=t.length;++u<m;){var i=t[u],c=void 0;c===void 0&&(c=e[i]),l?tt(a,i,c):cn(a,i,c)}return a}var ct=Math.max;function pn(e,t,a){return t=ct(t===void 0?e.length-1:t,0),function(){for(var s=arguments,l=-1,u=ct(s.length-t,0),m=Array(u);++l<u;)m[l]=s[t+l];l=-1;for(var i=Array(t+1);++l<t;)i[l]=s[l];return i[t]=a(m),Ja(e,this,i)}}function fn(e,t){return on(pn(e,t,Et),e+"")}var mn=9007199254740991;function kt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=mn}function at(e){return e!=null&&kt(e.length)&&!Qe(e)}function vn(e,t,a){if(!ve(a))return!1;var s=typeof t;return(s=="number"?at(a)&&At(t,a.length):s=="string"&&t in a)?Re(a[t],e):!1}function _n(e){return fn(function(t,a){var s=-1,l=a.length,u=l>1?a[l-1]:void 0,m=l>2?a[2]:void 0;for(u=e.length>3&&typeof u=="function"?(l--,u):void 0,m&&vn(a[0],a[1],m)&&(u=l<3?void 0:u,l=1),t=Object(t);++s<l;){var i=a[s];i&&e(t,i,s,u)}return t})}var gn=Object.prototype;function Ot(e){var t=e&&e.constructor,a=typeof t=="function"&&t.prototype||gn;return e===a}function hn(e,t){for(var a=-1,s=Array(e);++a<e;)s[a]=t(a);return s}var yn="[object Arguments]";function dt(e){return $e(e)&&ze(e)==yn}var It=Object.prototype,bn=It.hasOwnProperty,xn=It.propertyIsEnumerable,Ke=dt(function(){return arguments}())?dt:function(e){return $e(e)&&bn.call(e,"callee")&&!xn.call(e,"callee")};function jn(){return!1}var Lt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pt=Lt&&typeof module=="object"&&module&&!module.nodeType&&module,wn=pt&&pt.exports===Lt,ft=wn?Se.Buffer:void 0,Tn=ft?ft.isBuffer:void 0,zt=Tn||jn,Cn="[object Arguments]",Dn="[object Array]",Pn="[object Boolean]",Sn="[object Date]",$n="[object Error]",En="[object Function]",An="[object Map]",kn="[object Number]",On="[object Object]",In="[object RegExp]",Ln="[object Set]",zn="[object String]",Rn="[object WeakMap]",Fn="[object ArrayBuffer]",Bn="[object DataView]",Mn="[object Float32Array]",Vn="[object Float64Array]",Nn="[object Int8Array]",Hn="[object Int16Array]",Un="[object Int32Array]",Wn="[object Uint8Array]",qn="[object Uint8ClampedArray]",Gn="[object Uint16Array]",Yn="[object Uint32Array]",E={};E[Mn]=E[Vn]=E[Nn]=E[Hn]=E[Un]=E[Wn]=E[qn]=E[Gn]=E[Yn]=!0;E[Cn]=E[Dn]=E[Fn]=E[Pn]=E[Bn]=E[Sn]=E[$n]=E[En]=E[An]=E[kn]=E[On]=E[In]=E[Ln]=E[zn]=E[Rn]=!1;function Kn(e){return $e(e)&&kt(e.length)&&!!E[ze(e)]}function Jn(e){return function(t){return e(t)}}var Rt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,De=Rt&&typeof module=="object"&&module&&!module.nodeType&&module,Xn=De&&De.exports===Rt,Ge=Xn&&ma.process,mt=function(){try{var e=De&&De.require&&De.require("util").types;return e||Ge&&Ge.binding&&Ge.binding("util")}catch{}}(),vt=mt&&mt.isTypedArray,Ft=vt?Jn(vt):Kn;function Zn(e,t){var a=Ye(e),s=!a&&Ke(e),l=!a&&!s&&zt(e),u=!a&&!s&&!l&&Ft(e),m=a||s||l||u,i=m?hn(e.length,String):[],c=i.length;for(var f in e)m&&(f=="length"||l&&(f=="offset"||f=="parent")||u&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||At(f,c))||i.push(f);return i}function Qn(e,t){return function(a){return e(t(a))}}function eo(e){var t=[];if(e!=null)for(var a in Object(e))t.push(a);return t}var to=Object.prototype,ao=to.hasOwnProperty;function no(e){if(!ve(e))return eo(e);var t=Ot(e),a=[];for(var s in e)s=="constructor"&&(t||!ao.call(e,s))||a.push(s);return a}function Bt(e){return at(e)?Zn(e):no(e)}var Pe=et(Object,"create");function oo(){this.__data__=Pe?Pe(null):{},this.size=0}function ro(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var so="__lodash_hash_undefined__",io=Object.prototype,lo=io.hasOwnProperty;function uo(e){var t=this.__data__;if(Pe){var a=t[e];return a===so?void 0:a}return lo.call(t,e)?t[e]:void 0}var co=Object.prototype,po=co.hasOwnProperty;function fo(e){var t=this.__data__;return Pe?t[e]!==void 0:po.call(t,e)}var mo="__lodash_hash_undefined__";function vo(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=Pe&&t===void 0?mo:t,this}function me(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}me.prototype.clear=oo;me.prototype.delete=ro;me.prototype.get=uo;me.prototype.has=fo;me.prototype.set=vo;function _o(){this.__data__=[],this.size=0}function Fe(e,t){for(var a=e.length;a--;)if(Re(e[a][0],t))return a;return-1}var go=Array.prototype,ho=go.splice;function yo(e){var t=this.__data__,a=Fe(t,e);if(a<0)return!1;var s=t.length-1;return a==s?t.pop():ho.call(t,a,1),--this.size,!0}function bo(e){var t=this.__data__,a=Fe(t,e);return a<0?void 0:t[a][1]}function xo(e){return Fe(this.__data__,e)>-1}function jo(e,t){var a=this.__data__,s=Fe(a,e);return s<0?(++this.size,a.push([e,t])):a[s][1]=t,this}function oe(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}oe.prototype.clear=_o;oe.prototype.delete=yo;oe.prototype.get=bo;oe.prototype.has=xo;oe.prototype.set=jo;var Mt=et(Se,"Map");function wo(){this.size=0,this.__data__={hash:new me,map:new(Mt||oe),string:new me}}function To(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Be(e,t){var a=e.__data__;return To(t)?a[typeof t=="string"?"string":"hash"]:a.map}function Co(e){var t=Be(this,e).delete(e);return this.size-=t?1:0,t}function Do(e){return Be(this,e).get(e)}function Po(e){return Be(this,e).has(e)}function So(e,t){var a=Be(this,e),s=a.size;return a.set(e,t),this.size+=a.size==s?0:1,this}function xe(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}xe.prototype.clear=wo;xe.prototype.delete=Co;xe.prototype.get=Do;xe.prototype.has=Po;xe.prototype.set=So;var Vt=Qn(Object.getPrototypeOf,Object),$o="[object Object]",Eo=Function.prototype,Ao=Object.prototype,Nt=Eo.toString,ko=Ao.hasOwnProperty,Oo=Nt.call(Object);function Io(e){if(!$e(e)||ze(e)!=$o)return!1;var t=Vt(e);if(t===null)return!0;var a=ko.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&Nt.call(a)==Oo}function Lo(){this.__data__=new oe,this.size=0}function zo(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}function Ro(e){return this.__data__.get(e)}function Fo(e){return this.__data__.has(e)}var Bo=200;function Mo(e,t){var a=this.__data__;if(a instanceof oe){var s=a.__data__;if(!Mt||s.length<Bo-1)return s.push([e,t]),this.size=++a.size,this;a=this.__data__=new xe(s)}return a.set(e,t),this.size=a.size,this}function je(e){var t=this.__data__=new oe(e);this.size=t.size}je.prototype.clear=Lo;je.prototype.delete=zo;je.prototype.get=Ro;je.prototype.has=Fo;je.prototype.set=Mo;var Ht=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_t=Ht&&typeof module=="object"&&module&&!module.nodeType&&module,Vo=_t&&_t.exports===Ht,gt=Vo?Se.Buffer:void 0;gt&&gt.allocUnsafe;function No(e,t){return e.slice()}var ht=Se.Uint8Array;function Ho(e){var t=new e.constructor(e.byteLength);return new ht(t).set(new ht(e)),t}function Uo(e,t){var a=Ho(e.buffer);return new e.constructor(a,e.byteOffset,e.length)}function Wo(e){return typeof e.constructor=="function"&&!Ot(e)?Ka(Vt(e)):{}}function qo(e){return function(t,a,s){for(var l=-1,u=Object(t),m=s(t),i=m.length;i--;){var c=m[++l];if(a(u[c],c,u)===!1)break}return t}}var Go=qo();function Je(e,t,a){(a!==void 0&&!Re(e[t],a)||a===void 0&&!(t in e))&&tt(e,t,a)}function Yo(e){return $e(e)&&at(e)}function Xe(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Ko(e){return dn(e,Bt(e))}function Jo(e,t,a,s,l,u,m){var i=Xe(e,a),c=Xe(t,a),f=m.get(c);if(f){Je(e,a,f);return}var S=u?u(i,c,a+"",e,t,m):void 0,_=S===void 0;if(_){var D=Ye(c),K=!D&&zt(c),J=!D&&!K&&Ft(c);S=c,D||K||J?Ye(i)?S=i:Yo(i)?S=Xa(i):K?(_=!1,S=No(c)):J?(_=!1,S=Uo(c)):S=[]:Io(c)||Ke(c)?(S=i,Ke(i)?S=Ko(i):(!ve(i)||Qe(i))&&(S=Wo(c))):_=!1}_&&(m.set(c,S),l(S,c,s,u,m),m.delete(c)),Je(e,a,S)}function Ut(e,t,a,s,l){e!==t&&Go(t,function(u,m){if(l||(l=new je),ve(u))Jo(e,t,m,a,Ut,s,l);else{var i=s?s(Xe(e,m),u,m+"",e,t,l):void 0;i===void 0&&(i=u),Je(e,m,i)}},Bt)}var Xo=_n(function(e,t,a){Ut(e,t,a)});const Zo=["width","height"],Qo=["fill","stroke","d"],er=["stroke"],tr=["stroke","d"],ar={class:"dv-border-box-content"},nr=de({__name:"border-box-13",props:{color:{type:Array,default:()=>[]},backgroundColor:{type:String,default:"transparent"}},setup(e){const t=e,a=["#6586ec","#2cf7fe"],s=P(null),{width:l,height:u}=Kt(s,{width:0,height:0},{box:"border-box"}),m=ge(()=>Xo(a,t.color));return(i,c)=>(C(),A("div",{class:"dv-border-box-13 dv-border-box",ref_key:"domRef",ref:s},[(C(),A("svg",{width:z(l),height:z(u),class:"dv-border-svg-container"},[p("path",{fill:e.backgroundColor,stroke:m.value[0],d:`
            M 5 20 L 5 10 L 12 3  L 60 3 L 68 10
            L ${z(l)-20} 10 L ${z(l)-5} 25
            L ${z(l)-5} ${z(u)-5} L 20 ${z(u)-5}
            L 5 ${z(u)-20} L 5 20
        `},null,8,Qo),p("path",{fill:"transparent","stroke-width":"3","stroke-linecap":"round","stroke-dasharray":"10, 5",stroke:m.value[0],d:"M 16 9 L 61 9"},null,8,er),c[0]||(c[0]=p("path",{fill:"transparent",stroke:"{mergedColor[1]}",d:"M 5 20 L 5 10 L 12 3  L 60 3 L 68 10"},null,-1)),p("path",{fill:"transparent",stroke:m.value[1],d:`M ${z(l)-5} ${z(u)-30} L ${z(l)-5} ${z(u)-5} L ${z(l)-30} ${z(u)-5}`},null,8,tr)],8,Zo)),p("div",ar,[bt(i.$slots,"default",{},void 0,!0)])],512))}}),or=be(nr,[["__scopeId","data-v-4ea05f61"]]),rr={class:"title-inner"},sr=de({__name:"item-wrap",props:{title:{default:""},justifypos:{default:""}},setup(e){const t=e;return(a,s)=>{const l=or;return C(),ce(l,null,{default:$(()=>[a.title!==""?(C(),A("div",{key:0,class:"item_title",style:Ie({justifyContent:t.justifypos=="start"?"start":"center"})},[s[0]||(s[0]=p("div",{class:"zuo"},null,-1)),p("span",rr," Â Â "+L(a.title)+"Â Â  ",1),s[1]||(s[1]=p("div",{class:"you"},null,-1))],4)):he("",!0),p("div",{class:xt(a.title!==""?"item_title_content":"item_title_content_def")},[bt(a.$slots,"default",{},void 0,!0)],2)]),_:3})}}}),ir=be(sr,[["__scopeId","data-v-31760178"]]),lr={class:"item"},ur={class:"flex items-center"},cr={class:"text-16px",style:{"font-weight":"bold"}},dr=de({name:"CardData",__name:"card-data",setup(e){const t=P([{key:"project",title:"é¡¹ç›®æ€»æ•°",value:0,icon:"xiangmu"},{key:"contract",title:"åˆåŒæ€»æ•°",value:0,icon:"hetong"},{key:"debug",title:"è°ƒè¯•æ€»æ•°",value:0,icon:"tiaoshi"}]),a=async()=>{const{data:l,error:u}=await St();u||(t.value[0].value=l.project.projects,t.value[1].value=l.project.contracts)},s=async()=>{const{data:l,error:u}=await $t();u||(t.value[2].value=l.debugs)};return jt(()=>{a(),s()}),(l,u)=>{const m=wt,i=va,c=Ca,f=Ta,S=Jt;return C(),ce(S,{bordered:!1,size:"small",class:"card-wrapper","content-style":{padding:"0px 0px",backgroundColor:"transparent"}},{default:$(()=>[r(f,{cols:"1 s:1 m:1 l:1 xl:3",responsive:"screen",class:"gridCss"},{default:$(()=>[(C(!0),A(ue,null,fe(t.value,(_,D)=>(C(),ce(c,{key:_.key},{default:$(()=>[p("div",lr,[p("div",ur,[r(m,{"local-icon":_.icon,class:"font-size-28px mr-5px",style:Ie({color:D==0?"#00ff85":D==1?"#00eaff":"#ffdd00"})},null,8,["local-icon","style"]),p("h3",cr,L(_.title),1)]),r(i,{"start-value":1,"end-value":_.value,style:Ie([{color:D==0?"#00ff85":D==1?"#00eaff":"#ffdd00"},{"font-family":"dsdigits","font-weight":"bolder"}]),class:"text-28px dark:text-dark text-center"},null,8,["end-value","style"])])]),_:2},1024))),128))]),_:1})]),_:1})}}}),pr=be(dr,[["__scopeId","data-v-8ddb1839"]]),yt=de({name:"SimplePieChart",__name:"pie-chart",props:{data:{},name:{}},setup(e){const t=e,a=Ze(),{domRef:s,updateOptions:l}=Dt(()=>({tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},title:{text:"",top:"45%",textAlign:"center",left:"65%",textStyle:{fontSize:16,fontWeight:500}},legend:{orient:"vertical",left:"5%",top:"center",icon:"circle",itemWidth:10,itemHeight:10,formatter:function(m){const i=t.data.find(c=>c.name===m);return i?`${m} {valueStyle|${i.value||0}ä¸ª}`:m},textStyle:{rich:{valueStyle:{color:"#1890ff",fontWeight:"bold",fontSize:14}},fontSize:14}},series:[{type:"pie",radius:["75","85"],center:["65%","50%"],avoidLabelOverlap:!0,hideOverlap:!0,label:{show:!0,position:"inside",formatter:"{c}ä¸ª",fontSize:16},labelLine:{show:!0},data:[]}]}));function u(){l(m=>{const i=t.data||[],c=i.reduce((f,S)=>f+(S.value||0),0);return m.title.text=`${t.name??""}${c}`,m.series[0].data=i.map(f=>({name:f.name,value:f.value,itemStyle:{color:f.color,borderWidth:3,borderColor:f.color,shadowBlur:15,shadowColor:f.color}})),m.legend.data=i.map(f=>f.name),m})}return ye(()=>t.data,u,{deep:!0}),ye(()=>t.name,u),ye(()=>a.locale,u),u(),(m,i)=>(C(),A("div",{ref_key:"domRef",ref:s,class:"h-260px w-full overflow-hidden"},null,512))}}),fr=de({name:"PieChart",__name:"pie-chart1",props:{data:{},name:{}},setup(e){const t=e,a=Ze(),s=["#fb923c","#94d82d","#9ca3af"],l=["#ef4444","#22c55e"],{domRef:u,updateOptions:m}=Dt(()=>({tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},title:{text:"",top:"45%",textAlign:"center",left:"65%",textStyle:{fontSize:16,fontWeight:500}},legend:[{data:["ç°åœºè°ƒè¯•","è¿œç¨‹è°ƒè¯•","æ— éœ€è°ƒè¯•"],orient:"vertical",left:"5%",top:"25%",icon:"circle",itemWidth:10,itemHeight:10,formatter:function(f){const _=i.value.series[0].data.find(D=>D.name===f);return _?`${f} {valueStyle|${_.value||0}ä¸ª}`:f},textStyle:{rich:{valueStyle:{color:"#1890ff",fontWeight:"bold",fontSize:14}},fontSize:14}},{data:["å·²å»¶æœŸ","æ­£å¸¸"],orient:"vertical",left:"5%",top:"55%",icon:"circle",itemWidth:10,itemHeight:10,formatter:function(f){const _=i.value.series[1].data.find(D=>D.name===f);return _?`${f} {valueStyle|${_.value||0}ä¸ª}`:f},textStyle:{rich:{valueStyle:{color:"#1890ff",fontWeight:"bold",fontSize:14}},fontSize:14}}],series:[{color:s,type:"pie",radius:[75,85],center:["65%","50%"],avoidLabelOverlap:!0,label:{show:!0,position:"inside",formatter:"{c}ä¸ª",fontSize:14},labelLine:{show:!1},data:[]},{color:l,type:"pie",radius:[50,60],center:["65%","50%"],avoidLabelOverlap:!0,label:{show:!0,position:"inside",formatter:"{c}ä¸ª",fontSize:14},labelLine:{show:!1},data:[]}]})),i=P({});function c(){m(f=>{var J;const S=((J=t.data)==null?void 0:J.project)||{};f.title.text=`${t.name}${S.projects??""}`;const _=["ç°åœºè°ƒè¯•","è¿œç¨‹è°ƒè¯•","æ— éœ€è°ƒè¯•"];f.series[0].data=_.map((Z,R)=>({name:Z,value:S[`proDtype${R}`]||0,itemStyle:{borderWidth:5,shadowBlur:20,borderColor:s[R],shadowColor:s[R]}}));const D=["å·²å»¶æœŸ","æ­£å¸¸"],K=["proPtype1","proPtype0"];return f.series[1].data=D.map((Z,R)=>({name:Z,value:S[K[R]]||0,itemStyle:{borderWidth:5,shadowBlur:20,borderColor:l[R],shadowColor:l[R]}})),i.value=f,f})}return ye(()=>t.data,c,{deep:!0}),ye(()=>a.locale,c),c(),(f,S)=>(C(),A("div",{ref_key:"domRef",ref:u,class:"h-260px overflow-hidden"},null,512))}}),mr={class:"map-container"},vr={class:"toolbar"},_r={key:1},gr=de({__name:"trajectory_chart",props:{projectDistributionData:{},data:{},dates:{}},setup(e,{expose:t}){let a=e;const s=["åŒ—äº¬","ä¸Šæµ·","å¤©æ´¥","é‡åº†"],l=P("china"),u=P([]),m=P(null);let i=null;const c=P(),f=P("both"),S={åŒ—äº¬:"beijing",å¤©æ´¥:"tianjin",ä¸Šæµ·:"shanghai",é‡åº†:"chongqing",æ²³åŒ—:"hebei",å±±è¥¿:"shanxi",å†…è’™å¤:"neimenggu",è¾½å®:"liaoning",å‰æ—:"jilin",é»‘é¾™æ±Ÿ:"heilongjiang",æ±Ÿè‹:"jiangsu",æµ™æ±Ÿ:"zhejiang",å®‰å¾½:"anhui",ç¦å»º:"fujian",æ±Ÿè¥¿:"jiangxi",å±±ä¸œ:"shandong",æ²³å—:"henan",æ¹–åŒ—:"hubei",æ¹–å—:"hunan",å¹¿ä¸œ:"guangdong",å¹¿è¥¿:"guangxi",æµ·å—:"hainan",å››å·:"sichuan",è´µå·:"guizhou",äº‘å—:"yunnan",è¥¿è—:"xizang",é™•è¥¿:"shanxi1",ç”˜è‚ƒ:"gansu",é’æµ·:"qinghai",å®å¤:"ningxia",æ–°ç–†:"xinjiang",é¦™æ¸¯:"hongkong",æ¾³é—¨:"macau",å°æ¹¾:"taiwan"};function _(v){return{åŒ—äº¬:[116.4074,39.9042],å¤©æ´¥:[117.2,39.1333],æ²³åŒ—:[114.5025,38.0455],å±±è¥¿:[112.549,37.857],å†…è’™å¤:[111.6708,40.8183],è¾½å®:[123.4291,41.7968],å‰æ—:[125.3245,43.8868],é»‘é¾™æ±Ÿ:[126.6424,45.756],ä¸Šæµ·:[121.4737,31.2304],æ±Ÿè‹:[118.7674,32.0415],æµ™æ±Ÿ:[120.1536,30.2875],å®‰å¾½:[117.283,31.8612],ç¦å»º:[119.3062,26.0753],æ±Ÿè¥¿:[115.8922,28.6765],å±±ä¸œ:[117.0009,36.6758],æ²³å—:[113.6654,34.757],æ¹–åŒ—:[114.2986,30.5844],æ¹–å—:[112.9823,28.1941],å¹¿ä¸œ:[113.2806,23.1252],å¹¿è¥¿:[108.32,22.824],æµ·å—:[110.3312,20.031],é‡åº†:[106.504,29.533],å››å·:[104.0657,30.6595],è´µå·:[106.7135,26.5783],äº‘å—:[102.7123,25.0406],è¥¿è—:[91.1175,29.6469],é™•è¥¿:[108.948,34.2632],ç”˜è‚ƒ:[103.8233,36.0586],é’æµ·:[101.7789,36.6232],å®å¤:[106.2782,38.4663],æ–°ç–†:[87.6177,43.7928],å°æ¹¾:[121.5091,25.044],é¦™æ¸¯:[114.1734,22.3206],æ¾³é—¨:[113.5491,22.1987]}[v]||null}function D(v){const d=ba.find(g=>g.city===v);return d?[d.lng,d.lat]:null}async function K(){m.value&&(i=_a(m.value),await pe("china"),window.addEventListener("resize",()=>i==null?void 0:i.resize()))}async function J(v){try{return(await ya(Object.assign({"../../../assets/map/anhui.json":()=>y(()=>import("./anhui-itXsmiYb.js"),[]),"../../../assets/map/aomen.json":()=>y(()=>import("./aomen-CvhUKNbQ.js"),[]),"../../../assets/map/beijing.json":()=>y(()=>import("./beijing-BY449fIP.js"),[]),"../../../assets/map/china.json":()=>y(()=>import("./china-VoTTtmff.js"),[]),"../../../assets/map/chongqing.json":()=>y(()=>import("./chongqing-CQxENMLR.js"),[]),"../../../assets/map/city.json":()=>y(()=>import("./juhe-C704FkDL.js").then(g=>g.d),__vite__mapDeps([0,1,2])),"../../../assets/map/fujian.json":()=>y(()=>import("./fujian-DMjqeJN6.js"),[]),"../../../assets/map/gansu.json":()=>y(()=>import("./gansu-CRFNUfIK.js"),[]),"../../../assets/map/guangdong.json":()=>y(()=>import("./guangdong-DrCxObPG.js"),[]),"../../../assets/map/guangxi.json":()=>y(()=>import("./guangxi-BpEUbHdK.js"),[]),"../../../assets/map/guizhou.json":()=>y(()=>import("./guizhou-BY1JCp8Q.js"),[]),"../../../assets/map/hainan.json":()=>y(()=>import("./hainan-D2Sf7JTA.js"),[]),"../../../assets/map/hebei.json":()=>y(()=>import("./hebei-DTrnS0O1.js"),[]),"../../../assets/map/heilongjiang.json":()=>y(()=>import("./heilongjiang-DAACJd-E.js"),[]),"../../../assets/map/henan.json":()=>y(()=>import("./henan-DIkIePKJ.js"),[]),"../../../assets/map/hubei.json":()=>y(()=>import("./hubei-Bwnp1LoM.js"),[]),"../../../assets/map/hunan.json":()=>y(()=>import("./hunan-JCtVINy3.js"),[]),"../../../assets/map/jiangsu.json":()=>y(()=>import("./jiangsu-CLS7jcCc.js"),[]),"../../../assets/map/jiangxi.json":()=>y(()=>import("./jiangxi-CNAW8yFe.js"),[]),"../../../assets/map/jilin.json":()=>y(()=>import("./jilin-Bi5EpTmL.js"),[]),"../../../assets/map/liaoning.json":()=>y(()=>import("./liaoning-Do0e7YUX.js"),[]),"../../../assets/map/neimenggu.json":()=>y(()=>import("./neimenggu-CFQ1EPad.js"),[]),"../../../assets/map/ningxia.json":()=>y(()=>import("./ningxia-Bd5m21w_.js"),[]),"../../../assets/map/qinghai.json":()=>y(()=>import("./qinghai-DZmk70v-.js"),[]),"../../../assets/map/shandong.json":()=>y(()=>import("./shandong-CSwMvLbR.js"),[]),"../../../assets/map/shanghai.json":()=>y(()=>import("./shanghai-Dcy8PZ0o.js"),[]),"../../../assets/map/shanxi.json":()=>y(()=>import("./shanxi-6IIkp01T.js"),[]),"../../../assets/map/shanxi1.json":()=>y(()=>import("./shanxi1-CYyZbQBJ.js"),[]),"../../../assets/map/sichuan.json":()=>y(()=>import("./sichuan-DbWrPnDk.js"),[]),"../../../assets/map/taiwan.json":()=>y(()=>import("./taiwan-5IN91H0y.js"),[]),"../../../assets/map/tianjin.json":()=>y(()=>import("./tianjin-DmXrewkB.js"),[]),"../../../assets/map/xianggang.json":()=>y(()=>import("./xianggang-CCDY8cPS.js"),[]),"../../../assets/map/xinjiang.json":()=>y(()=>import("./xinjiang-CTJGzQIj.js"),[]),"../../../assets/map/xizang.json":()=>y(()=>import("./xizang-DdTsLb_A.js"),[]),"../../../assets/map/yunnan.json":()=>y(()=>import("./yunnan-CVzIswEy.js"),[]),"../../../assets/map/zhejiang.json":()=>y(()=>import("./zhejiang-1lSaxhlD.js"),[])}),`../../../assets/map/${v}.json`,6)).default}catch{return console.warn("åœ°å›¾ä¸å­˜åœ¨ï¼š",v),null}}function Z(v){const d=v.features.flatMap(T=>T.geometry.coordinates.flat(2)),g=d.filter((T,k)=>k%2===0),b=d.filter((T,k)=>k%2===1);return[(Math.min(...g)+Math.max(...g))/2,(Math.min(...b)+Math.max(...b))/2]}const R=new Map,U=P({contractname:"",proname:"",dispatch:"",debugname:"",dbdbtime:""}),Me=async(v,d)=>{for(const g of v){const b=g.creater;if(!R.has(b)){const{data:T}=await it({pid:g.pid>0?g.pid:void 0,creater:g.creater});R.set(b,T)}}i==null||i.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:d})},Ve=async v=>{const{data:d}=await it({pid:v.pid>0?v.pid:void 0,creater:v.creater});U.value=d,R.set(v.creater,d),i==null||i.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:v._index})};function re(v){if(!v||!v.length)return[];const d=[],g=.01,b=new Set;for(let T=0;T<v.length;T++){if(b.has(T))continue;const k=v[T],W=[k];for(let I=T+1;I<v.length;I++){if(b.has(I))continue;const Q=v[I],ee=Math.abs(k.longitude-Q.longitude),se=Math.abs(k.latitude-Q.latitude);ee<g&&se<g&&(W.push(Q),b.add(I))}if(b.add(T),W.length===1)d.push({...k,value:[k.longitude,k.latitude],isCluster:!1,name:k.username||"æœªçŸ¥",_index:d.length});else{const I=W.map(te=>te.username||"æœªçŸ¥"),Q=I.length>3?`${I.slice(0,3).join(", ")} ç­‰${I.length}äºº`:I.join(", "),ee=W.reduce((te,ae)=>te+ae.longitude,0)/W.length,se=W.reduce((te,ae)=>te+ae.latitude,0)/W.length;d.push({name:Q,value:[ee,se],isCluster:!0,clusterData:W,_index:d.length})}}return d}const Ee=()=>{var g;const v=(g=c.value)==null?void 0:g.map(b=>{const T=b.coord||_(b.name);return!T||!b.counts||b.counts<=0?null:{name:b.name,value:[...T,b.counts],counts:b.counts}}).filter(Boolean),d=re(a.data);return{countData:f.value==="count"||f.value==="both"?v:[],positionData:f.value==="position"||f.value==="both"?d:[]}};function Ae(v){return v}async function pe(v){var Ce;let d=await J(v);if(!d)return;v==="hainan"&&(d=d),ga(v,d);const g=(Ce=c.value)==null?void 0:Ce.map(j=>{const w=j.coord||_(j.name);return!w||!j.counts||j.counts<=0?null:{name:j.name,value:[...w,j.counts],counts:j.counts}}).filter(Boolean);Z(d);const b=g==null?void 0:g.filter(j=>j.counts>0),T=Math.max(...b.map(j=>j.counts),1),k=Math.min(...b.map(j=>j.counts),0),W=45,I=25,Q=j=>{if(T===k)return I;const w=(W-I)/(T-k),N=I-w*k;return Math.max(w*j+N,I)},{countData:ee,positionData:se}=Ee(),te=v==="hainan",ae={tooltip:{trigger:"item",backgroundColor:"transparent",borderWidth:0,extraCssText:"box-shadow:none; padding:0;",formatter:j=>{var N,O,q,ne,Y;if(!j.data)return"";const w=j.data;if(w.isCluster){Me(w.clusterData,w._index);let B=`<div style="
          min-width: 260px;
          font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
          font-size: 13px;
          color: #333;
          line-height: 1.6;
          background: #fff;
          border-radius: 10px;
          padding: 12px 14px 10px;
          box-shadow: 0 4px 14px rgba(0,0,0,0.15);
          border: 1px solid #f0f0f0;
        ">`;return w.clusterData.forEach(G=>{const X=R.get(G.creater);B+=`
            <div style="display:flex;margin-bottom:10px;">
              <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; margin-right:20px; width:50px;">
                <img src="${G.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png"}"
                    style="width:36px; height:36px; border-radius:50%;" />
                <div style="font-size:14px; font-weight:600; color:#1890ff; text-align:center; margin-top:4px;">
                  ${G.username||"æœªçŸ¥"}
                </div>
              </div>
              <div style="flex:1">
                <div style="font-size:14px;color:#333;"><b>æ‰“å¡æ—¶é—´ï¼š</b><span style="color:#1890ff;">${G.dbtime||"-"}</span></div>
                <div style="font-size:14px;color:#333;"><b>æ‰“å¡åœ°å€ï¼š</b><span style="color:#1890ff;">${G.address||"-"}</span></div>
                ${X?`
                    <div style="margin-top:4px;font-size:14px;">
                      <div style="color:#333;"><b>é¡¹ç›®åç§°ï¼š</b><span style="color:#1890ff;">${X.proname||"-"}</span></div>
                      <div style="color:#333;"><b>åˆåŒåç§°ï¼š</b><span style="color:#1890ff;">${X.contractname||"-"}</span></div>
                      <div style="color:#333;"><b>ä»»åŠ¡åç§°ï¼š</b><span style="color:#1890ff;">${X.debugname||"-"}</span></div>
                    </div>`:'<div style="color:#999;"></div>'}
              </div>
            </div>
            <hr style="border:0;border-top:1px dashed #e8e8e8;margin:6px 0;" />
          `}),B+="</div>",B}else{const B=w.creater;R.has(B)?U.value=R.get(B):(U.value={contractname:"",proname:"",dispatch:"",debugname:"",dbdbtime:""},Ve(w));const G=U.value&&Object.values(U.value).some(Ne=>Ne);let X=`<div style="
          min-width: 260px;
          font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
          font-size: 14px;
          color: #333;
          line-height: 1.6;
          background: #fff;
          border-radius: 10px;
          padding: 12px 14px 10px;
          box-shadow: 0 4px 14px rgba(0,0,0,0.15);
          border: 1px solid #f0f0f0;
        ">
          <div style="display: flex; align-items: center; margin-bottom: 8px;">
            <img src="${w.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png"}" style="width:38px;height:38px;border-radius:50%;object-fit:cover;margin-right:10px;box-shadow:0 1px 4px rgba(0,0,0,0.15);" />
            <div>
              <div style="font-weight:bold;font-size:15px;color:#1890ff;">${w.username||"æœªçŸ¥äººå‘˜"}</div>
              <div style="font-size:12px;color:#999;">è°ƒè¯•äººå‘˜</div>
            </div>
          </div>
          <div style="border-top:1px dashed #e8e8e8;margin:6px 0;"></div>
          <div><b>æ‰“å¡æ—¶é—´ï¼š</b><span style="color:#1890ff;">${w.dbtime||"-"}</span></div>
          <div><b>åœ°å€ï¼š</b><span style="color:#1890ff;">${w.address||"-"}</span></div>`;return G?X+=`
            <div style="margin-top: 6px; font-weight: 500; color: #666;">é¡¹ç›®ä¿¡æ¯</div>
            <div><b>é¡¹ç›®åç§°ï¼š</b><span style="color:#1890ff;">${((N=U.value)==null?void 0:N.proname)||"-"}</span></div>
            <div><b>åˆåŒåç§°ï¼š</b><span style="color:#1890ff;">${((O=U.value)==null?void 0:O.contractname)||"-"}</span></div>
            <div><b>è°ƒåº¦åç§°ï¼š</b><span style="color:#1890ff;">${((q=U.value)==null?void 0:q.dispatch)||"-"}</span></div>
            <div><b>è°ƒè¯•ä»»åŠ¡ï¼š</b><span style="color:#1890ff;">${((ne=U.value)==null?void 0:ne.debugname)||"-"}</span></div>
            <div><b>å¼€å§‹æ—¶é—´ï¼š</b><span style="color:#1890ff;">${((Y=U.value)==null?void 0:Y.dbdbtime)||"-"}</span></div>
          `:X+=`<div><b>é¡¹ç›®åç§°ï¼š</b><span style="color:#1890ff;">${w.proname||"-"}</span></div>`,X+="</div>",X}}},geo:{map:v,roam:!0,zoom:te?8:1.2,scaleLimit:{min:1,max:15},center:te?[109.6,19.03]:null,label:{show:!0,color:"#fff",fontSize:12},itemStyle:{areaColor:"#13244a",borderColor:"#487eb0"},emphasis:{itemStyle:{areaColor:"#1e90ff"},label:{show:!0,color:"#fff"}}},series:[{type:"scatter",name:"æ•°é‡ç‚¹",coordinateSystem:"geo",symbol:`image://${ha}`,zlevel:2,symbolSize:j=>Q(j[2]),label:{show:!0,formatter:j=>j.value[2],color:"#fff",fontSize:10,fontWeight:"bold",textShadowColor:"rgba(0,0,0,0.45)",textShadowBlur:4,textShadowOffsetX:1,textShadowOffsetY:1},tooltip:{backgroundColor:"rgba(0,0,0,0.75)",borderWidth:0,extraCssText:"border-radius:8px; padding:8px 12px;",formatter:j=>{const w=j.data.counts||0;return`
              <div style="font-size:13px; line-height:1.6; color:#fff;">
                <div style="font-weight:600; margin-bottom:4px;">${j.data.name||""}</div>
                <div>
                  é¡¹ç›®æ•°é‡ï¼š
                  <span style="color:#FFD700; font-weight:600;">${w}</span>
                </div>
              </div>
            `}},itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#6fa8ff"},{offset:1,color:"#4169e1"}]},shadowColor:"rgba(65,105,225,0.45)",shadowBlur:12,shadowOffsetY:4},emphasis:{scale:!0,itemStyle:{shadowBlur:18,shadowColor:"rgba(65,105,225,0.7)"},label:{fontSize:12}},data:ee},{name:"ä½ç½®ç‚¹",type:"scatter",coordinateSystem:"geo",zlevel:3,symbolSize:(j,w)=>w.data.isCluster?16:12,symbol:"circle",label:{show:!0,position:"right",distance:0,formatter:j=>j.data.name,color:"#2dd4bf",fontWeight:600,fontSize:13,backgroundColor:"rgba(7, 15, 32, 0.85)",padding:[4,8],borderRadius:8,borderColor:"rgba(45, 212, 191, 0.5)",borderWidth:1,shadowColor:"rgba(45, 212, 191, 0.35)",shadowBlur:6},itemStyle:{color:"#2dd4bf",borderColor:"rgba(255,255,255,0.9)",borderWidth:1.5,shadowColor:"rgba(45, 212, 191, 0.8)",shadowBlur:12},emphasis:{scale:!0,label:{fontSize:13,fontWeight:700},itemStyle:{shadowBlur:14}},data:se}]};i==null||i.setOption(ae);const Te=async j=>{var ne;const w=j.name,N=S[w];if(!N)return;if(u.value.push({map:l.value,data:c.value}),s.includes(w)){const Y=(ne=c.value)==null?void 0:ne.find(G=>G.name===w);if(!Y)return;const B=_(w);if(!B)return;l.value=N,c.value=[{name:w,counts:Y.counts,coord:B}],await pe(N);return}const q=(await ke(w)).map(Y=>{const B=D(Y.name);return B?{...Y,coord:B}:null}).filter(Boolean);l.value=N,c.value=q,await pe(N)};i==null||i.off("click"),i==null||i.on("click",j=>Te(j))}async function we(){if(!u.value.length)return;const v=u.value.pop();l.value=v.map,c.value=a.projectDistributionData,pe(l.value)}const ke=async v=>{var T;const d=(T=a.projectDistributionData.find(k=>k.name===v))==null?void 0:T.id,{data:g,error:b}=await xa({pid:d});return console.log(g,"data"),g},V=v=>{var g;if(f.value=v,!i)return;const d=(g=c.value)==null?void 0:g.map(b=>{const T=b.coord||_(b.name);return!T||!b.counts||b.counts<=0?null:{name:b.name,value:[...T,b.counts],counts:b.counts}}).filter(Boolean);i.setOption({series:[{name:"æ•°é‡ç‚¹",data:v==="count"||v==="both"?d:[]},{name:"ä½ç½®ç‚¹",data:v==="position"||v==="both"?re(a.data):[]}]})};return t({toggleViewMode:V}),ye(()=>a.projectDistributionData,async v=>{c.value=a.projectDistributionData,await Tt(),K()},{deep:!0,immediate:!0}),(v,d)=>{const g=Ct,b=Pt;return C(),A("div",mr,[p("div",vr,[r(b,{size:"small"},{default:$(()=>[r(g,{type:f.value==="count"?"primary":"default",onClick:d[0]||(d[0]=T=>V("count"))},{default:$(()=>d[3]||(d[3]=[x(" æ•°é‡ ")])),_:1,__:[3]},8,["type"]),r(g,{type:f.value==="position"?"primary":"default",onClick:d[1]||(d[1]=T=>V("position"))},{default:$(()=>d[4]||(d[4]=[x(" ä½ç½® ")])),_:1,__:[4]},8,["type"]),r(g,{type:f.value==="both"?"primary":"default",onClick:d[2]||(d[2]=T=>V("both"))},{default:$(()=>d[5]||(d[5]=[x(" å…¨éƒ¨ ")])),_:1,__:[5]},8,["type"])]),_:1}),u.value.length>0?(C(),ce(g,{key:0,class:"ml-20px",size:"small",onClick:we},{default:$(()=>d[6]||(d[6]=[x(" è¿”å›ä¸Šä¸€çº§ ")])),_:1,__:[6]})):(C(),A("div",_r))]),p("div",{ref_key:"chartRef",ref:m,class:"echart"},null,512)])}}}),hr=be(gr,[["__scopeId","data-v-808690fe"]]),yr={class:"content_wrap"},br={class:"d-flex jc-center title_wrap"},xr={class:"top_Info"},jr={class:"left"},wr={class:"right"},Tr={class:"index-box"},Cr={class:"content_left"},Dr={class:"content_right"},Pr={class:"flex rtop"},Sr={class:"clockInInfo"},$r={style:{color:"#1890ff","font-weight":"700","font-size":"20px"}},Er={style:{color:"#52c41a","font-weight":"700","font-size":"20px"}},Ar={style:{color:"#faad14","font-weight":"700","font-size":"20px"}},kr={style:{color:"#8a8886","font-weight":"700","font-size":"20px"}},Or={key:0,class:"details"},Ir={class:"shrink-0 flex flex-col items-center justify-center w-20"},Lr=["src"],zr={class:"mt-2 c-#52c41a text-sm font-bold text-center truncate w-full"},Rr={class:"flex-1 flex flex-col justify-center gap-1"},Fr={class:"flex text-sm"},Br={class:"text-[#4169e1] font-semibold outPeopleText"},Mr={class:"flex text-sm"},Vr={class:"text-[#4169e1] font-semibold outPeopleText"},Nr={class:"flex text-sm"},Hr={class:"text-[#4169e1] font-semibold outPeopleText"},Ur=de({name:"bigscreen",__name:"index",setup(e){const t=Xt(),a=Zt();Ze();const s=Qt(),l=P(!1),u=Ue({dateDay:"",dateYear:"",dateWeek:"",timing:null}),m=["å‘¨æ—¥","å‘¨ä¸€","å‘¨äºŒ","å‘¨ä¸‰","å‘¨å››","å‘¨äº”","å‘¨å…­"];(()=>{u.timing=setInterval(()=>{u.dateDay=st().format("YYYY-MM-DD hh : mm : ss"),u.dateWeek=m[st().day()]},1e3)})();const{pageData:c,getData:f}=Pa(fa),S=async()=>{await f({usertypes:"2,3"}),c.data=c.data.filter(n=>n.status==0)},_=P("year"),D=Ue({dayTime:String(We(0,null)),monthTime:String(We(3,null)),yearTime:String(We(4,null))}),K=P(null);async function J(n,o){var H;Ae(),we(),w(),(H=K.value)==null||H.toggleViewMode("both")}const Z=n=>{var o;_.value=n,Ae(),we(),w(),(o=K.value)==null||o.toggleViewMode("both")},R=P([]),U=P([]),Me=P([]),Ve=P([]),re=P([]),Ee=P([]),Ae=async()=>{const{data:n,error:o}=await St({s:_.value=="total"?void 0:_.value=="day"?D.dayTime:_.value=="month"?D.monthTime:D.yearTime});if(!o){R.value=n,U.value=[{name:"æœªæ ¸å‡†",value:n.project.projectn1,color:"#a27ff9"},{name:"æœªå¼€å§‹",value:n.project.project0,color:"#9ca3af"},{name:"è¿›è¡Œä¸­",value:n.project.project1,color:"#3b82f6"},{name:"å¾…å®¡æ ¸",value:n.project.project2,color:"#facc15"},{name:"å·²å®Œæˆ",value:n.project.project3,color:"#22c55e"}],Me.value=[{name:"æ­£å¸¸",value:n.project.proPtype0,color:"#22c55e"},{name:"å»¶æœŸ",value:n.project.proPtype1,color:"#ef4444"}],Ve.value=[{name:"ç°åœºè°ƒè¯•",value:n.project.proDtype0,color:"#fb923c"},{name:"è¿œç¨‹è°ƒè¯•",value:n.project.proDtype1,color:"#94d82d"},{name:"æ— éœ€è°ƒè¯•",value:n.project.proDtype2,color:"#9ca3af"}];const H=new Map(n==null?void 0:n.norms.map(F=>[F.creater,F.totalscore])),_e=new Map(n==null?void 0:n.debug.map(F=>[F.creater,F])),ie=c.data.map(F=>{const M=_e.get(F.id),le=H.get(F.id)??0;return{...F,totalscore:le,debug:M?M.debugs:0,username:F.username??(M==null?void 0:M.username)??null,userimage:F.userimage??(M==null?void 0:M.userimage)??null,total:le+(M?M.debugs:0)}});re.value=ie.sort((F,M)=>M.totalscore+M.debug-(F.totalscore+F.debug)),Ee.value=[...re.value]}},pe=P([]),we=async()=>{const{data:n,error:o}=await $t({s:_.value=="total"?void 0:_.value=="day"?D.dayTime:_.value=="month"?D.monthTime:D.yearTime});o||(pe.value=[{name:"ç”³è¯·ä¸­",value:n.debugn1,color:"#FB923C"},{name:"å¾…è°ƒè¯•",value:n.debug0,color:"#9ca3af"},{name:"å¼€å§‹è°ƒè¯•",value:n.debug1,color:"#3B82F6"},{name:"å¾…å®¡æ ¸",value:n.debug2,color:"#FACC15"},{name:"å®¡æ ¸å®Œæˆ",value:n.debug3,color:"#10B981"}])},ke=[{key:"proname",title:()=>r("div",{class:"font-medium ml-20px"},[x("è¿‘æœŸé¡¹ç›®")]),width:300,ellipsis:{tooltip:!0},render:n=>{if(n.status===null)return null;const o=ua(Da[n.status]);return r("div",null,[r(ca,{placement:"top",trigger:"hover"},{trigger:()=>r("div",{class:"cursor-pointer text-ellipsis overflow-hidden whitespace-nowrap font-bold",onClick:()=>X(n),style:"max-width: 280px;"},[n.proname||"-"]),default:()=>n.proname||"-"}),r("div",{style:"display:flex; gap:3px; line-height:1.4;"},[r("div",{class:" flex"},[r("span",{style:"color:#b9b9b9"},[x("è¿›åº¦ï¼š")]),r(da,{type:"line",style:"width: 100px;",showIndicator:!0,percentage:n.progess,"indicator-placement":"inside",processing:!0,color:n.progess==100?"#22C55E":"#1890ff"},null)]),r("div",{class:" flex ml-8px"},[r("span",{style:"color:#b9b9b9 flex"},[x("çŠ¶æ€ï¼š")]),r("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:n.status===0?"#9ca3af":n.status===1?"#3B82F6":n.status===2?"#f1c40f":"#2ecc71",borderRadius:"50%"}},[r("span",{style:{width:"10px",height:"10px",marginRight:"5px",backgroundColor:n.status===0?"#9ca3af":n.status===1?"#3B82F6":n.status===2?"#f1c40f":"#2ecc71",borderRadius:"50%"}},null),r("span",null,[o])])])])])}},{key:"clockinusername",title:"æœ€åæ‰“å¡ä¿¡æ¯",align:"left",width:220,render(n){return r("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[r("div",null,[r("span",{style:"color:#b9b9b9"},[x("æ—¶é—´ï¼š")]),r("span",{style:" font-weight:500"},[n.lastclockintime||"-"])]),r("div",null,[r("span",{style:"color:#b9b9b9"},[x("æ‰“å¡äººï¼š")]),r("span",{style:"font-weight:500"},[n.clockinusername||"-"])])])}},{key:"clockincounts",title:"æ‰“å¡ä¿¡æ¯",align:"left",width:200,render(n){return r("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[r("div",null,[r("span",{style:"color:#b9b9b9"},[x("æ‰“å¡äººæ•°ï¼š")]),r("span",{style:"font-weight:500"},[n.clockincounts!=null?n.clockincounts+"äºº":"-"])]),r("div",null,[r("span",{style:"color:#b9b9b9"},[x("æ‰“å¡äººï¼š")]),r("span",{style:" font-weight:500"},[n.clockinusers||"-"])])])}},{key:"debugname",title:"è°ƒè¯•ä»»åŠ¡ä¿¡æ¯",align:"left",width:260,render(n){return r("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[r("div",null,[r("span",{style:"color:#b9b9b9"},[x("ä»»åŠ¡åç§°ï¼š")]),r("span",{style:"font-weight:500"},[n.debugname||"-"])]),r("div",null,[r("span",{style:"color:#b9b9b9"},[x("çŠ¶æ€ï¼š")]),r(pa,{size:"small",color:{color:n.debugstatus==-1?"rgba(251, 146, 60, 0.15)":n.debugstatus==0?"rgba(156, 163, 175, 0.15)":n.debugstatus==1?"rgba(59, 130, 246, 0.15)":n.debugstatus==2?"rgba(250, 204, 21, 0.15)":"rgba(16, 185, 129, 0.15)",textColor:n.debugstatus==-1?"#FB923C":n.debugstatus==0?"#9CA3AF":n.debugstatus==1?"#3B82F6":n.debugstatus==2?"#FACC15":"#10B981",borderColor:n.debugstatus==-1?"#FB923C":n.debugstatus==0?"#9CA3AF":n.debugstatus==1?"#3B82F6":n.debugstatus==2?"#FACC15":"#10B981"}},{default:()=>[n.debugstatus==-1?"ç”³è¯·ä¸­":n.debugstatus==0?"å¾…è°ƒè¯•":n.debugstatus==1?"å¼€å§‹è°ƒè¯•":n.debugstatus==2?"å¾…å®¡æ ¸":"å®¡æ ¸å®Œæˆ"]})])])}},{key:"username",title:"è°ƒè¯•ä¿¡æ¯",align:"left",width:230,render(n){return r("div",{style:"display:flex; flex-direction:column; gap:3px; line-height:1.4;"},[r("div",null,[r("span",{style:"color:#b9b9b9"},[x("æ—¶é—´ï¼š")]),r("span",{style:" font-weight:500"},[n.dbdbtime||"-"])]),r("div",null,[r("span",{style:"color:#b9b9b9"},[x("è°ƒè¯•äººï¼š")]),r("span",{style:"font-weight:500"},[n.username||"-"])])])}},{title:"ä»»åŠ¡å®¡æ ¸æ—¶é—´",key:"ckdbtime",width:120}],V=Ue({page:1,pageSize:10,showSizePicker:!0,fuzzy:"",itemCount:0,size:"small",pageSizes:[5,10,20],prefix:()=>`å…± ${V.itemCount} æ¡`,onChange:n=>{V.page=n,d()},onUpdatePageSize:n=>{V.pageSize=n,V.page=1,d()}}),v=P([]),d=async()=>{const{data:n,error:o}=await ea({page:V.page,limit:V.pageSize});o||(v.value=n.list,V.itemCount=n.total)},g=P([]),b=async()=>{const{data:n,error:o}=await ja();o||(g.value=n)},T=ge(()=>g.value.filter(n=>n.pid!=-1)),k=ge(()=>g.value.filter(n=>n.pid==-1)),W=ge(()=>c.data.filter(n=>!g.value.some(o=>o.creater==n.id))),I=ge(()=>T.value.length),Q=ge(()=>k.value.length),ee=P(!1),se=P("allPeople"),te=()=>{ee.value=!ee.value},ae=P(null),Te=P(null),Ce=P([]),j=P(""),w=async()=>{const{data:n,error:o}=await wa({});o||(Ce.value=n)},N=()=>{if(!O.value)return;const n=O.value.children[0];let o=O.value.querySelector(".clone");o?o.innerHTML=n.innerHTML:(o=n.cloneNode(!0),o.classList.add("clone"),O.value.appendChild(o)),o.style.display="block"},O=P(null);let q=null;const ne=()=>{if(!O.value)return;q&&clearInterval(q);const n=O.value,o=n.children[0],H=n.querySelector(".clone");H&&(H.style.display="block",q=window.setInterval(()=>{n.scrollTop+=1,n.scrollTop>=o.scrollHeight&&(n.scrollTop=0)},30))},Y=()=>{if(q&&(clearInterval(q),q=null),O.value){const n=O.value.querySelector(".clone");n&&(n.style.display="none"),O.value.scrollTop=0}},B=async()=>{await Promise.all([Ae(),we(),d(),w()])},G=P("");jt(async()=>{try{a.themeScheme=="dark"?G.value="dark":(G.value="light",a.setThemeScheme("dark")),l.value=!0,await Promise.all([S(),B(),b(),w()])}catch(n){console.error("é¦–é¡µæ•°æ®åŠ è½½å¤±è´¥",n)}finally{l.value=!1}ae.value=window.setInterval(B,1e3*60*5),Te.value=window.setInterval(b,1e3*60*5),setTimeout(()=>{if(O.value=document.querySelector(".n-scrollbar-container"),!O.value)return;const n=O.value.children[0];if(!O.value.querySelector(".clone")){const o=n.cloneNode(!0);o.classList.add("clone"),O.value.appendChild(o)}O.value.addEventListener("mouseenter",Y),O.value.addEventListener("mouseleave",ne),ne()},1e3)}),ta(()=>{ae.value&&clearInterval(ae.value),Te.value&&clearInterval(Te.value),q&&clearInterval(q),G.value=="light"&&a.setThemeScheme("light")});const X=n=>{s.push("/projectmanagement/orderdetail?prjId="+n.id),t.setProjectInfo({pid:n.id,pname:n.proname})},Ne=n=>{setTimeout(()=>Y(),200),n.order?re.value.sort((o,H)=>{const _e=o[n.columnKey]||0,ie=H[n.columnKey]||0;return n.order==="ascend"?_e-ie:ie-_e}):re.value=[...Ee.value],Tt(()=>{N(),Y(),ne()})},nt=[{title:()=>r("div",{class:"text-[12px] font-700"},[x("æ’å")]),key:"rank",width:40,align:"center",render:(n,o)=>r("div",{class:["rank-index",{first:o===0,second:o===1,third:o===2}]},[o+1])},{title:()=>r("div",{class:"text-[12px] font-700"},[x("è°ƒè¯•äºº")]),key:"username",width:80,align:"center",render:n=>r("div",{class:"flex-col items-center"},[r("img",{src:n.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png",class:"w-6 h-6 rounded-full"},null),r("span",null,[n.username])])},{title:()=>r("div",{class:"text-[12px] font-700"},[x("è°ƒè¯•ç§¯åˆ†")]),key:"debug",width:80,sorter:!0,align:"center"},{title:()=>r("div",{class:"text-[12px] font-700"},[x("è¡Œä¸ºå¾—åˆ†")]),key:"totalscore",width:80,sorter:!0,align:"center"},{title:()=>r("div",{class:"text-[12px] font-700"},[x("æ€»å¾—åˆ†")]),key:"total",width:80,sorter:!0,align:"center"}],ot=[{title:()=>r("div",{class:"text-[12px] font-700"},[x("æ’å")]),key:"rank",width:40,align:"center",render:(n,o)=>r("div",{class:["rank-index",{first:o===0,second:o===1,third:o===2}]},[o+1])},{title:()=>r("div",{class:"text-[12px] font-700"},[x("è°ƒè¯•äºº")]),key:"username",width:80,align:"center",render:n=>r("div",{class:"flex items-center justify-center"},[r("img",{src:n.userimage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png",class:"w-6 h-6 mr-5px rounded-full"},null),r("span",null,[n.username])])},{title:()=>r("div",{class:"text-[12px] font-700"},[x("è°ƒè¯•ç§¯åˆ†")]),key:"debug",width:80,sorter:!0,align:"center"}],Wt=()=>{s.push({path:"/projectmanagement/orderdetail"})};return(n,o)=>{const H=Ct,_e=Pt,ie=Sa,F=na,M=wt,le=ir,Oe=sa,qt=ia,Gt=ra,rt=la,Yt=Aa;return C(),A(ue,null,[p("div",yr,[p("div",br,[o[12]||(o[12]=aa('<div class="zuojuxing" data-v-f79a8ff4></div><div class="youjuxing" data-v-f79a8ff4></div><div class="guang" data-v-f79a8ff4></div><div class="d-flex jc-center" data-v-f79a8ff4><div class="title" data-v-f79a8ff4><span class="title-text" data-v-f79a8ff4>é¢†ç¥ºå·¥ç¨‹é¡¹ç›®ç®¡ç†å¹³å°</span></div></div>',4)),p("div",xr,[p("div",jr,[r(F,null,{default:$(()=>[r(_e,{size:"small"},{default:$(()=>[r(H,{type:_.value==="day"?"primary":"default",onClick:o[0]||(o[0]=h=>Z("day"))},{default:$(()=>o[8]||(o[8]=[x(" æ—¥ ")])),_:1,__:[8]},8,["type"]),r(H,{type:_.value==="month"?"primary":"default",onClick:o[1]||(o[1]=h=>Z("month"))},{default:$(()=>o[9]||(o[9]=[x(" æœˆ ")])),_:1,__:[9]},8,["type"]),r(H,{type:_.value==="year"?"primary":"default",onClick:o[2]||(o[2]=h=>Z("year"))},{default:$(()=>o[10]||(o[10]=[x(" å¹´ ")])),_:1,__:[10]},8,["type"]),r(H,{type:_.value==="total"?"primary":"default",onClick:o[3]||(o[3]=h=>Z("total"))},{default:$(()=>o[11]||(o[11]=[x(" ç´¯è®¡ ")])),_:1,__:[11]},8,["type"])]),_:1}),_.value==="day"?(C(),ce(ie,{key:0,size:"small","formatted-value":D.dayTime,"onUpdate:formattedValue":[o[4]||(o[4]=h=>D.dayTime=h),J],type:"date","value-format":"yyyy-MM-dd",style:{width:"120px"}},null,8,["formatted-value"])):he("",!0),_.value==="month"?(C(),ce(ie,{key:1,size:"small","formatted-value":D.monthTime,"onUpdate:formattedValue":[o[5]||(o[5]=h=>D.monthTime=h),J],type:"month","value-format":"yyyy-MM",style:{width:"120px"}},null,8,["formatted-value"])):he("",!0),_.value==="year"?(C(),ce(ie,{key:2,size:"small","formatted-value":D.yearTime,"onUpdate:formattedValue":[o[6]||(o[6]=h=>D.yearTime=h),J],type:"year","value-format":"yyyy",style:{width:"120px"}},null,8,["formatted-value"])):he("",!0)]),_:1})]),p("div",wr,[p("div",{class:"setting_icon",onClick:Wt},[r(M,{"local-icon":"home",class:"font-size-30px mr-5px",style:{color:"#fff"}})]),p("div",null,L(u.dateYear)+" "+L(u.dateWeek)+" "+L(u.dateDay),1)])])]),p("div",Tr,[p("div",Cr,[r(le,{class:"content_left-top",title:"é¡¹ç›®ä¿¡æ¯"},{default:$(()=>[r(pr)]),_:1}),r(le,{class:"content_left-bottom",title:"é¡¹ç›®è¯¦ç»†ä¿¡æ¯"},{default:$(()=>[r(yt,{data:U.value,name:"é¡¹ç›®æ€»æ•°"},null,8,["data"]),r(fr,{data:R.value,name:"é¡¹ç›®æ€»æ•°"},null,8,["data"]),r(yt,{data:pe.value,name:"è°ƒè¯•æ€»æ•°"},null,8,["data"])]),_:1})]),p("div",Dr,[p("div",Pr,[r(le,{title:"å®æ—¶è½¨è¿¹",justifypos:"start",class:"content_right-center"},{default:$(()=>[p("div",Sr,[p("div",{class:"totalBox",onClick:te,style:{display:"flex","align-items":"center",gap:"16px","font-size":"16px"}},[p("span",null,[o[13]||(o[13]=x(" å…± ")),p("span",$r,L(z(c).data.length),1),o[14]||(o[14]=x(" äºº "))]),p("span",null,[o[15]||(o[15]=x(" ä»Šæ—¥å¤–å‹¤äººæ•°ï¼š ")),p("span",Er,L(I.value),1),o[16]||(o[16]=x(" äºº "))]),p("span",null,[o[17]||(o[17]=x(" å…¬å¸äººæ•°ï¼š ")),p("span",Ar,L(Q.value),1),o[18]||(o[18]=x(" äºº "))]),p("span",null,[o[19]||(o[19]=x(" æœªçŸ¥ï¼š ")),p("span",kr,L(z(c).data.length-I.value-Q.value),1),o[20]||(o[20]=x(" äºº "))]),p("span",{class:xt(["arrow",{open:ee.value}])},"â–¼",2)]),r(oa,{name:"slide"},{default:$(()=>[ee.value?(C(),A("div",Or,[r(Gt,{value:se.value,"onUpdate:value":o[7]||(o[7]=h=>se.value=h),type:"card",animated:""},{default:$(()=>[r(Oe,{name:"allPeople",tab:"å…¨éƒ¨è°ƒè¯•å‘˜å·¥"},{default:$(()=>[(C(!0),A(ue,null,fe(T.value,h=>(C(),A("span",{class:"outPeople",key:h.id},L(h.username),1))),128)),(C(!0),A(ue,null,fe(k.value,h=>(C(),A("span",{class:"inPeople",key:h.id},L(h.username),1))),128)),(C(!0),A(ue,null,fe(W.value,h=>(C(),A("span",{class:"unknown",key:h.id},L(h.username),1))),128))]),_:1}),r(Oe,{name:"outPeople",tab:"å¤–å‹¤äººå‘˜"},{default:$(()=>[r(qt,{style:{"max-height":"500px"}},{default:$(()=>[(C(!0),A(ue,null,fe(T.value,h=>(C(),A("div",{key:h.id,class:"mb-4 bg-white outPeopleBg rounded-lg shadow-sm hover:shadow-md transition-shadow flex"},[p("div",Ir,[p("img",{class:"w30px h-30px rounded-full shadow",src:h.userImage||"https://pictures.linkqi.cn/work-project/image/656c9f43-e1b0-42a5-a480-d8695aaba7823098852561625908631.png",alt:"å¤´åƒ"},null,8,Lr),p("div",zr,L(h.username),1)]),p("div",Rr,[p("div",Fr,[o[21]||(o[21]=p("span",{class:"whitespace-nowrap"},"ğŸ—ï¸ é¡¹ç›®åç§°ï¼š",-1)),p("span",Br,L(h.proname||"æš‚æ— é¡¹ç›®"),1)]),p("div",Mr,[o[22]||(o[22]=p("span",{class:"whitespace-nowrap"},"ğŸ“… æœ€è¿‘ä¸€æ¬¡æ‰“å¡æ—¶é—´ï¼š",-1)),p("span",Vr,L(h.dbtime||"æ— "),1)]),p("div",Nr,[o[23]||(o[23]=p("span",{class:"whitespace-nowrap"},"ğŸ“ åœ°å€ï¼š",-1)),p("span",Hr,L(h.address),1)])])]))),128))]),_:1})]),_:1}),r(Oe,{name:"inPeople",tab:"å…¬å¸äººå‘˜"},{default:$(()=>[(C(!0),A(ue,null,fe(k.value,h=>(C(),A("span",{class:"inPeople",key:h.id},L(h.username),1))),128))]),_:1}),r(Oe,{name:"unknownPeople",tab:"æœªçŸ¥äººå‘˜"},{default:$(()=>[(C(!0),A(ue,null,fe(W.value,h=>(C(),A("span",{class:"unknown",key:h.id},L(h.username),1))),128))]),_:1})]),_:1},8,["value"])])):he("",!0)]),_:1})]),r(hr,{ref_key:"trajectoryChartRef",ref:K,projectDistributionData:Ce.value,dates:j.value,data:g.value,name:"å®æ—¶è½¨è¿¹"},null,8,["projectDistributionData","dates","data"])]),_:1}),r(le,{title:"æ’è¡Œæ¦œ",class:"content_right-top"},{default:$(()=>[r(rt,{ref:"tableContainer",remote:"","onUpdate:sorter":Ne,columns:z(t).userInfo.usertype==3?ot:nt,"scroll-x":(z(t).userInfo.usertype==3?ot:nt).reduce((h,He)=>h+(He.width||100),0),data:re.value,bordered:!1,"max-height":560},null,8,["columns","scroll-x","data"])]),_:1})]),r(le,{class:"content_right-bottom",title:"è¿‘æœŸé¡¹ç›®"},{default:$(()=>[r(rt,{ref:"tableContainer",remote:"",pagination:V.pageSize==1?!1:V,"scroll-x":ke.reduce((h,He)=>h+(He.width||100),0),columns:ke,data:v.value,bordered:!1,"max-height":325},null,8,["pagination","scroll-x","data"])]),_:1})])])]),l.value?(C(),ce(Yt,{key:0})):he("",!0)],64)}}}),Qr=be(Ur,[["__scopeId","data-v-f79a8ff4"]]);export{Qr as default};
