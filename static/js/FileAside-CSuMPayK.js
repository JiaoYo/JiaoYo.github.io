import{_ as e}from"./index-Ckyaj2Mg.js";import{d as l,l as a,n as t,b as s,L as o,e as i,o as u,f as n,h as r,w as c,g as d,H as p,G as m,F as f,j as v,c as y,i as _,t as F,B as b,a9 as k,_ as z}from"./index-7Ke4gaSZ.js";import{F as x}from"./file-CHGigm4F.js";import{m as h}from"./mitt-B3wGw59e.js";const j={class:"percent"},w=z(l({__name:"FileAside",setup(l){const z=a(),w=t(),g=s(520),A=s(0),B=s("0"),I=s([{label:"图片",value:0,color:"#4F6BF6",size:0},{label:"文档",value:0,color:"#FFA000",size:0},{label:"代码",value:0,color:"#FFA000",size:0},{label:"视频",value:0,color:"#A15FDE",size:0},{label:"音频",value:0,color:"#FD6112",size:0},{label:"其他",value:0,color:"#52B852",size:0}]),q=s(!0);h.on("FILESIZES",(e=>{const l=e.reduce(((e,l)=>e+l),0);A.value=+(l/1024/1024/1024).toFixed(5),I.value.forEach(((a,t)=>{a.value=e[t]/l,a.size=+(e[t]/1024/1024).toFixed(3)}))})),o((()=>z.query),(()=>{z.query.fileType&&(B.value=z.query.fileType)}),{immediate:!0});return(l,a)=>{const t=i("a-switch"),s=i("a-tooltip"),o=i("icon-apps"),z=e,h=i("a-menu-item"),E=i("a-sub-menu"),D=i("a-menu"),S=i("a-card"),T=i("a-progress"),V=i("icon-cloud"),C=i("a-statistic"),G=i("a-row"),L=i("a-space");return u(),n("div",null,[r(S,{title:"文件管理",bordered:!1,"body-style":{padding:0}},{extra:c((()=>[r(s,{content:"显示容量"},{default:c((()=>[r(t,{modelValue:d(q),"onUpdate:modelValue":a[0]||(a[0]=e=>p(q)?q.value=e:null),type:"round",size:"small"},null,8,["modelValue"])])),_:1})])),default:c((()=>[r(D,{"default-open-keys":["0"],"selected-keys":[d(B)]},{default:c((()=>[r(E,{key:"0"},{icon:c((()=>[r(o)])),title:c((()=>a[1]||(a[1]=[m("文件类型")]))),default:c((()=>[(u(!0),n(f,null,v(d(x),(e=>(u(),y(h,{key:e.value.toString(),onClick:l=>(e=>{w.push({path:"/file",query:{fileType:e.value}})})(e)},{icon:c((()=>[r(z,{size:28,name:e.menuIcon},null,8,["name"])])),default:c((()=>[_("span",null,F(e.name),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},8,["selected-keys"])])),_:1}),b(_("section",j,[r(G,{justify:"space-between"},{default:c((()=>[r(T,{type:"circle",color:"#00B42A",percent:+(d(A)/d(g)).toFixed(5),"stroke-width":5},null,8,["percent"]),r(C,{precision:2,title:"剩余容量",value:d(g)-d(A),"value-style":{color:"#5856D6"}},{prefix:c((()=>[r(V)])),suffix:c((()=>a[2]||(a[2]=[m("G")]))),_:1},8,["value"])])),_:1}),(u(),y(L,{key:d(B),size:"mini",fill:"",direction:"vertical",class:"gi_mt"},{default:c((()=>[(u(!0),n(f,null,v(d(I),(e=>(u(),y(T,{key:e.label,percent:e.value,"stroke-width":8,color:e.color,title:e.size+"MB",animation:!0},{text:c((()=>[m(F(e.label),1)])),_:2},1032,["percent","color","title"])))),128))])),_:1}))],512),[[k,d(q)]])])}}}),[["__scopeId","data-v-9ecbe192"]]);export{w as default};
