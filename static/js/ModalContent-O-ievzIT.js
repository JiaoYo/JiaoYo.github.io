import{d as a,b as e,k as l,W as s,e as o,o as t,c as u,w as i,B as n,i as v,s as r,g as d,h as p,t as c,f,a as x,a9 as m,T as y,_ as g}from"./index-BxLtnPqY.js";import{u as _,f as h,c as k}from"./index-RPMMbXeG.js";import"./index-CYLSZXsS.js";const C={style:{padding:"10px 14px 14px 14px"}},b={class:"audio-name"},X=["src"],w=g(a({__name:"ModalContent",props:{data:{},onClose:{}},setup(a){const g=a,w=e(!1),S=e(null),j=e(null),z=l((()=>{var a;return(null==(a=g.data)?void 0:a.src)||""}));s((()=>{w.value=!0}));const{width:I,height:A}=_(),{width:D,height:J}=h(S),N=e({top:40,left:I.value-D.value}),O=JSON.parse(sessionStorage.getItem("AudioDialogXY"));O&&O.top&&O.left&&(N.value.top=O.top,N.value.left=O.left);const{x:R,y:Y}=k(S,{initialValue:{x:N.value.left-D.value,y:N.value.top}}),$=l((()=>{let a=R.value,e=Y.value;return R.value>I.value-D.value&&(a=I.value-D.value),R.value<0&&(a=0),Y.value>A.value-J.value&&(e=A.value-J.value),Y.value<0&&(e=0),sessionStorage.setItem("AudioDialogXY",JSON.stringify({top:e,left:a})),a==I.value-D.value&&S.value?(S.value.style.transform="translateX(300px)",B.value=!0):(S.value&&(S.value.style.transform="translate`X(-10px)"),B.value=!1),{left:`${a}px`,top:`${e}px`}})),B=e(!1),H=()=>{S.value&&(S.value.style.transform="translateX(-10px)"),B.value=!1},M=()=>{w.value=!1,g.onClose&&g.onClose()};return(a,e)=>{const l=o("icon-music"),s=o("icon-close"),_=o("icon-double-left");return t(),u(y,{name:"slide-dynamic-origin"},{default:i((()=>{var a;return[n(v("div",{ref_key:"audioRef",ref:S,class:"audio-box",style:r(d($))},[v("section",C,[v("div",{ref_key:"audioHeadRef",ref:j,class:"audio-box__header"},[v("div",b,[p(l,{size:16,spin:""}),v("span",null,c(null==(a=g.data)?void 0:a.name),1)]),v("div",{class:"close-icon",onClick:M},[p(s,{size:12})])],512),v("audio",{class:"audio",src:d(z),controls:"",autoplay:"",loop:""},null,8,X)]),d(B)?(t(),f("div",{key:0,class:"showaudio",onClick:H},[p(_,{size:20})])):x("",!0)],4),[[m,d(w)]])]})),_:1})}}}),[["__scopeId","data-v-8b120e35"]]);export{w as default};
