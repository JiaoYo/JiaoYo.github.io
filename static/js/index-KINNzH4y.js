import{_ as e}from"./index-Ckyaj2Mg.js";import{d as t,o as l,c as o,r as n,a,u as s,b as i,e as r,f as u,g as c,w as d,h,i as p,t as m,m as v,F as g,j as f,k as y,l as b,n as k,p as S,q as _,s as C,v as x,x as w,_ as F,y as H,z as $,A as I,B as A,C as z,D as M,E as B,G as L,H as D,I as O,J as E,M as N,K as R,L as V,T,N as j,O as P,P as U,Q as J}from"./index-7Ke4gaSZ.js";import{u as W,a as K}from"./index-nEh5pKX0.js";import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang-FdcdrhMz.js";const G=t({__name:"MenuIcon",props:{svgIcon:{},icon:{}},setup(t){const s=t;return(t,i)=>{const r=e;return s.svgIcon?(l(),o(r,{key:0,name:s.svgIcon,size:24},null,8,["name"])):s.icon?(l(),o(n(s.icon),{key:1})):a("",!0)}}}),X=t({name:"MenuItem",__name:"MenuItem",props:{item:{}},setup(e){const t=e,n=s(),y=i(null),b=i(!1);return(()=>{var e,l;const o=((null==(l=null==(e=t.item)?void 0:e.children)?void 0:l.length)?t.item.children:[]).filter((e=>{var t;return!1===(null==(t=e.meta)?void 0:t.hidden)}));o.length&&(y.value=o[o.length-1]),1===o.length&&(b.value=!0),0===o.length&&(y.value={...t.item,meta:{...t.item.meta,noShowingChildren:!0}},b.value=!0)})(),(e,t)=>{var s,i,k,S,_,C,x,w,F;const H=r("a-menu-item"),$=r("MenuItem",!0),I=r("a-sub-menu");return(null==(s=e.item.meta)?void 0:s.hidden)?a("",!0):(l(),u(g,{key:0},[!c(b)||(null==(i=c(y))?void 0:i.children)&&!(null==(S=null==(k=c(y))?void 0:k.meta)?void 0:S.noShowingChildren)||(null==(C=null==(_=e.item)?void 0:_.meta)?void 0:C.alwaysShow)?(l(),o(I,v({key:1},c(n),{key:e.item.path,title:null==(F=null==(w=e.item)?void 0:w.meta)?void 0:F.title}),{icon:d((()=>{var t,l,o,n;return[h(G,{"svg-icon":null==(l=null==(t=e.item)?void 0:t.meta)?void 0:l.svgIcon,icon:null==(n=null==(o=e.item)?void 0:o.meta)?void 0:n.icon},null,8,["svg-icon","icon"])]})),default:d((()=>[(l(!0),u(g,null,f(e.item.children,(e=>(l(),o($,{key:e.path,item:e},null,8,["item"])))),128))])),_:1},16,["title"])):(l(),o(H,v({key:0},c(n),{key:null==(x=c(y))?void 0:x.path}),{icon:d((()=>{var t,l,o,n,a,s,i,r;return[h(G,{"svg-icon":(null==(l=null==(t=c(y))?void 0:t.meta)?void 0:l.svgIcon)||(null==(n=null==(o=e.item)?void 0:o.meta)?void 0:n.svgIcon),icon:(null==(s=null==(a=c(y))?void 0:a.meta)?void 0:s.icon)||(null==(r=null==(i=e.item)?void 0:i.meta)?void 0:r.icon)},null,8,["svg-icon","icon"])]})),default:d((()=>{var e,t;return[p("span",null,m(null==(t=null==(e=c(y))?void 0:e.meta)?void 0:t.title),1)]})),_:1},16))],64))}}});function q(){const{width:e}=W(),t=y((()=>e.value>768));return{isMobile:y((()=>!t.value)),isDesktop:t}}const Q=t({name:"AppMenu",__name:"index",props:{menus:{},menuStyle:{}},emits:["menu-item-click-after"],setup(e,{emit:t}){const n=e,a=t,{isDesktop:s}=q(),i=b(),h=k(),p=S(),m=_(),v=y((()=>n.menus?n.menus:m.routes)),w=y((()=>["left","mix"].includes(p.layout)?"vertical":"horizontal")),F=y((()=>!!["left","mix"].includes(p.layout))),H=y((()=>{const{meta:e,path:t}=i;return(null==e?void 0:e.activeMenu)?[e.activeMenu]:[t]})),$=e=>{x(e)?window.open(e):(h.push({path:e}),a("menu-item-click-after"))},I=e=>{"mix"===p.layout&&(p.menuCollapse=e)};return(e,t)=>{const n=r("a-menu");return l(),o(n,{mode:c(w),"selected-keys":c(H),"auto-open-selected":c(F),accordion:c(p).menuAccordion,breakpoint:"mix"===c(p).layout?"xl":void 0,"trigger-props":{animationName:"slide-dynamic-origin"},collapsed:!!c(s)&&c(p).menuCollapse,style:C(e.menuStyle),onMenuItemClick:$,onCollapse:I},{default:d((()=>[(l(!0),u(g,null,f(c(v),((e,t)=>(l(),o(X,{key:e.path+t,item:e},null,8,["item"])))),128))])),_:1},8,["mode","selected-keys","auto-open-selected","accordion","breakpoint","collapsed","style"])}}}),Z=F(t({__name:"Logo",props:{collapsed:{type:Boolean,default:!1}},setup(e){const t=e,o=k(),n=()=>{o.push("/")};return(e,o)=>(l(),u("section",{class:w(["system-logo",{collapsed:t.collapsed}]),onClick:n},o[0]||(o[0]=[p("svg",{t:"1714122005112",class:"icon logo",viewBox:"0 0 1086 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1075","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"212.109375",height:"200"},[p("path",{d:"M321.215 391.8l455.225-2.046-218.918 550.362z m52.172-199.48l346.789 3.069 61.378 134.01-450.11-3.07z m-99.23 129.918L0 207.664 147.309 98.206 323.26 189.25zM0 274.158l259.836 115.596 279.273 546.27zM841.91 388.73l243.469-125.826-512.512 670.05z m-5.115-67.516l-68.54-141.171 156.516-86.953 135.033 113.55zM368.272 124.803l-59.333-15.344-111.504-62.402L328.375 0H755.98l129.918 54.218-124.803 60.355-41.942 10.23H368.272z",fill:"65a15f","p-id":"1076"})],-1),p("span",{class:"system-name"},"Admin",-1)]),2))}}),[["__scopeId","data-v-5ec99cde"]]),ee=F(t({name:"AppAsider",__name:"index",setup(e){const t=S(),{isDesktop:o}=q(),n=e=>{t.menuCollapse=e};return(e,s)=>{const i=r("a-scrollbar"),p=r("a-layout-sider");return c(o)?(l(),u("div",{key:0,class:w(["asider",{"app-menu-dark":c(t).menuDark}]),style:C(c(t).menuDark?c(t).themeCSSVar:void 0)},[h(Z,{collapsed:c(t).menuCollapse},null,8,["collapsed"]),h(p,{class:"menu",collapsible:"",breakpoint:"xl","hide-trigger":"",width:220,collapsed:c(t).menuCollapse,onCollapse:n},{default:d((()=>[h(i,{"outer-class":"h-full",style:{height:"100%",overflow:"auto"}},{default:d((()=>[h(Q)])),_:1})])),_:1},8,["collapsed"])],6)):a("",!0)}}}),[["__scopeId","data-v-2fbc767c"]]),te={key:0,class:"gi_line_1"},le=["onClick"],oe=F(t({__name:"index",setup(e){const t=b(),n=k(),{routes:a}=_();let s=null;const h=i([]);function p(){(()=>{if(!s){const e=JSON.parse(JSON.stringify(a)),t=$.findTree(e,(e=>"/home"===e.path));s=t.item}})();const e=JSON.parse(JSON.stringify(a)),l=$.findTree(e,(e=>e.path===t.path)).nodes.filter((e=>e.meta&&e.meta.title&&!1!==e.meta.breadcrumb));s&&(h.value=[s,...l])}return p(),H((()=>{t.path.startsWith("/redirect/")||p()})),(e,t)=>{const a=r("a-breadcrumb-item"),s=r("a-breadcrumb");return l(),o(s,null,{default:d((()=>[(l(!0),u(g,null,f(c(h),((e,t)=>(l(),o(a,{key:t},{default:d((()=>["noRedirect"===e.redirect||""===e.redirect||t===c(h).length-1?(l(),u("span",te,m(e.meta.title),1)):(l(),u("span",{key:1,class:"gi_line_1 breadcrumb-item-title",onClick:t=>function(e){const{redirect:t,path:l}=e;if(t)return n.push(t);n.push(l)}(e)},m(e.meta.title),9,le))])),_:2},1024)))),128))])),_:1})}}}),[["__scopeId","data-v-b779ec91"]]);function ne(e){let t={r:0,g:0,b:0,a:1};/#/.test(e)?t=function(e){e=e.slice(1);const t=e=>parseInt(e,16)||0;return{r:t(e.slice(0,2)),g:t(e.slice(2,4)),b:t(e.slice(4,6))}}(e):/rgb/.test(e)?t=ie(e):"string"==typeof e?t=ie(`rgba(${e})`):"[object Object]"===Object.prototype.toString.call(e)&&(t=e);const{r:l,g:o,b:n,a:a}=t,{h:s,s:i,v:r}=function({r:e,g:t,b:l}){e/=255,t/=255,l/=255;const o=Math.max(e,t,l),n=Math.min(e,t,l),a=o-n;let s=0;o===n?s=0:o===e?s=t>=l?60*(t-l)/a:60*(t-l)/a+360:o===t?s=60*(l-e)/a+120:o===l&&(s=60*(e-t)/a+240);s=Math.floor(s);let i=parseFloat((0===o?0:1-n/o).toFixed(2)),r=parseFloat(o.toFixed(2));return{h:s,s:i,v:r}}(t);return{r:l,g:o,b:n,a:void 0===a?1:a,h:s,s:i,v:r}}function ae(e){const t=document.createElement("canvas"),l=t.getContext("2d"),o=2*e;return t.width=o,t.height=o,l.fillStyle="#ffffff",l.fillRect(0,0,o,o),l.fillStyle="#ccd5db",l.fillRect(0,0,e,e),l.fillRect(e,e,e,e),t}function se(e,t,l,o,n,a){const s="l"===e,i=t.createLinearGradient(0,0,s?l:0,s?0:o);i.addColorStop(.01,n),i.addColorStop(.99,a),t.fillStyle=i,t.fillRect(0,0,l,o)}function ie(e){return"string"==typeof e?(e=(/rgba?\((.*?)\)/.exec(e)||["","0,0,0,1"])[1].split(","),{r:Number(e[0])||0,g:Number(e[1])||0,b:Number(e[2])||0,a:Number(e[3]?e[3]:1)}):e}var re=t({props:{color:{type:String,default:"#000000"},hsv:{type:Object,default:null},size:{type:Number,default:152}},emits:["selectSaturation"],data:()=>({slideSaturationStyle:{}}),mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const e=this.$refs.canvasSaturation,t=this.size,l=e.getContext("2d");e.width=t,e.height=t,l.fillStyle=this.color,l.fillRect(0,0,t,t),se("l",l,t,t,"#FFFFFF","rgba(255,255,255,0)"),se("p",l,t,t,"rgba(0,0,0,0)","#000000")},renderSlide(){this.slideSaturationStyle={left:this.hsv.s*this.size-5+"px",top:(1-this.hsv.v)*this.size-5+"px"}},selectSaturation(e){const{top:t,left:l}=this.$el.getBoundingClientRect(),o=e.target.getContext("2d"),n=e=>{let n=e.clientX-l,a=e.clientY-t;n<0&&(n=0),a<0&&(a=0),n>this.size&&(n=this.size),a>this.size&&(a=this.size),this.slideSaturationStyle={left:n-5+"px",top:a-5+"px"};const s=o.getImageData(Math.min(n,this.size-1),Math.min(a,this.size-1),1,1),[i,r,u]=s.data;this.$emit("selectSaturation",{r:i,g:r,b:u})};n(e);const a=()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",a)}}});const ue={ref:"canvasSaturation"};re.render=function(e,t,n,a,s,i){return l(),o("div",{class:"saturation",onMousedown:t[1]||(t[1]=I(((...t)=>e.selectSaturation&&e.selectSaturation(...t)),["prevent","stop"]))},[h("canvas",ue,null,512),h("div",{style:e.slideSaturationStyle,class:"slide"},null,4)],32)},re.__file="src/color/Saturation.vue";var ce=t({props:{hsv:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},emits:["selectHue"],data:()=>({slideHueStyle:{}}),mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const e=this.$refs.canvasHue,t=this.width,l=this.height,o=e.getContext("2d");e.width=t,e.height=l;const n=o.createLinearGradient(0,0,0,l);n.addColorStop(0,"#FF0000"),n.addColorStop(.17,"#FF00FF"),n.addColorStop(.34,"#0000FF"),n.addColorStop(.51,"#00FFFF"),n.addColorStop(.68,"#00FF00"),n.addColorStop(.17*5,"#FFFF00"),n.addColorStop(1,"#FF0000"),o.fillStyle=n,o.fillRect(0,0,t,l)},renderSlide(){this.slideHueStyle={top:(1-this.hsv.h/360)*this.height-2+"px"}},selectHue(e){const{top:t}=this.$el.getBoundingClientRect(),l=e.target.getContext("2d"),o=e=>{let o=e.clientY-t;o<0&&(o=0),o>this.height&&(o=this.height),this.slideHueStyle={top:o-2+"px"};const n=l.getImageData(0,Math.min(o,this.height-1),1,1),[a,s,i]=n.data;this.$emit("selectHue",{r:a,g:s,b:i})};o(e);const n=()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",n)}}});const de={ref:"canvasHue"};ce.render=function(e,t,n,a,s,i){return l(),o("div",{class:"hue",onMousedown:t[1]||(t[1]=I(((...t)=>e.selectHue&&e.selectHue(...t)),["prevent","stop"]))},[h("canvas",de,null,512),h("div",{style:e.slideHueStyle,class:"slide"},null,4)],32)},ce.__file="src/color/Hue.vue";var he=t({props:{color:{type:String,default:"#000000"},rgba:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},emits:["selectAlpha"],data:()=>({slideAlphaStyle:{},alphaSize:5}),watch:{color(){this.renderColor()},"rgba.a"(){this.renderSlide()}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const e=this.$refs.canvasAlpha,t=this.width,l=this.height,o=ae(this.alphaSize),n=e.getContext("2d");e.width=t,e.height=l,n.fillStyle=n.createPattern(o,"repeat"),n.fillRect(0,0,t,l),se("p",n,t,l,"rgba(255,255,255,0)",this.color)},renderSlide(){this.slideAlphaStyle={top:this.rgba.a*this.height-2+"px"}},selectAlpha(e){const{top:t}=this.$el.getBoundingClientRect(),l=e=>{let l=e.clientY-t;l<0&&(l=0),l>this.height&&(l=this.height);let o=parseFloat((l/this.height).toFixed(2));this.$emit("selectAlpha",o)};l(e);const o=()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",o)}}});const pe={ref:"canvasAlpha"};he.render=function(e,t,n,a,s,i){return l(),o("div",{class:"color-alpha",onMousedown:t[1]||(t[1]=I(((...t)=>e.selectAlpha&&e.selectAlpha(...t)),["prevent","stop"]))},[h("canvas",pe,null,512),h("div",{style:e.slideAlphaStyle,class:"slide"},null,4)],32)},he.__file="src/color/Alpha.vue";var me=t({props:{color:{type:String,default:"#000000"},width:{type:Number,default:100},height:{type:Number,default:30}},data:()=>({alphaSize:5}),watch:{color(){this.renderColor()}},mounted(){this.renderColor()},methods:{renderColor(){const e=this.$el,t=this.width,l=this.height,o=ae(this.alphaSize),n=e.getContext("2d");e.width=t,e.height=l,n.fillStyle=n.createPattern(o,"repeat"),n.fillRect(0,0,t,l),n.fillStyle=this.color,n.fillRect(0,0,t,l)}}});me.render=function(e,t,n,a,s,i){return l(),o("canvas")},me.__file="src/color/Preview.vue";var ve=t({props:{suckerCanvas:{type:Object,default:null},suckerArea:{type:Array,default:()=>[]}},data:()=>({isOpenSucker:!1,suckerPreview:null,isSucking:!1}),watch:{suckerCanvas(e){this.isSucking=!1,this.suckColor(e)}},methods:{openSucker(){this.isOpenSucker?this.keydownHandler({keyCode:27}):(this.isOpenSucker=!0,this.isSucking=!0,this.$emit("openSucker",!0),document.addEventListener("keydown",this.keydownHandler))},keydownHandler(e){27===e.keyCode&&(this.isOpenSucker=!1,this.isSucking=!1,this.$emit("openSucker",!1),document.removeEventListener("keydown",this.keydownHandler),document.removeEventListener("mousemove",this.mousemoveHandler),document.removeEventListener("mouseup",this.mousemoveHandler),this.suckerPreview&&(document.body.removeChild(this.suckerPreview),this.suckerPreview=null))},mousemoveHandler(e){const{clientX:t,clientY:l}=e,{top:o,left:n,width:a,height:s}=this.suckerCanvas.getBoundingClientRect(),i=t-n,r=l-o,u=this.suckerCanvas.getContext("2d").getImageData(Math.min(i,a-1),Math.min(r,s-1),1,1);let[c,d,h,p]=u.data;p=parseFloat((p/255).toFixed(2));const m=this.suckerPreview.style;Object.assign(m,{position:"absolute",left:t+20+"px",top:l-36+"px",width:"24px",height:"24px",borderRadius:"50%",border:"2px solid #fff",boxShadow:"0 0 8px 0 rgba(0, 0, 0, 0.16)",background:`rgba(${c}, ${d}, ${h}, ${p})`,zIndex:95}),this.suckerArea.length&&t>=this.suckerArea[0]&&l>=this.suckerArea[1]&&t<=this.suckerArea[2]&&l<=this.suckerArea[3]?m.display="":m.display="none"},suckColor(e){e&&"CANVAS"!==e.tagName||(this.suckerPreview=document.createElement("div"),this.suckerPreview&&document.body.appendChild(this.suckerPreview),document.addEventListener("mousemove",this.mousemoveHandler),document.addEventListener("mouseup",this.mousemoveHandler),e.addEventListener("click",(t=>{const{clientX:l,clientY:o}=t,{top:n,left:a,width:s,height:i}=e.getBoundingClientRect(),r=l-a,u=o-n,c=e.getContext("2d").getImageData(Math.min(r,s-1),Math.min(u,i-1),1,1);let[d,h,p,m]=c.data;m=parseFloat((m/255).toFixed(2)),this.$emit("selectSucker",{r:d,g:h,b:p,a:m})})))}}});const ge=h("path",{d:"M13.1,8.2l5.6,5.6c0.4,0.4,0.5,1.1,0.1,1.5s-1.1,0.5-1.5,0.1c0,0-0.1,0-0.1-0.1l-1.4-1.4l-7.7,7.7C7.9,21.9,7.6,22,7.3,22H3.1C2.5,22,2,21.5,2,20.9l0,0v-4.2c0-0.3,0.1-0.6,0.3-0.8l5.8-5.8C8.5,9.7,9.2,9.6,9.7,10s0.5,1.1,0.1,1.5c0,0,0,0.1-0.1,0.1l-5.5,5.5v2.7h2.7l7.4-7.4L8.7,6.8c-0.5-0.4-0.5-1-0.1-1.5s1.1-0.5,1.5-0.1c0,0,0.1,0,0.1,0.1l1.4,1.4l3.5-3.5c1.6-1.6,4.1-1.6,5.8-0.1c1.6,1.6,1.6,4.1,0.1,5.8L20.9,9l-3.6,3.6c-0.4,0.4-1.1,0.5-1.5,0.1"},null,-1),fe={key:1,class:"sucker",viewBox:"-16 -16 68 68",xmlns:"http://www.w3.org/2000/svg",stroke:"#9099a4"},ye=h("g",{fill:"none","fill-rule":"evenodd"},[h("g",{transform:"translate(1 1)","stroke-width":"4"},[h("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),h("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[h("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})])])],-1);ve.render=function(e,t,n,s,i,r){return l(),o("div",null,[e.isSucking?a("v-if",!0):(l(),o("svg",{key:0,class:[{active:e.isOpenSucker},"sucker"],xmlns:"http://www.w3.org/2000/svg",viewBox:"-12 -12 48 48",onClick:t[1]||(t[1]=(...t)=>e.openSucker&&e.openSucker(...t))},[ge],2)),e.isSucking?(l(),o("svg",fe,[ye])):a("v-if",!0)])},ve.__file="src/color/Sucker.vue";var be=t({props:{name:{type:String,default:""},color:{type:String,default:""}},emits:["inputColor","inputFocus","inputBlur"],setup:(e,{emit:t})=>({modelColor:y({get:()=>e.color||"",set(e){t("inputColor",e)}}),handleFocus:e=>{t("inputFocus",e)},handleBlur:e=>{t("inputBlur",e)}})});const ke={class:"color-type"},Se={class:"name"};be.render=function(e,t,n,a,s,i){return l(),o("div",ke,[h("span",Se,m(e.name),1),A(h("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.modelColor=t),class:"value",onFocus:t[2]||(t[2]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[3]||(t[3]=(...t)=>e.handleBlur&&e.handleBlur(...t))},null,544),[[z,e.modelColor]])])},be.__file="src/color/Box.vue";var _e=t({name:"ColorPicker",props:{color:{type:String,default:"#000000"},colorsDefault:{type:Array,default:()=>[]},colorsHistoryKey:{type:String,default:""}},emits:["selectColor"],setup(e,{emit:t}){const l=i(),o=i([]),n=i();function a(t){if(!t)return;const l=o.value||[],n=l.indexOf(t);n>=0&&l.splice(n,1),l.length>=8&&(l.length=7),l.unshift(t),o.value=l||[],localStorage&&e.colorsHistoryKey&&localStorage.setItem(e.colorsHistoryKey,JSON.stringify(l))}return e.colorsHistoryKey&&localStorage&&(o.value=JSON.parse(localStorage.getItem(e.colorsHistoryKey))||[]),n.value=ae(4).toDataURL(),M((()=>{a(l.value)})),{setColorsHistory:a,colorsHistory:o,color:l,imgAlphaBase64:n,selectColor:function(e){t("selectColor",e)}}}});const Ce={class:"colors"},xe={key:0,class:"colors history"};_e.render=function(e,t,n,s,i,r){return l(),o("div",null,[h("ul",Ce,[(l(!0),o(g,null,f(e.colorsDefault,(t=>(l(),o("li",{key:t,class:"item",onClick:l=>e.selectColor(t)},[h("div",{style:{background:`url(${e.imgAlphaBase64})`},class:"alpha"},null,4),h("div",{style:{background:t},class:"color"},null,4)],8,["onClick"])))),128))]),e.colorsHistory.length?(l(),o("ul",xe,[(l(!0),o(g,null,f(e.colorsHistory,(t=>(l(),o("li",{key:t,class:"item",onClick:l=>e.selectColor(t)},[h("div",{style:{background:`url(${e.imgAlphaBase64})`},class:"alpha"},null,4),h("div",{style:{background:t},class:"color"},null,4)],8,["onClick"])))),128))])):a("v-if",!0)])},_e.__file="src/color/Colors.vue";var we=t({components:{Saturation:re,Hue:ce,Alpha:he,Preview:me,Sucker:ve,Box:be,Colors:_e},emits:["changeColor","openSucker","inputFocus","inputBlur"],props:{color:{type:String,default:"#000000"},theme:{type:String,default:"dark"},suckerHide:{type:Boolean,default:!0},suckerCanvas:{type:null,default:null},suckerArea:{type:Array,default:()=>[]},colorsDefault:{type:Array,default:()=>["#000000","#FFFFFF","#FF1900","#F47365","#FFB243","#FFE623","#6EFF2A","#1BC7B1","#00BEFF","#2E81FF","#5D61FF","#FF89CF","#FC3CAD","#BF3DCE","#8E00A7","rgba(0,0,0,0)"]},colorsHistoryKey:{type:String,default:"vue-colorpicker-history"}},data:()=>({hueWidth:15,hueHeight:152,previewHeight:30,modelRgba:"",modelHex:"",r:0,g:0,b:0,a:1,h:0,s:0,v:0}),computed:{isLightTheme(){return"light"===this.theme},totalWidth(){return this.hueHeight+2*(this.hueWidth+8)},previewWidth(){return this.totalWidth-(this.suckerHide?0:this.previewHeight)},rgba(){return{r:this.r,g:this.g,b:this.b,a:this.a}},hsv(){return{h:this.h,s:this.s,v:this.v}},rgbString(){return`rgb(${this.r}, ${this.g}, ${this.b})`},rgbaStringShort(){return`${this.r}, ${this.g}, ${this.b}, ${this.a}`},rgbaString(){return`rgba(${this.rgbaStringShort})`},hexString(){return function({r:e,g:t,b:l},o){const n=e=>("0"+Number(e).toString(16)).slice(-2),a=`#${n(e)}${n(t)}${n(l)}`;return o?a.toUpperCase():a}(this.rgba,!0)}},created(){Object.assign(this,ne(this.color)),this.setText(),this.$watch("rgba",(()=>{this.$emit("changeColor",{rgba:this.rgba,hsv:this.hsv,hex:this.modelHex})}))},methods:{selectSaturation(e){const{r:t,g:l,b:o,h:n,s:a,v:s}=ne(e);Object.assign(this,{r:t,g:l,b:o,h:n,s:a,v:s}),this.setText()},handleFocus(e){this.$emit("inputFocus",e)},handleBlur(e){this.$emit("inputBlur",e)},selectHue(e){const{r:t,g:l,b:o,h:n,s:a,v:s}=ne(e);Object.assign(this,{r:t,g:l,b:o,h:n,s:a,v:s}),this.setText(),this.$nextTick((()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide()}))},selectAlpha(e){this.a=e,this.setText()},inputHex(e){const{r:t,g:l,b:o,a:n,h:a,s:s,v:i}=ne(e);Object.assign(this,{r:t,g:l,b:o,a:n,h:a,s:s,v:i}),this.modelHex=e,this.modelRgba=this.rgbaStringShort,this.$nextTick((()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()}))},inputRgba(e){const{r:t,g:l,b:o,a:n,h:a,s:s,v:i}=ne(e);Object.assign(this,{r:t,g:l,b:o,a:n,h:a,s:s,v:i}),this.modelHex=this.hexString,this.modelRgba=e,this.$nextTick((()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()}))},setText(){this.modelHex=this.hexString,this.modelRgba=this.rgbaStringShort},openSucker(e){this.$emit("openSucker",e)},selectSucker(e){const{r:t,g:l,b:o,a:n,h:a,s:s,v:i}=ne(e);Object.assign(this,{r:t,g:l,b:o,a:n,h:a,s:s,v:i}),this.setText(),this.$nextTick((()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()}))},selectColor(e){const{r:t,g:l,b:o,a:n,h:a,s:s,v:i}=ne(e);Object.assign(this,{r:t,g:l,b:o,a:n,h:a,s:s,v:i}),this.setText(),this.$nextTick((()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()}))}}});const Fe={class:"color-set"};we.render=function(e,t,n,s,i,u){const c=r("Saturation"),d=r("Hue"),p=r("Alpha"),m=r("Preview"),v=r("Sucker"),g=r("Box"),f=r("Colors");return l(),o("div",{class:["hu-color-picker",{light:e.isLightTheme}],style:{width:e.totalWidth+"px"}},[h("div",Fe,[h(c,{ref:"saturation",color:e.rgbString,hsv:e.hsv,size:e.hueHeight,onSelectSaturation:e.selectSaturation},null,8,["color","hsv","size","onSelectSaturation"]),h(d,{ref:"hue",hsv:e.hsv,width:e.hueWidth,height:e.hueHeight,onSelectHue:e.selectHue},null,8,["hsv","width","height","onSelectHue"]),h(p,{ref:"alpha",color:e.rgbString,rgba:e.rgba,width:e.hueWidth,height:e.hueHeight,onSelectAlpha:e.selectAlpha},null,8,["color","rgba","width","height","onSelectAlpha"])]),h("div",{style:{height:e.previewHeight+"px"},class:"color-show"},[h(m,{color:e.rgbaString,width:e.previewWidth,height:e.previewHeight},null,8,["color","width","height"]),e.suckerHide?a("v-if",!0):(l(),o(v,{key:0,"sucker-canvas":e.suckerCanvas,"sucker-area":e.suckerArea,onOpenSucker:e.openSucker,onSelectSucker:e.selectSucker},null,8,["sucker-canvas","sucker-area","onOpenSucker","onSelectSucker"]))],4),h(g,{name:"HEX",color:e.modelHex,onInputColor:e.inputHex,onInputFocus:e.handleFocus,onInputBlur:e.handleBlur},null,8,["color","onInputColor","onInputFocus","onInputBlur"]),h(g,{name:"RGBA",color:e.modelRgba,onInputColor:e.inputRgba,onInputFocus:e.handleFocus,onInputBlur:e.handleBlur},null,8,["color","onInputColor","onInputFocus","onInputBlur"]),h(f,{color:e.rgbaString,"colors-default":e.colorsDefault,"colors-history-key":e.colorsHistoryKey,onSelectColor:e.selectColor},null,8,["color","colors-default","colors-history-key","onSelectColor"]),a(" custom options "),B(e.$slots,"default")],6)},we.__file="src/color/ColorPicker.vue",we.install=e=>{e.component(we.name,we)};const He=F(t({__name:"LayoutItem",props:{mode:{}},emits:["click"],setup(e,{emit:t}){const o=t;return(e,t)=>(l(),u("div",{class:w(["layout-item",`layout-item-${e.mode}`]),onClick:t[0]||(t[0]=e=>o("click"))},null,2))}}),[["__scopeId","data-v-0c604a6b"]]),$e=F(t({name:"SettingDrawer",__name:"SettingDrawer",setup(e,{expose:t}){const n=S(),s=i(!1),u=[{label:"卡片",value:"card"},{label:"间隔卡片",value:"card-gutter"},{label:"圆角",value:"rounded"}],m=[{label:"默认",value:"zoom-fade"},{label:"滑动",value:"fade-slide"},{label:"渐变",value:"fade"},{label:"底部滑出",value:"fade-bottom"},{label:"缩放消退",value:"fade-scale"}];t({open:()=>{s.value=!0}});const v=["#165DFF","#409EFF","#18A058","#2d8cf0","#007AFF","#5ac8fa","#5856D6","#536dfe","#9c27b0","#AF52DE","#0096c7","#00C1D4","#43a047","#e53935","#f4511e","#6d4c41"],g=e=>{/^#[0-9A-Za-z]{6}/.test(e.hex)&&n.setThemeColor(e.hex)};return(e,t)=>{const i=r("a-divider"),f=r("icon-check-circle-fill"),y=r("a-badge"),b=r("a-space"),k=r("a-row"),S=r("a-switch"),_=r("a-descriptions-item"),C=r("a-select"),x=r("a-descriptions"),w=r("a-drawer");return l(),o(w,{visible:c(s),"onUpdate:visible":t[9]||(t[9]=e=>D(s)?s.value=e:null),title:"项目配置",width:"300px","unmount-on-close":"",footer:!1},{default:d((()=>[h(b,{size:15,direction:"vertical",fill:""},{default:d((()=>[h(i,{orientation:"center"},{default:d((()=>t[10]||(t[10]=[L("系统布局")]))),_:1}),h(k,{justify:"center"},{default:d((()=>[h(b,null,{default:d((()=>[h(y,null,{content:d((()=>["left"===c(n).layout?(l(),o(f,{key:0,style:{color:"rgb(var(--success-6))"},size:16})):a("",!0)])),default:d((()=>[h(He,{mode:"left",onClick:t[0]||(t[0]=e=>c(n).layout="left")}),t[11]||(t[11]=p("p",{class:"layout-text"},"默认布局",-1))])),_:1}),h(y,null,{content:d((()=>["mix"===c(n).layout?(l(),o(f,{key:0,size:16,style:{color:"rgb(var(--success-6))"}})):a("",!0)])),default:d((()=>[h(He,{mode:"mix",onClick:t[1]||(t[1]=e=>c(n).layout="mix")}),t[12]||(t[12]=p("p",{class:"layout-text"},"混合布局",-1))])),_:1})])),_:1})])),_:1}),h(i,{orientation:"center"},{default:d((()=>t[13]||(t[13]=[L("系统主题")]))),_:1}),h(k,{justify:"center"},{default:d((()=>[h(c(we),{theme:"dark",color:c(n).themeColor,"sucker-hide":!0,"colors-default":v,onChangeColor:g},null,8,["color"])])),_:1}),h(i,{orientation:"center"},{default:d((()=>t[14]||(t[14]=[L("界面显示")]))),_:1}),h(x,{column:1,align:{value:"right"},"value-style":{paddingRight:0}},{default:d((()=>[h(_,{label:"页签显示"},{default:d((()=>[h(S,{modelValue:c(n).tab,"onUpdate:modelValue":t[2]||(t[2]=e=>c(n).tab=e)},null,8,["modelValue"])])),_:1}),h(_,{label:"页签风格"},{default:d((()=>[h(C,{modelValue:c(n).tabMode,"onUpdate:modelValue":t[3]||(t[3]=e=>c(n).tabMode=e),placeholder:"请选择",options:u,disabled:!c(n).tab,"trigger-props":{autoFitPopupMinWidth:!0},style:{width:"120px"}},null,8,["modelValue","disabled"])])),_:1}),h(_,{label:"动画显示"},{default:d((()=>[h(S,{modelValue:c(n).animate,"onUpdate:modelValue":t[4]||(t[4]=e=>c(n).animate=e)},null,8,["modelValue"])])),_:1}),h(_,{label:"动画显示"},{default:d((()=>[h(C,{modelValue:c(n).animateMode,"onUpdate:modelValue":t[5]||(t[5]=e=>c(n).animateMode=e),placeholder:"请选择",options:m,disabled:!c(n).animate,style:{width:"120px"}},null,8,["modelValue","disabled"])])),_:1}),h(_,{label:"深色菜单"},{default:d((()=>[h(S,{modelValue:c(n).menuDark,"onUpdate:modelValue":t[6]||(t[6]=e=>c(n).menuDark=e)},null,8,["modelValue"])])),_:1}),h(_,{label:"手风琴效果"},{default:d((()=>[h(S,{modelValue:c(n).menuAccordion,"onUpdate:modelValue":t[7]||(t[7]=e=>c(n).menuAccordion=e)},null,8,["modelValue"])])),_:1}),h(_,{label:"消息通知"},{default:d((()=>[h(S,{modelValue:c(n).isNotifications,"onUpdate:modelValue":t[8]||(t[8]=e=>c(n).isNotifications=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"])}}}),[["__scopeId","data-v-f14c4bc7"]]),Ie=["src"],Ae={class:"username"},ze={class:"doption-icon primary"},Me={class:"doption-icon warning"},Be=F(t({name:"HeaderRight",__name:"index",setup(e){const{isFullscreen:t,toggle:n}=K(),s=k(),v=O(),f=i(),y=()=>{N.warning({title:"提示",content:"确认退出登录？",hideCancel:!1,closable:!0,onBeforeOk:async()=>{try{return await v.logout(),s.replace("/login"),!0}catch(e){return!1}}})},b=()=>{s.push("/info/index")};return(e,s)=>{const i=r("icon-settings"),k=r("a-button"),S=r("a-tooltip"),_=r("icon-fullscreen"),C=r("icon-fullscreen-exit"),x=Y,w=r("a-avatar"),F=r("icon-down"),H=r("a-row"),$=r("icon-unlock"),I=r("a-doption"),A=r("a-divider"),z=r("icon-export"),M=r("a-dropdown"),B=r("a-space");return l(),u(g,null,[h(H,{justify:"end",align:"center"},{default:d((()=>[h(B,{size:"medium"},{default:d((()=>[h(S,{content:"项目配置",position:"bl"},{default:d((()=>{var e;return[h(k,{size:"mini",class:"gi_hover_btn",onClick:null==(e=f.value)?void 0:e.open},{icon:d((()=>[h(i,{size:18})])),_:1},8,["onClick"])]})),_:1}),c(E)()?a("",!0):(l(),o(S,{key:0,content:"全屏切换",position:"bottom"},{default:d((()=>[h(k,{size:"mini",class:"gi_hover_btn",onClick:c(n)},{icon:d((()=>[c(t)?(l(),o(C,{key:1,size:18})):(l(),o(_,{key:0,size:18}))])),_:1},8,["onClick"])])),_:1})),h(S,{content:"主题切换",position:"bottom"},{default:d((()=>[h(x)])),_:1}),h(M,{trigger:"hover"},{content:d((()=>[h(I,{onClick:b},{icon:d((()=>[p("span",ze,[h($)])])),default:d((()=>[s[0]||(s[0]=p("span",null,"个人信息",-1))])),_:1}),h(A,{margin:0}),h(I,{onClick:y},{icon:d((()=>[p("span",Me,[h(z)])])),default:d((()=>[s[1]||(s[1]=p("span",null,"退出登录",-1))])),_:1})])),default:d((()=>[h(H,{align:"center",wrap:!1,class:"user"},{default:d((()=>[h(w,{size:32},{default:d((()=>[p("img",{src:c(v).avatar},null,8,Ie)])),_:1}),p("span",Ae,m(c(v).name),1),h(F)])),_:1})])),_:1})])),_:1})])),_:1}),h($e,{ref_key:"SettingDrawerRef",ref:f},null,512)],64)}}}),[["__scopeId","data-v-eaf345b7"]]),Le=F(t({name:"MenuFoldBtn",__name:"MenuFoldBtn",setup(e){const t=S(),{isDesktop:n}=q(),a=i(!1),s=()=>{n.value?t.setMenuCollapse(!t.menuCollapse):a.value=!a.value};return(e,n)=>{const i=r("icon-menu-fold"),m=r("icon-menu-unfold"),v=r("a-button"),f=r("a-drawer");return l(),u(g,null,[h(v,{size:"mini",class:"gi_hover_btn menu-fold-btn",onClick:s},{icon:d((()=>[c(t).menuCollapse?(l(),o(m,{key:1,size:18,"stroke-width":3})):(l(),o(i,{key:0,size:18,"stroke-width":3}))])),_:1}),p("div",{class:w(["drawer",{"app-menu-dark":c(t).menuDark}]),style:C(c(t).menuDark?c(t).themeCSSVar:void 0)},[h(f,{visible:c(a),"onUpdate:visible":n[1]||(n[1]=e=>D(a)?a.value=e:null),placement:"left",header:!1,footer:!1,"render-to-body":!1,"drawer-style":{"border-right":"1px solid var(--color-border-2)","box-sizing":"border-box","background-color":"var(--color-bg-1)"}},{default:d((()=>[h(Z,{collapsed:!1}),h(Q,{class:"menu w-full",onMenuItemClickAfter:n[0]||(n[0]=e=>a.value=!1)})])),_:1},8,["visible"])],6)],64)}}}),[["__scopeId","data-v-a3a8146b"]]),De={class:"fold-btn-wrapper"},Oe=F(t({name:"AppHeader",__name:"index",setup:e=>(e,t)=>{const n=oe,a=r("a-col"),s=r("a-row"),i=r("a-layout-header");return l(),o(i,{class:"header"},{default:d((()=>[p("section",De,[h(Le)]),h(s,{align:"center",class:"h-full header-right"},{default:d((()=>[h(a,{xs:0,md:10,lg:10,xl:12,xxl:12},{default:d((()=>[h(n)])),_:1}),h(a,{xs:24,md:14,lg:14,xl:12,xxl:12},{default:d((()=>[h(s,{justify:"end",align:"center"},{default:d((()=>[h(Be)])),_:1})])),_:1})])),_:1})])),_:1})}}),[["__scopeId","data-v-130002de"]]),Ee=F(t({name:"AppMain",__name:"Main",setup(e){const t=S(),a=R(),s=i(0);return V((()=>t.reloadFlag),(e=>{e&&s.value++})),(e,i)=>{const u=r("router-view"),p=r("a-layout");return l(),o(p,{class:"main"},{default:d((()=>[h(u,null,{default:d((({Component:e,route:i})=>[h(T,{name:c(t).transitionName,mode:"out-in",appear:""},{default:d((()=>[(l(),o(j,{include:c(a).cacheList},[(l(),o(n(e),{key:i.path+s.value}))],1032,["include"]))])),_:2},1032,["name"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-9925b2d4"]]),Ne={class:"gi-more-icon-wrap"};const Re=F({},[["render",function(e,t){return l(),u("span",Ne,t[0]||(t[0]=[p("span",{class:"gi-more-icon"},[p("i",{class:"block block-top"}),p("i",{class:"block block-bottom"})],-1)]))}],["__scopeId","data-v-17a12d00"]]),Ve=F(t({__name:"ReloadIcon",setup(e){const t=S(),n=i(!1),a=()=>{n.value||(n.value=!0,t.reloadPage(),setTimeout((()=>{n.value=!1}),600))};return(e,t)=>{const s=r("icon-refresh");return l(),o(s,{class:w(["reload-icon",{"reload-icon--spin":c(n)}]),size:18,onClick:a},null,8,["class"])}}}),[["__scopeId","data-v-669cd5b0"]]),Te={key:0,class:"tabs"},je=F(t({name:"Tabs",__name:"index",setup(e){const t=b(),n=k(),s=S(),i=R();function p(){const e={...t};i.addTagItem(P(e)),i.addCacheItem(P(e))}i.reset(),V((()=>t.path),(()=>{p()})),p();return(e,p)=>{const m=r("a-tab-pane"),v=r("icon-close"),y=r("a-doption"),b=r("icon-eraser"),k=r("icon-minus"),S=r("a-dropdown"),_=r("a-space"),C=r("a-tabs");return c(s).tab?(l(),u("div",Te,[h(C,{editable:"","hide-content":"",size:"medium",type:c(s).tabMode,"active-key":c(t).path,onTabClick:p[2]||(p[2]=e=>(e=>{n.push({path:e})})(e)),onDelete:c(i).closeCurrent},{extra:d((()=>[h(_,{size:"medium"},{default:d((()=>[h(Ve),h(S,{trigger:"hover"},{content:d((()=>[h(y,{onClick:p[0]||(p[0]=e=>c(i).closeCurrent(c(t).path))},{icon:d((()=>[h(v)])),default:d((()=>p[3]||(p[3]=[L("关闭当前")]))),_:1}),h(y,{onClick:p[1]||(p[1]=e=>c(i).closeOther(c(t).path))},{icon:d((()=>[h(b)])),default:d((()=>p[4]||(p[4]=[L("关闭其他")]))),_:1}),h(y,{onClick:c(i).closeAll},{icon:d((()=>[h(k)])),default:d((()=>p[5]||(p[5]=[L("关闭全部")]))),_:1},8,["onClick"])])),default:d((()=>[h(Re,{class:"gi_mr"})])),_:1})])),_:1})])),default:d((()=>[(l(!0),u(g,null,f(c(i).tagList,(e=>{var t,n;return l(),o(m,{key:e.path,title:null==(t=e.meta)?void 0:t.title,closable:Boolean(!(null==(n=e.meta)?void 0:n.affix))},null,8,["title","closable"])})),128))])),_:1},8,["type","active-key","onDelete"])])):a("",!0)}}}),[["__scopeId","data-v-b351d84b"]]),Pe=F(t({name:"LayoutDefault",__name:"LayoutDefault",setup:e=>(e,t)=>{const n=r("a-layout");return l(),o(n,{class:"layout layout-default"},{default:d((()=>[h(ee),h(n,{class:"layout-default-right"},{default:d((()=>[h(Oe),h(je),h(Ee)])),_:1})])),_:1})}}),[["__scopeId","data-v-d9915f4d"]]),Ue={class:"layout-mix"},Je={class:"layout-mix-right"},We={class:"header"},Ke=F(t({name:"LayoutMix",__name:"LayoutMix",setup(t){const s=b(),v=k(),y=S(),F=_(),{isDesktop:H}=q(),I=U(F.routes,(e=>{var t;return!1===(null==(t=e.meta)?void 0:t.hidden)})),A=i([]);A.value=JSON.parse(JSON.stringify(I));const z=(e,t)=>{var l,o,n;return(null==(l=e.meta)?void 0:l[t])||(null==(n=null==(o=e.children)?void 0:o[0].meta)?void 0:n[t])},M=e=>{if(x(e))return void window.open(e);setTimeout((()=>O(e)));const t=A.value.find((t=>t.path===e));t&&"noRedirect"===t.redirect||v.push({path:e})},B=JSON.parse(JSON.stringify(I)),L=i([]),D=i([]);function O(e){const t=$.searchTree(B,(t=>t.path===e),{children:"children"}),l=t.length?t[0].path:"",o=B.find((e=>e.path===l));L.value=o?[o.path]:[""],D.value=o?o.children:[]}return V((()=>s.path),(e=>{J((()=>{O(e)}))}),{immediate:!0}),(t,s)=>{const i=e,v=r("a-menu-item"),b=r("a-menu");return l(),u("div",Ue,[c(H)?(l(),u("section",{key:0,class:w(["layout-mix-left",{"app-menu-dark":c(y).menuDark}]),style:C(c(y).menuDark?c(y).themeCSSVar:void 0)},[h(Z,{collapsed:c(y).menuCollapse},null,8,["collapsed"]),h(Q,{menus:c(D),"menu-style":{width:"200px",flex:1}},null,8,["menus"])],6)):a("",!0),p("section",Je,[p("header",We,[h(Le),c(H)?(l(),o(b,{key:0,mode:"horizontal","selected-keys":c(L),"auto-open-selected":!1,"trigger-props":{animationName:"slide-dynamic-origin"},onMenuItemClick:M},{default:d((()=>[(l(!0),u(g,null,f(c(A),(e=>(l(),o(v,{key:e.path},{icon:d((()=>[z(e,"svgIcon")?(l(),o(i,{key:0,name:z(e,"svgIcon"),size:24},null,8,["name"])):(l(),u(g,{key:1},[z(e,"svgIcon")?(l(),o(n(z(e,"icon")),{key:0})):a("",!0)],64))])),default:d((()=>{var t,l,o,n;return[p("span",null,m((null==(t=e.meta)?void 0:t.title)||(null==(n=null==(o=null==(l=e.children)?void 0:l[0])?void 0:o.meta)?void 0:n.title)||""),1)]})),_:2},1024)))),128))])),_:1},8,["selected-keys"])):a("",!0),h(Be)]),h(je),h(Ee)])])}}}),[["__scopeId","data-v-492d1da5"]]),Ye=t({name:"Layout",__name:"index",setup(e){const t=S();return(e,n)=>"mix"===c(t).layout?(l(),o(Ke,{key:0})):(l(),o(Pe,{key:1}))}});export{Ye as default};
