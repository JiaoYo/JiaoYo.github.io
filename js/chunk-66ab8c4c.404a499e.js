(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66ab8c4c","chunk-c1dac7ba"],{"02cf":function(t,e,a){"use strict";a("67fd")},"491d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.visible,title:t.dataForm.id?t.$t("update"):t.$t("add"),"close-on-click-modal":!1,"close-on-press-escape":!1,width:"40%","before-close":t.handleClose},on:{"update:visible":function(e){t.visible=e},opened:t.openFun}},[e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"dataForm",attrs:{model:t.dataForm,rules:t.rules,"label-width":"en-US"===t.$i18n.locale?"150px":"120px"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dataFormSubmitHandle()}}},[e("el-form-item",{attrs:{label:"项目名称",prop:"prjId"}},[e("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:t.handlePrjScroll,expression:"handlePrjScroll"}],staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:t.$t("select")},on:{"visible-change":t.handlePrjVisibleChange},model:{value:t.dataForm.prjId,callback:function(e){t.$set(t.dataForm,"prjId",e)},expression:"dataForm.prjId"}},[[e("div",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"99","background-color":"#fff"}},[e("el-input",{ref:"prjInput",staticStyle:{width:"98%","margin-left":"1%","margin-top":"5px","margin-bottom":"5px"},attrs:{size:"small",clearable:"",placeholder:t.$t("gwsn.pleaseEnterSearchContent")},model:{value:t.prjSearch,callback:function(e){t.prjSearch=e},expression:"prjSearch"}})],1),e("div",{staticStyle:{width:"100%",height:"42px"}}),t._l(t.prjList,(function(t){return e("el-option",{key:t.id,attrs:{label:t.prjName,value:t.id,disabled:!!t.hasOwnProperty("disabled")&&t.disabled}})}))]],2)],1),e("el-form-item",{attrs:{label:"网关编号",prop:"sn"}},[e("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:t.handleGwsnScroll,expression:"handleGwsnScroll"}],staticStyle:{width:"100%"},attrs:{clearable:""},on:{"visible-change":t.handleGwsnVisibleChange},model:{value:t.dataForm.sn,callback:function(e){t.$set(t.dataForm,"sn",e)},expression:"dataForm.sn"}},[[e("div",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"99","background-color":"#fff"}},[e("el-input",{ref:"gwsnInput",staticStyle:{width:"98%","margin-left":"1%","margin-top":"5px","margin-bottom":"5px"},attrs:{size:"small",clearable:"",placeholder:t.$t("gwsn.pleaseEnterSearchContent")},model:{value:t.gwsnSearch,callback:function(e){t.gwsnSearch=e},expression:"gwsnSearch"}})],1),e("div",{staticStyle:{width:"100%",height:"42px"}}),t._l(t.tgwList,(function(a){return e("el-option",{key:a.sn,attrs:{label:a.sn,value:a.sn,disabled:!!a.hasOwnProperty("disabled")&&a.disabled}},[e("span",{staticStyle:{width:"calc(100% - 210px)",display:"inline-block","text-align":"left",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"},attrs:{title:a.sn}},[t._v("\n                            "+t._s(a.sn)+"\n                        ")]),e("span",{staticStyle:{color:"#8492a6","font-size":"13px",display:"inline-block","margin-left":"10px",width:"200px","text-align":"right",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"},attrs:{title:a.gwDesc}},[t._v("\n                            "+t._s(a.gwDesc||t.$t("historyQuery.no"))+"\n                        ")])])}))]],2)],1),e("el-form-item",{attrs:{label:"过户用户名",prop:"transname"}},[e("el-input",{attrs:{placeholder:"请输入过户用户名",clearable:""},model:{value:t.dataForm.transname,callback:function(e){t.$set(t.dataForm,"transname","string"===typeof e?e.trim():e)},expression:"dataForm.transname"}})],1),e("el-form-item",{attrs:{label:"过户用户手机号",prop:"transmobile"}},[e("el-input",{attrs:{maxlength:11,placeholder:"请输入过户用户手机号"},nativeOn:{keyup:function(e){return t.mobileValidate.apply(null,arguments)}},model:{value:t.dataForm.transmobile,callback:function(e){t.$set(t.dataForm,"transmobile",e)},expression:"dataForm.transmobile"}})],1)],1),e("template",{slot:"footer"},[e("el-button",{on:{click:t.handleClose}},[t._v(t._s(t.$t("cancel")))]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.dataFormSubmitHandle()}}},[t._v(t._s(t.$t("confirm")))])],1)],2)},r=[],s=(a("7f7f"),a("c5f6"),a("a481"),a("4328")),i=a.n(s),l=a("b047"),o=a.n(l),d=a("61f7"),c={props:["id"],directives:{loadmore:{inserted:function(t,e){var a=t.querySelector(".el-select-dropdown .el-select-dropdown__wrap");a.addEventListener("scroll",(function(){var t=this.scrollHeight-Math.ceil(this.scrollTop)<=this.clientHeight;t&&0!==this.scrollTop&&e.value()}))}}},data:function(){return{isCloseDialog:!1,visible:!1,loading:!1,prjPage:1,prjTotal:0,prjSearch:"",prjList:[],gwsnPage:1,gwsnTotal:0,gwsnSearch:"",tgwList:[],queryParamas:{},oldGwsnDesc:"",dataForm:{prjId:"",sn:"",transname:"",transmobile:""},rules:{prjId:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],sn:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],transname:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],transmobile:[{required:!0,message:this.$t("validate.required"),trigger:"change"}]}}},methods:{init:function(){this.visible=!0},openFun:function(){var t=this;t.isCloseDialog=!1,t.$refs["dataForm"].resetFields(),t.dataForm.id=t.id,t.prjPage=1,t.prjTotal=0,t.prjList=[],t.gwsnPage=1,t.gwsnTotal=0,t.tgwList=[],t.getList(),t.getAllGwsnDataList(),t.dataForm.id?t.$http.get("/transSn/getById.do",{params:{id:t.dataForm.id}}).then((function(e){var a=e.data;if(0!=a.code)return t.$message.error(a.data||a.msg);t.gwsnSearch=a.data.sn,t.dataForm.sn=a.data.sn,t.oldGwsnDesc=a.data.sn,t.dataForm.transname=a.data.tname,t.dataForm.prjId=a.data.pid})).catch((function(t){return!1})):t.getAllGwsnDataList()},mobileValidate:function(){this.dataForm.transmobile=this.dataForm.transmobile.replace(/[^\.\d]/g,""),this.dataForm.transmobile=this.dataForm.transmobile.replace(".","")},getList:function(){var t=this,e={page:t.prjPage,limit:50,prjname:t.prjSearch.replace(/\s+/g,""),_t:(new Date).getTime()};t.loading=!0,t.$http.get("/transSn/getProByUser.do",{params:e}).then((function(e){var a=e.data;if(0!=a.code)return t.$message.error(a.data||a.msg);1==t.prjPage?t.prjList=a.data.list:t.prjList=t.prjList.concat(a.data.list),t.prjTotal=Number(a.data.total),0==t.prjList.length?(t.loading=!1,t.prjList.push({id:t.$t("noMatchingDataYet"),prjName:t.$t("noMatchingDataYet"),disabled:!0})):(t.prjId&&(t.dataForm.prjId=t.prjId,t.getAllGwsnDataList()),t.loading=!1)})).catch((function(e){return t.loading=!1,!1}))},handlePrjVisibleChange:function(t){var e=this;t&&this.$nextTick((function(){e.$refs.prjInput.focus()}))},handlePrjScroll:function(){this.prjList.length<this.prjTotal&&(this.prjPage++,this.getList())},getAllGwsnDataList:function(){var t=this,e={pageNum:t.gwsnPage,pageSize:200,fuzzy:t.gwsnSearch,_t:(new Date).getTime()};t.$http.post("/info/gwbaseinfo/selectByPage.do",i.a.stringify(e)).then((function(e){var a=e.data;if(a.hasOwnProperty("code")&&0!=a.code)return t.$message.error(a.data||a.msg);1==t.gwsnPage?t.tgwList=a.data.list:t.tgwList=t.tgwList.concat(a.data.list),0==t.tgwList.length&&t.tgwList.push({sn:t.$t("noMatchingDataYet"),gwDesc:t.$t("noMatchingDataYet"),disabled:!0}),t.gwsnTotal=Number(a.data.total)})).catch((function(t){return!1}))},handleGwsnVisibleChange:function(t){var e=this;t&&this.$nextTick((function(){e.$refs.gwsnInput.focus()}))},handleGwsnScroll:function(){this.tgwList.length<this.gwsnTotal&&(this.gwsnPage++,this.getAllGwsnDataList())},handleClose:function(){this.isCloseDialog=!0,this.prjSearch="",this.gwsnSearch="",this.visible=!1},dataFormSubmitHandle:o()((function(){var t=this,e=null;t.$refs["dataForm"].validate((function(a){return!!a&&(Object(d["b"])(t.dataForm.transmobile)?void(t.$store.state.user.name!==t.dataForm.transname.trim()?t.$http.get("/transSn/getIdByUname.do",{params:{uname:t.dataForm.transname,mobile:t.dataForm.transmobile}}).then((function(a){var n=a.data;if(0!=n.code)t.$message.error(n.data||n.msg);else{if(!n.data)return t.$message.warning("暂无该用户，请确认后在进行操作"),!1;t.dataForm.id?(e=t.oldGwsnDesc===t.dataForm.sn?[{id:t.dataForm.id,pid:t.dataForm.prjId,tuid:n.data}]:[{id:t.dataForm.id,pid:t.dataForm.prjId,sn:t.dataForm.sn,tuid:n.data}],t.$http.put("/transSn/update.do",e).then((function(e){var a=e.data;if(0!=a.code)return t.$message.error(a.data||a.msg);t.$message({message:t.$t("prompt.success"),type:"success",duration:500,onClose:function(){t.isCloseDialog=!0,t.prjSearch="",t.gwsnSearch="",t.visible=!1,t.$emit("refreshDataList")}})})).catch((function(t){return!1}))):(e=[{sn:t.dataForm.sn,pid:t.dataForm.prjId,tuid:n.data}],t.$http.post("/transSn/insert.do",e).then((function(e){var a=e.data;if(0!=a.code)return t.$message.error(a.data||a.msg);t.$message({message:t.$t("prompt.success"),type:"success",duration:500,onClose:function(){t.isCloseDialog=!0,t.prjSearch="",t.gwsnSearch="",t.visible=!1,t.$emit("refreshDataList")}})})).catch((function(t){return!1})))}})).catch((function(t){return!1})):t.$message.warning("禁止过户给自己，请重新操作")):t.$message.error("请输入正确的手机号"))}))}),1e3,{leading:!0,trailing:!1}),watchPrjSearch:o()((function(){var t=document.getElementsByClassName("el-scrollbar__wrap").length;document.getElementsByClassName("el-scrollbar__wrap")[t-1].scrollTo(0,0),this.prjPage=1,this.getList(),this.$refs.prjInput.focus()}),500),watchGwsnSearch:o()((function(){var t=document.getElementsByClassName("el-scrollbar__wrap").length;document.getElementsByClassName("el-scrollbar__wrap")[t-1].scrollTo(0,0),this.gwsnPage=1,this.getAllGwsnDataList(),this.$refs.gwsnInput.focus()}),500)},watch:{prjSearch:function(t,e){this.isCloseDialog||this.watchPrjSearch()},gwsnSearch:function(t,e){this.isCloseDialog||this.watchGwsnSearch()}}},u=c,h=(a("fcb2"),a("2877")),g=Object(h["a"])(u,n,r,!1,null,"5eb70a8f",null);e["default"]=g.exports},"67fd":function(t,e,a){},a4e1:function(t,e,a){},d995:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("el-card",{staticClass:"aui-card--fill",attrs:{shadow:"never"}},[e("el-form",{attrs:{inline:!0,model:t.dataForm},nativeOn:{submit:function(t){t.preventDefault()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.querySearch.apply(null,arguments)}}},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:24,md:24,lg:22,xl:22}},[e("el-form-item",{attrs:{label:"网关编号"}},[e("el-input",{attrs:{size:"small",placeholder:"请输入网关编号",clearable:""},on:{clear:t.querySearch},model:{value:t.dataForm.sn,callback:function(e){t.$set(t.dataForm,"sn",e)},expression:"dataForm.sn"}})],1),e("el-form-item",{attrs:{label:"类型"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:t.$t("select")},on:{change:t.querySearch},model:{value:t.dataForm.type,callback:function(e){t.$set(t.dataForm,"type",e)},expression:"dataForm.type"}},t._l(t.typeList,(function(t,a){return e("el-option",{key:a,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"状态"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:t.$t("select")},on:{change:t.querySearch},model:{value:t.dataForm.status,callback:function(e){t.$set(t.dataForm,"status",e)},expression:"dataForm.status"}},t._l(t.statusList,(function(t,a){return e("el-option",{key:a,attrs:{label:t.label,value:t.value}})})),1)],1),t.$hasPermission("transSn:select:permission.do")?e("el-form-item",[e("el-button",{attrs:{size:"small",icon:"el-icon-search"},on:{click:t.querySearch}},[t._v("\n                        "+t._s(t.$t("query"))+"\n                    ")])],1):t._e(),t.$hasPermission("transSn:insert:permission.do")?e("el-form-item",[e("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(e){return t.handleAddOrUpdateChange()}}},[t._v("\n                        "+t._s(t.$t("add"))+"\n                    ")])],1):t._e(),t.$hasPermission("transSn:delete:permission.do")?e("el-form-item",[e("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(e){return t.deleteHandle()}}},[t._v(t._s(t.$t("deleteBatch"))+"\n                    ")])],1):t._e(),t.$hasPermission("transSn:select:permission.do")?e("el-form-item",[e("el-button",{attrs:{size:"small",type:"success"},on:{click:t.getDataList}},[e("i",{staticClass:"el-icon-refresh"})])],1):t._e()],1)],1)],1),e("vxe-table",{ref:"recordTable",staticStyle:{width:"100%"},attrs:{size:"medium",border:"",resizable:"","auto-resize":"","sync-resize":"","show-overflow":"","show-header-overflow":"","highlight-hover-row":"","highlight-current-row":"",data:t.dataList,"max-height":t.scrollTableHeight,loading:t.dataListLoading,"row-config":{keyField:"id"},"checkbox-config":t.checkboxConfig},on:{"checkbox-all":t.selectAll,"checkbox-change":t.dataListSelectionHandle}},[e("vxe-table-column",{key:"1",attrs:{type:"checkbox","header-align":"center",align:"center",width:"60",fixed:"left",checked:!1}}),e("vxe-table-column",{key:"2",attrs:{field:"sn",title:t.$t("gwsn.number"),"header-align":"center",align:"center",fixed:"left","show-overflow-tooltip":!0}}),e("vxe-table-column",{key:"3",attrs:{field:"status",title:"状态","header-align":"center",align:"center",width:"140"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{size:"small",type:0===a.row.status?"warning":1===a.row.status?"danger":2===a.row.status?"success":"info"}},[t._v("\n                    "+t._s(0===a.row.status?"待确认":1===a.row.status?"拒绝":2===a.row.status?"确认":"未知")+"\n                ")])]}}])}),e("vxe-table-column",{key:"5",attrs:{field:"tname",title:"过户用户","header-align":"center",align:"center",width:"200"}}),e("vxe-table-column",{key:"6",attrs:{field:"oname",title:"创建者","header-align":"center",align:"center",width:"200"}}),e("vxe-table-column",{key:"7",attrs:{title:t.$t("handle"),"header-align":"center",align:"center",width:"120",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.ouid!=t.currentUserId&&0===a.row.status?e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleRefuseOrAgreeChange(a.row.id,"refuse")}}},[t._v("\n                    "+t._s("拒绝")+"\n                ")]):t._e(),a.row.ouid!=t.currentUserId&&0===a.row.status?e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleRefuseOrAgreeChange(a.row.id,"agree")}}},[t._v("\n                    "+t._s("同意")+"\n                ")]):t._e(),a.row.ouid===t.currentUserId?e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleAddOrUpdateChange(a.row.id)}}},[t._v("\n                    "+t._s(t.$t("update"))+"\n                ")]):t._e(),a.row.ouid===t.currentUserId?e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.deleteHandle(a.row.id)}}},[t._v("\n                    "+t._s(t.$t("delete"))+"\n                ")]):t._e()]}}])})],1),e("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[20,50,100,200],"page-size":t.limit,total:t.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"size-change":t.pageSizeChangeHandle,"current-change":t.pageCurrentChangeHandle}}),t.addOrUpdateVisible?e("transsnAddOrUpdate",{ref:"addOrUpdate",attrs:{id:t.dataForm.propId},on:{refreshDataList:t.getDataList}}):t._e()],1)},r=[],s=(a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("6b54"),a("ac6a"),a("c5f6"),a("a481"),a("b047")),i=a.n(s),l=a("491d");function o(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=d(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return i=t.done,t},e:function(t){l=!0,s=t},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw s}}}}function d(t,e){if(t){if("string"==typeof t)return c(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=Array(e);a<e;a++)n[a]=t[a];return n}var u={data:function(){return{page:1,limit:20,total:0,currentUserId:null,dataListLoading:!1,dataList:[],dataForm:{sn:"",type:-1,status:-1,propId:null},checkboxConfig:{reserve:!0,highlight:!0,checkField:"checked"},addOrUpdateVisible:!1,scrollTableHeight:window.innerHeight-220-53,typeList:[{label:"全部",value:-1},{label:"我过户的",value:0},{label:"过户给我的",value:1}],statusList:[{label:"全部",value:-1},{label:"待确认",value:0},{label:"拒绝",value:1},{label:"确认",value:2}]}},components:{transsnAddOrUpdate:l["default"]},methods:{pageSizeChangeHandle:function(t){this.page=1,this.limit=t,this.getDataList()},pageCurrentChangeHandle:function(t){this.page=t,this.getDataList()},querySearch:function(){var t=this;this.page=1,this.$nextTick((function(){t.getDataList()}))},getDataList:i()((function(){var t=this,e={page:t.page,limit:t.limit};t.dataForm.gwsn&&(e["sn"]=t.dataForm.sn.replace(/_/g,"\\_").replace(/%/g,"\\%").trim()),-1!=t.dataForm.type&&(e["type"]=t.dataForm.type),-1!=t.dataForm.status&&(e["status"]=t.dataForm.status),t.dataListLoading=!0,t.total=0,t.$http.get("/transSn/getPage.do",{params:e}).then((function(a){var n=a.data;if(t.gwsns=[],t.$refs.recordTable.clearCheckboxRow(),t.$refs.recordTable.clearCheckboxReserve(),0!=n.code)return t.dataList=[],t.dataListLoading=!1,t.$message.error(n.data||n.msg);n.data.list.length>0?(t.page=e.page,t.dataList=n.data.list,t.total=Number(n.data.total),t.$refs.recordTable.loadData(t.dataList),t.dataListLoading=!1):(t.dataList=[],t.total=0,t.page=1,t.dataListLoading=!1)})).catch((function(e){return t.dataListLoading=!1,!1}))}),100,{leading:!0,trailing:!1}),getRowKey:function(t){return t.id},handleAddOrUpdateChange:function(t){var e=this;this.dataForm.propId=null,t&&(this.dataForm.propId=t),this.addOrUpdateVisible=!0,this.$nextTick((function(){e.$refs.addOrUpdate.init()}))},handleRefuseOrAgreeChange:function(t,e){var a=this,n=[{id:t,status:"agree"===e?2:1}];a.$confirm("确定要"+("agree"===e?"同意":"拒绝")+"该过户网关吗？",a.$t("deleteInfo.noticePrompt"),{confirmButtonText:a.$t("deleteInfo.confirm"),cancelButtonText:a.$t("deleteInfo.cancel"),type:"warning"}).then((function(){a.$http.put("/transSn/update.do",n).then((function(t){var e=t.data;if(0!=e.code)return a.$message.error(e.data||e.msg);a.$message.success(a.$t("prompt.success")),a.getDataList()})).catch((function(t){return a.getDataList(),!1}))})).catch((function(t){}))},hasTargetUrl:function(t,e){var a,n=o(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(r.url===e)return!0;if(r.children&&r.children.length&&this.hasTargetUrl(r.children,e))return!0}}catch(s){n.e(s)}finally{n.f()}return!1},realtimeViewer:function(t,e){var a=this,n={gwsn:e.sn};if(e.prjId&&(n["prjId"]=e.prjId),window.SITE_CONFIG["menuList"].length>0){var r=a.hasTargetUrl(window.SITE_CONFIG["menuList"],"runmonitor/equipment-list");r?a.$router.push({path:"runmonitor-equipment-list",name:"runmonitor-equipment-list",query:n}):a.$message.error("暂无权限，请联系上级管理员")}},selectAll:function(t){var e=this,a=[],n=this.$refs.recordTable.getCheckboxRecords(!1);this.gwsns=[],n.forEach((function(t){e.gwsns.push(t.sn),a.push(t.gwId)})),this.ids=a.join(","),this.$store.dispatch("changeIds",this.ids)},dataListSelectionHandle:function(t){var e=this,a=[],n=this.$refs.recordTable.getCheckboxRecords(!1);this.gwsns=[],n.forEach((function(t){e.gwsns.push(t.sn),a.push(t.gwId)})),this.ids=a.join(","),this.$store.dispatch("changeIds",this.ids)},deleteHandle:i()((function(t){var e=this,a={id:""};if(t)a["ids"]=t;else{if(0===e.gwsns.length)return e.$message.error(e.$t("deleteInfo.noData"));a["ids"]=e.ids.join(",")}e.$confirm(e.$t("deleteInfo.noticeTitle"),e.$t("deleteInfo.noticePrompt"),{confirmButtonText:e.$t("deleteInfo.confirm"),cancelButtonText:e.$t("deleteInfo.cancel"),type:"warning"}).then((function(){e.$http.delete("/transSn/delete.do",{params:{ids:a["ids"]}}).then((function(t){var a=t.data;if(0!=a.code)return e.$message.error(a.data||a.msg);e.$message.success(e.$t("deleteInfo.deleteSuccess")),e.getDataList()})).catch((function(t){return e.getDataList(),!1}))})).catch((function(t){}))}),1e3,{leading:!0,trailing:!1})},mounted:function(){var t=this;this.currentUserId=this.$store.state.user.id,this.getDataList(),window.onresize=function(){return function(){t.scrollTableHeight=window.innerHeight-220-53}()}},watch:{total:function(){this.total==(this.page-1)*this.limit&&0!=this.total&&(this.page-=1,sessionStorage.setItem("page9",this.page),this.getDataList())}}},h=u,g=(a("02cf"),a("2877")),p=Object(g["a"])(h,n,r,!1,null,"c5a932c6",null);e["default"]=p.exports},fcb2:function(t,e,a){"use strict";a("a4e1")}}]);