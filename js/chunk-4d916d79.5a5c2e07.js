(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d916d79"],{"152c":function(e,t,n){"use strict";n("910e")},"1d18":function(e,t,n){e.exports=n.p+"img/lvse.96476559.png"},"6bf9":function(e,t,n){"use strict";n.r(t);var a,s=function(){var e=this,t=e._self._c;return t("section",{staticStyle:{"overflow-x":"hidden"}},[t("el-header",{staticStyle:{height:"auto",padding:"10px 20px"}},[t("div",[e.isShowSetting?t("span",[e._v(e._s(e.$t("chlwatch.project")))]):e._e(),e.isShowSetting?t("span",{staticClass:"colorConfig"},[e._v(e._s(e.projectName))]):e._e(),e.isShowSetting?t("span",[e._v("    ")]):e._e(),t("span",[e._v(e._s(e.$t("chlwatch.gwsn")))]),t("span",{staticClass:"colorConfig"},[e._v(e._s(e.sn)),t("span",[e._v(e._s("("+e.gwDesc+")"))])]),t("span",[e._v("    ")]),t("span",[e._v(e._s(e.$t("chlwatch.activeTime")))]),t("span",{class:"离线"===e.lineStatus?"colorConfig redConfig":"colorConfig"},[e._v(e._s(e.activityTime))]),t("span",[e._v("    ")]),t("span",[e._v(e._s(e.$t("chlwatch.lineStatus")))]),t("span",{class:"离线"===e.lineStatus?"colorConfig redConfig":"colorConfig"},[e._v(e._s(e.lineStatus))]),t("span",[e._v("    ")]),t("el-button",{attrs:{size:"small"},on:{click:e.getOnlineInfo}},[t("i",{staticClass:"el-icon-refresh"})])],1)]),t("el-row",{attrs:{gutter:20}},[t("el-col",{style:{height:e.pageHeight+"px",border:"1px solid #ccc",boxSizing:"border-box",overflowY:"auto",overflowX:"hidden"},attrs:{span:3}},[e.finallyChannelCollectList.length>0?t("el-row",{staticStyle:{padding:"20px 0 0 20px"},attrs:{gutter:20}},[t("el-col",{staticStyle:{padding:"10px 0"},attrs:{span:24}},[e._v(e._s(e.$t("chlwatch.collectChannel")))]),t("el-col",{attrs:{span:24}},[t("el-checkbox-group",{attrs:{min:1},on:{change:e.handleCheckedChannel},model:{value:e.checkedChannel,callback:function(t){e.checkedChannel=t},expression:"checkedChannel"}},e._l(e.finallyChannelCollectList,(function(a){return t("el-checkbox",{key:a.chlId,staticStyle:{display:"block",padding:"10px 0"},attrs:{label:a.chlId,"show-overflow-tooltip":!0}},[0==a.status||1==a.status||2==a.status?t("span",{staticStyle:{width:"188px",overflow:"hidden","white-space":"nowrap",display:"inline-block","text-overflow":"ellipsis","vertical-align":"middle"},attrs:{title:a.chlname}},[t("img",{staticStyle:{width:"10px",height:"10px","margin-right":"2px"},attrs:{src:2==a.status?n("b15e"):1==a.status?n("1d18"):0==a.status?n("f658"):"",alt:""}}),e._v(e._s(a.chlname))]):t("span",{staticStyle:{width:"188px",overflow:"hidden","white-space":"nowrap",display:"inline-block","text-overflow":"ellipsis","vertical-align":"middle"},attrs:{title:a.chlname}},[e._v("\n                                "+e._s(a.chlname)+"\n                            ")])])})),1)],1)],1):e._e(),e.finallyChannelTransList.length>0?t("el-row",{staticStyle:{padding:"20px 0 0 20px"},attrs:{gutter:20}},[t("el-col",{staticStyle:{padding:"10px 0"},attrs:{span:24}},[e._v(e._s(e.$t("chlwatch.transChannel")))]),t("el-col",{attrs:{span:24}},[t("el-checkbox-group",{attrs:{min:1},on:{change:e.handleCheckedChannel},model:{value:e.checkedChannel,callback:function(t){e.checkedChannel=t},expression:"checkedChannel"}},e._l(e.finallyChannelTransList,(function(a){return t("el-checkbox",{key:a.chlId,staticStyle:{display:"block",padding:"10px 0"},attrs:{label:a.chlId,"show-overflow-tooltip":!0}},[0==a.status||1==a.status||2==a.status?t("span",{staticStyle:{width:"188px",overflow:"hidden","white-space":"nowrap",display:"inline-block","text-overflow":"ellipsis","vertical-align":"middle"},attrs:{title:a.chlname}},[t("img",{staticStyle:{width:"10px",height:"10px","margin-right":"2px"},attrs:{src:2==a.status?n("b15e"):1==a.status?n("1d18"):0==a.status?n("f658"):"",alt:""}}),e._v(e._s(a.chlname))]):t("span",{staticStyle:{width:"188px",overflow:"hidden","white-space":"nowrap",display:"inline-block","text-overflow":"ellipsis","vertical-align":"middle"},attrs:{title:a.chlname}},[e._v("\n                                "+e._s(a.chlname)+"\n                            ")])])})),1)],1)],1):e._e()],1),t("el-col",{style:{height:e.pageHeight+"px",border:"1px solid #ccc",boxSizing:"border-box"},attrs:{span:21}},[t("el-row",{staticStyle:{"margin-top":"20px","padding-left":"10px"},attrs:{gutter:20}},[t("el-col",{attrs:{span:14}},[e.isStop?e._e():t("el-button",{attrs:{size:"small"},on:{click:e.stopWatch}},[e._v(e._s(e.$t("chlwatch.stopWatch")))]),e.isStop?t("el-button",{attrs:{size:"small"},on:{click:e.openWatchNext}},[e._v(e._s(e.$t("chlwatch.openWatch")))]):e._e(),e.isrolling?t("el-button",{attrs:{size:"small"},on:{click:e.stopRolling}},[e._v(e._s(e.$t("chlwatch.closeScroll")))]):t("el-button",{attrs:{size:"small"},on:{click:e.startRolling}},[e._v(e._s(e.$t("chlwatch.openScorll")))]),t("el-button",{attrs:{size:"small"},on:{click:e.clearList}},[e._v(e._s(e.$t("chlwatch.clearAll")))]),t("el-button",{staticClass:"tag",attrs:{size:"small"},on:{click:e.copyData}},[e._v(e._s(e.$t("chlwatch.copyAllData")))]),e.$hasPermission("socketNine:setTT:websocket")?t("el-button",{attrs:{size:"small"},on:{click:e.handleAlwaysCalled}},[e._v(e._s(e.$t("chlwatch.alwaysCall")))]):e._e(),e.$hasPermission("socketNine:setTT:websocket")?t("el-button",{attrs:{size:"small"},on:{click:e.handlePair}},[e._v(e._s(e.$t("chlwatch.pair")))]):e._e(),e.$hasPermission("socketNine:setTT:websocket")?t("el-button",{attrs:{size:"small"},on:{click:e.handleTestframe}},[e._v(e._s(e.$t("chlwatch.testframe")))]):e._e(),1==e.selectType&&e.isShowSetting&&e.$hasPermission("socketList:setchlstatus:websocket")?t("el-dropdown",{staticStyle:{margin:"0 0 0 10px"}},[t("el-button",{attrs:{type:"primary",size:"small"}},[e._v("\n                            "+e._s(e.$t("chlwatch.moreActions"))),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{nativeOn:{click:function(t){return e.handleMoreOption("normal")}}},[e._v(e._s(e.$t("chlwatch.recoveryChannel")))]),t("el-dropdown-item",{nativeOn:{click:function(t){return e.handleMoreOption("restartChannel")}}},[e._v("\n                                "+e._s(e.$t("chlwatch.restartChannel"))+"\n                            ")]),t("el-dropdown-item",{nativeOn:{click:function(t){return e.handleMoreOption("pause")}}},[e._v(e._s(e.$t("chlwatch.pauseChannel")))]),t("el-dropdown-item",{nativeOn:{click:function(t){return e.handleMoreOption("stop")}}},[e._v(e._s(e.$t("chlwatch.stopChannel")))])],1)],1):e._e()],1),t("el-col",{staticStyle:{display:"flex","align-items":"center"},attrs:{span:10}},[t("span",{staticStyle:{"margin-right":"5px"}},[e._v(e._s(e.$t("chlwatch.monitoringLevel")))]),t("el-slider",{staticStyle:{width:"140px",margin:"0 30px"},attrs:{"show-tooltip":!1,min:0,max:2,marks:e.marks},on:{change:e.handleMessageLevel},model:{value:e.dataForm.messageLevel,callback:function(t){e.$set(e.dataForm,"messageLevel",t)},expression:"dataForm.messageLevel"}}),t("el-button",{attrs:{size:"small",type:"text"}},[[t("div",{staticStyle:{display:"flex","justify-content":"left","align-items":"center"}},[t("div",{staticStyle:{"margin-right":"5px"}},[e._v(e._s(e.$t("chlwatch.sendMessageColor")))]),t("colorPicker",{attrs:{defaultColor:"#FFEFDB"},on:{change:e.handleChangeSendColor},model:{value:e.sendColor,callback:function(t){e.sendColor=t},expression:"sendColor"}})],1)]],2),t("el-button",{attrs:{size:"small",type:"text"}},[[t("div",{staticStyle:{display:"flex","justify-content":"left","align-items":"center"}},[t("div",{staticStyle:{"margin-right":"5px"}},[e._v(e._s(e.$t("chlwatch.receiveMessageColor")))]),t("colorPicker",{attrs:{defaultColor:"#D1EEEE"},on:{change:e.handleChangeReceiveColor},model:{value:e.receiveColor,callback:function(t){e.receiveColor=t},expression:"receiveColor"}})],1)]],2),t("el-badge",{style:{margin:"0 0 0 15px",backgroundColor:e.sendColor?e.sendColor:"#FFEFDB",border:"1px solid sendColor ? sendColor : '#FFEFDB'"},attrs:{value:e.sendCount,max:1e3}},[t("el-tag",{staticStyle:{color:"#fff"}},[e._v(e._s(e.$t("chlwatch.sendMessage")))])],1),t("el-badge",{style:{margin:"0 0 0 25px",backgroundColor:e.receiveColor?e.receiveColor:"#D1EEEE",borderColor:e.receiveColor?e.receiveColor:"#D1EEEE"},attrs:{value:e.receiveCount,max:1e3}},[t("el-tag",{staticStyle:{color:"#fff"}},[e._v(e._s(e.$t("chlwatch.receiveMessage")))])],1),t("el-dropdown",{staticStyle:{margin:"0 0 0 25px"},attrs:{trigger:"hover"}},[t("span",{staticClass:"el-dropdown-link"},[e._v("\n                            "+e._s(e.$t("chlwatch.other"))),t("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{staticClass:"clearfix"},[t("el-badge",{attrs:{value:e.messageCount,max:1e3}},[t("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.$t("chlwatch.messageMessage")))])],1)],1),t("el-dropdown-item",{staticClass:"clearfix"},[t("el-badge",{attrs:{value:e.warningCount,max:1e3}},[t("el-tag",{attrs:{type:"warning"}},[e._v(e._s(e.$t("chlwatch.alarmMessage")))])],1)],1),t("el-dropdown-item",{staticClass:"clearfix"},[t("el-badge",{attrs:{value:e.errorCount,max:1e3}},[t("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.$t("chlwatch.errorMessage")))])],1)],1)],1)],1)],1)],1),t("el-row",{staticStyle:{"margin-top":"20px"}},[t("el-table",{ref:"letters",staticStyle:{width:"100%"},attrs:{data:e.dataList,border:"","row-style":e.tableRowClassName,"max-height":e.scrollTableHeight}},[t("el-table-column",{attrs:{prop:"time",label:e.$t("chlwatch.watchTime"),width:"180",align:"center",formatter:e.formatterTime}}),t("el-table-column",{attrs:{prop:"data_type",label:e.$t("chlwatch.watchType"),width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(0===t.row.data_type?e.$t("chlwatch.send"):1===t.row.data_type?e.$t("chlwatch.receive"):2===t.row.data_type?e.$t("chlwatch.message"):3===t.row.data_type?e.$t("chlwatch.alarm"):4===t.row.data_type?e.$t("chlwatch.error"):"")+"\n                        ")]}}])}),t("el-table-column",{attrs:{prop:"data_len",label:e.$t("chlwatch.contentLen"),width:"100",align:"center"}}),t("el-table-column",{attrs:{prop:"data_buf",label:e.$t("chlwatch.watchContent"),align:"left","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("span",{staticStyle:{"padding-right":"10px",display:"inline-block","white-space":"pre-wrap"},domProps:{innerHTML:e._s(n.row.data_buf)}})]}}])})],1)],1)],1)],1),t("el-dialog",{attrs:{title:e.selectTypeName+"——"+e.selectAlwaysChannelInfo,visible:e.alwaysCalledFormVisible,"before-close":e.handleClose,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.alwaysCalledFormVisible=t}}},[t("el-form",{ref:"alwaysCalledForm",attrs:{model:e.alwaysCalledForm,rules:e.rules,"label-width":(e.$i18n.locale,"140px")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.dataFormSubmitHandle()}}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("chlwatch.passthroughReplytime"),prop:"wait"}},[t("el-input",{attrs:{placeholder:e.$t("chlwatch.enterPassthroughReplytime")},model:{value:e.alwaysCalledForm.wait,callback:function(t){e.$set(e.alwaysCalledForm,"wait",t)},expression:"alwaysCalledForm.wait"}},[t("template",{slot:"append"},[e._v("ms")])],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("chlwatch.passthroughMessageLen"),prop:"packetLen"}},[t("el-input",{attrs:{placeholder:e.$t("chlwatch.enterPassthroughMessageLen")},model:{value:e.alwaysCalledForm.packetLen,callback:function(t){e.$set(e.alwaysCalledForm,"packetLen",t)},expression:"alwaysCalledForm.packetLen"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("chlwatch.textType"),prop:"type"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:e.$t("chlwatch.pleaseSelect")},model:{value:e.alwaysCalledForm.type,callback:function(t){e.$set(e.alwaysCalledForm,"type",t)},expression:"alwaysCalledForm.type"}},e._l(e.alwaysCalledFormTypeList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{spa:24}},[t("el-form-item",{attrs:{label:e.$t("chlwatch.textContent"),prop:"buff"}},[t("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:e.$t("chlwatch.enterTextContent")},model:{value:e.alwaysCalledForm.buff,callback:function(t){e.$set(e.alwaysCalledForm,"buff",t)},expression:"alwaysCalledForm.buff"}})],1)],1)],1)],1),t("template",{slot:"footer"},[t("el-button",{on:{click:e.handleClose}},[e._v(e._s(e.$t("cancel")))]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmitHandle()}}},[e._v(e._s(e.$t("confirm")))])],1)],2)],1)},l=[],o=n("ade3"),c=n("53ca"),i=(n("28a5"),n("c5f6"),n("ac6a"),n("a481"),n("6b54"),n("4328")),r=n.n(i),h=n("a78e"),w=n.n(h),u=n("b311"),d=n.n(u),p=n("b047"),m=n.n(p),g=n("ed08"),b={data:function(){return{chlwatchWebsocket:null,alwaysCallUrl:"",sendCount:0,receiveCount:0,messageCount:0,warningCount:0,errorCount:0,sn:"",gwDesc:"",activityTime:"",lineStatus:"",projectName:"",resname:"",time:null,timer:null,isClose:!0,lockReconnect:!1,timeoutObj:null,recconectTimer:null,channelList:[],channelCollectList:[],channelTransList:[],finallyChannelCollectList:[],finallyChannelTransList:[],pageHeight:window.innerHeight-53,sendColor:"#FFEFDB",receiveColor:"#D1EEEE",scrollTableHeight:window.innerHeight-53-93,isStop:!1,isrolling:!0,dataList:[],checkedChannel:[],websocketData:[],dataForm:{messageLevel:1},marks:{0:this.$t("chlwatch.simple"),1:this.$t("chlwatch.normal"),2:this.$t("chlwatch.detail")},messageLevel:[{label:this.$t("chlwatch.simple"),value:0},{label:this.$t("chlwatch.normal"),value:1},{label:this.$t("chlwatch.detail"),value:2}],selectTypeName:"",selectChlprotocol:"",selectType:null,selectAlwaysChannelInfo:"",alwaysCallWebsocket:null,alwaysCallLockReconnect:!1,alwaysCalledFormVisible:!1,alwaysCalledForm:{wait:0,packetLen:0,type:0,buff:""},alwaysCalledFormTypeList:[{label:this.$t("chlwatch.textContent"),value:0},{label:this.$t("chlwatch.hexadecimal"),value:1}],rules:{wait:[{required:!0,message:this.$t("validate.required"),trigger:"change"},{pattern:/^[0-9]\d*/,message:this.$t("chlwatch.pleaseEnterIntNumber")}],packetLen:[{required:!0,message:this.$t("validate.required"),trigger:"change"},{pattern:/^[0-9]\d*/,message:this.$t("chlwatch.pleaseEnterIntNumber")}],type:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],buff:[{required:!0,message:this.$t("validate.required"),trigger:"change"}]},chlStatusTimer:null,websocketChannel:null,lockChannelReconnect:!1,channelStatusList:[],websocketChannelStatus:null,lockChannelStatusReconnect:!1,channelStatusParams:"",onLineTimer:null,onlineWebsocket:null,onLineLockReconnect:!1,recconectOnLineTimer:null,isOnlineClose:!1,isPerform:!1,isShowSetting:!1}},methods:(a={encryMD5:function(e){var t=this.$randomStrFun();return this.$md5(t+e)+"/"+String(parseInt((new Date).getTime().toString().substring(0,10)))},encryMD5List:function(){var e=this.$randomStrFun();return this.$md5(e)+"/"+String(parseInt((new Date).getTime().toString().substring(0,10)))},stringToHex:function(e){for(var t=/[\u4E00-\u9FA5]/,n=[],a=0;a<e.length;a++){var s="";s=t.test(e.charAt(a))?encodeURI(e.charAt(a)).replace(/%/g,""):e.charCodeAt(a).toString(16),n.push(s)}return e=n.join(""),e},handleChannelList:function(){var e=this,t={gwsn:e.sn};e.channelList=[],e.channelCollectList=[],e.channelTransList=[],e.selectChlprotocol="",e.selectAlwaysChannelInfo="",e.$hasPermission("channelinfo:selectChannelByGwsnAndChltype:permission.do")?e.$http.get("/info/channelinfo/selectChannelByGwsnAndChltype",{params:t}).then((function(t){var n=t.data;if(0!=n.code)return e.$message.error(n.msg);var a=n.data;if(a.length>0){a.forEach((function(t){var n={chlname:t.chlname,chlId:t.chlid,chltype:t.chltype,type:t.type};if(e.channelList.push(n),0==t.chltype){var a={chlname:t.chlname+"("+(JSON.parse(t.chlmasterparam).com_name?JSON.parse(t.chlmasterparam).com_name:JSON.parse(t.chlmasterparam).ip_addr+": "+JSON.parse(t.chlmasterparam).port)+e.$t("chlwatch.protocol")+t.protolname+")",chlId:t.chlid,chltype:t.chltype,chlprotocol:t.chlprotocol,type:t.type};e.channelCollectList.push(a)}else{var s={chlname:t.chlname+"("+(JSON.parse(t.chlmasterparam).com_name?JSON.parse(t.chlmasterparam).com_name:JSON.parse(t.chlmasterparam).ip_addr+": "+JSON.parse(t.chlmasterparam).port)+e.$t("chlwatch.protocol")+t.protolname+")",chlId:t.chlid,chltype:t.chltype,chlprotocol:t.chlprotocol,type:t.type};e.channelTransList.push(s)}})),e.checkedChannel.push(Number(window.location.hash.split("&")[1].split("=")[1]));for(var s=0;s<e.channelCollectList.length;s++){var l=e.channelCollectList[s];if(l.chlId==e.checkedChannel[0]){e.selectAlwaysChannelInfo=l.chlname,e.selectChlprotocol=l.chlprotocol,e.selectType=l.type;break}}for(var o=0;o<e.channelTransList.length;o++){var c=e.channelTransList[o];if(c.chlId==e.checkedChannel[0]){e.selectAlwaysChannelInfo=c.chlname,e.selectChlprotocol=c.chlprotocol,e.selectType=c.type;break}}e.dataList=[],e.finallyChannelCollectList=e.channelCollectList,e.finallyChannelTransList=e.channelTransList;var i="socketsOne/getchlstatus/"+e.sn+"/"+e.encryMD5(e.sn);if(!e.$hasPermission("socketsOne:getchlstatus:select:websocket"))return void e.$message.warning("暂无获取通道状态权限, 请联系管理员");setTimeout((function(){e.createChannelWebSocket(i),e.getChlStatusTimer()}),3e3),e.$nextTick((function(){e.createWebSocket(),e.openWatch()}))}})).catch((function(e){return!1})):e.$message.warning("暂无通道查询权限, 请联系管理员")},getChlStatusTimer:function(){var e=this;this.chlStatusTimer=setInterval((function(){var t=e;t.websocketChannel&&(t.websocketChannel.close(),t.websocketChannel=null),t.$nextTick((function(){var e="socketsOne/getchlstatus/"+t.sn+"/"+t.encryMD5(t.sn);t.$hasPermission("socketsOne:getchlstatus:select:websocket")?t.createChannelWebSocket(e):t.$message.warning("暂无获取通道状态权限, 请联系管理员")}))}),1e4)},createChannelWebSocket:function(e){var t=this;if(t.$hasPermission("socketsOne:getchlstatus:select:websocket")){if(!("WebSocket"in window))return t.$message.error(t.$t("websocket.notSupportWebsocket"));try{var n=window.SITE_CONFIG["socketUrl"]+e+"?token="+t.$getToken();t.websocketChannel=new WebSocket(n),t.initChannelWebSocket()}catch(a){}}else t.$message.warning("暂无获取通道状态权限, 请联系管理员")},initChannelWebSocket:function(){this.websocketChannel.onopen=this.websocketChannelonopen,this.websocketChannel.onerror=this.websocketChannelonerror,this.websocketChannel.onmessage=this.websocketChannelonmessage,this.websocketChannel.onclose=this.websocketChannelonclose},websocketChannelonopen:function(){this.lockChannelReconnect=!0},websocketChannelonerror:function(e){this.lockReconnect=!1},isArray:function(e){return Object.prototype.toString.call(e)},isJsonString:function(e){if("string"===typeof e)try{var t=JSON.parse(e);return!("object"!==Object(c["a"])(t)||!t)}catch(n){return!1}},websocketChannelonmessage:function(e){var t=this;if(!this.isJsonString(e.data))return!1;if(JSON.parse(e.data).res_content&&"getchlstatus"==JSON.parse(e.data).res_name){var n=JSON.parse(e.data).res_content;this.websocketChannel&&(this.websocketChannel.close(),this.websocketChannel=null),this.channelStatusList=[],"[object Array]"===this.isArray(n)&&n.length>0?(n.forEach((function(e){1!=e.chl_id&&t.channelStatusList.push(e)})),this.channelStatusList.length>0&&(this.channelCollectList.length>0&&this.channelStatusList.forEach((function(e){t.channelCollectList.forEach((function(n){n.chlId==e.chl_id&&t.$set(n,"status",e.chl_status)}))})),this.channelTransList.length>0&&this.channelStatusList.forEach((function(e){t.channelTransList.forEach((function(n){n.chlId==e.chl_id&&t.$set(n,"status",e.chl_status)}))}))),this.$nextTick((function(){t.finallyChannelCollectList=t.channelCollectList,t.finallyChannelTransList=t.channelTransList}))):this.$nextTick((function(){t.finallyChannelCollectList=t.channelCollectList,t.finallyChannelTransList=t.channelTransList}))}},websocketChannelonclose:function(e){this.lockChannelReconnect=!1},getGwsnInfoAndStatus:function(){var e=this,t={sn:e.sn};e.$hasPermission("info:gwbaseinfo:select")?e.$http.get("/info/gwbaseinfo",{params:t}).then((function(t){var n=t.data;if(0!=n.code)return!1;var a=n.data;a&&(e.gwDesc=a.gwDesc?a.gwDesc:e.$t("chlwatch.noDesc"),e.projectName=a.prjName?a.prjName:e.$t("chlwatch.no"))})).catch((function(e){return!1})):e.$message.warning("暂无查询网关信息权限, 请联系管理员")},createOnLineWebSocket:function(){var e=this;if(!("WebSocket"in window))return e.$message.error("当前浏览器不支持WebSocket");try{var t=e.encryMD5(e.sn),n=window.SITE_CONFIG["socketUrl"]+"heart/".concat(e.sn,"/").concat(t);e.onlineWebsocket=new WebSocket(n),e.initOnlineWebSocket()}catch(a){e.onLineReConnect()}},initOnlineWebSocket:function(){this.onlineWebsocket.onopen=this.onLineWebsocketonopen,this.onlineWebsocket.onerror=this.onLineWebsocketonerror,this.onlineWebsocket.onmessage=this.onLineWebsocketonmessage,this.onlineWebsocket.onclose=this.onLineWebsocketonclose},onLineReConnect:function(){var e=this;e.onLineLockReconnect||(e.recconectOnLineTimer&&clearTimeout(e.recconectOnLineTimer),e.recconectOnLineTimer=setTimeout((function(){e.createOnLineWebSocket()}),5e3))},onLineWebsocketonopen:function(){this.isOnlineClose=!0,this.onLineLockReconnect=!0,this.heartCheck().start()},onLineWebsocketonerror:function(e){this.onLineLockReconnect=!1,this.onLineReConnect()},onLineWebsocketonmessage:function(e){return this.heartCheck().reset(),"连接成功"!=e.data&&"connect success"!=e.data&&(1==e.data?(localStorage.setItem("offLineStatus"+this.sn,""),this.$message.success(this.$t("onLineGateway")),this.isPerform=!1,this.isClose||this.openWatch(),this.getOnlineInfo()):0==e.data?(localStorage.setItem("offLineStatus"+this.sn,""),this.isPerform=!1,this.isClose||this.openWatch(),this.getOnlineInfo()):void 0)},onLineWebsocketonclose:function(e){this.isOnlineClose?this.onLineLockReconnect=!1:(this.onLineLockReconnect=!1,this.onLineReConnect())},getPerformOnlineInfo:function(){var e=this,t={gwsn:this.sn};this.isPerform=!0,this.$hasPermission("tgwinfo:select:permission.do")?this.$http.post("/info/tgwinfo/selectStatus",r.a.stringify(t)).then((function(t){var n=t.data;n.msg,e.activityTime=n.data.lastTime,e.lineStatus=1===n.data.status?e.$t("chlwatch.inLine"):e.$t("chlwatch.offLine")})).catch((function(e){return!1})):this.$message.warning("暂无查询系统在线状态权限, 请联系管理员")},getOnlineInfo:function(){var e=this,t={gwsn:this.sn};this.$hasPermission("tgwinfo:select:permission.do")?this.$http.post("/info/tgwinfo/selectStatus",r.a.stringify(t)).then((function(t){var n=t.data;n.msg,e.activityTime=n.data.lastTime,e.lineStatus=1===n.data.status?e.$t("chlwatch.inLine"):e.$t("chlwatch.offLine"),localStorage.setItem("offLineStatus"+e.sn,1!==n.data.status||"")})).catch((function(e){return!1})):this.$message.warning("暂无查询系统在线状态权限, 请联系管理员")},getStatus:function(){var e=this;this.onLineTimer=setInterval((function(){e.getOnlineInfo()}),6e4)},handleCheckedChannel:function(e){var t=this;this.checkedChannel=[],this.checkedChannel.push(e[e.length-1]);for(var n=0;n<this.finallyChannelCollectList.length;n++){var a=this.finallyChannelCollectList[n];if(a.chlId==this.checkedChannel[0]){this.selectAlwaysChannelInfo=a.chlname,this.selectChlprotocol=a.chlprotocol,this.selectType=a.type;break}}for(var s=0;s<this.finallyChannelTransList.length;s++){var l=this.finallyChannelTransList[s];if(l.chlId==this.checkedChannel[0]){this.selectAlwaysChannelInfo=l.chlname,this.selectChlprotocol=l.chlprotocol,this.selectType=l.type;break}}this.isStop=!0,this.isClose=!0,window.timer&&(clearInterval(window.timer),window.timer=null),window.hasLinked&&window.websocket.close(),window.webTimer&&(clearInterval(window.webTimer),window.webTimer=null),this.$nextTick((function(){t.dataList=[],t.websocketData=[],t.openWatchNext()}))},handleChangeSendColor:function(e){this.sendColor=e},handleChangeReceiveColor:function(e){this.receiveColor=e},timestampToTime:function(e){if(10==String(e).length){var t=new Date(1e3*e),n=1900+t.getYear(),a="0"+(t.getMonth()+1),s="0"+t.getDate(),l="0"+t.getHours(),o="0"+t.getMinutes(),c="0"+t.getSeconds();return n+"-"+a.substring(a.length-2,a.length)+"-"+s.substring(s.length-2,s.length)+" "+l.substring(l.length-2,l.length)+":"+o.substring(o.length-2,o.length)+":"+c.substring(c.length-2,c.length)}var i=new Date(e),r=i.getFullYear(),h=i.getMonth()+1,w=i.getDate(),u=i.getHours(),d=i.getMinutes(),p=i.getSeconds(),m=i.getMilliseconds(),g=h<10?"0"+h:h,b=w<10?"0"+w:w,f=u<10?"0"+u:u,k=d<10?"0"+d:d,C=p<10?"0"+p:p,y=m<10?"00"+m:m<100?"0"+m:m;return r+"-"+g+"-"+b+" "+f+":"+k+":"+C+"."+y},formatterTime:function(e,t){return this.timestampToTime(e.time)},stopWatch:m()((function(){this.isStop=!0,this.isClose=!0,window.timer&&(clearInterval(window.timer),window.timer=null),window.hasLinked&&window.websocket.close(),window.webTimer&&(clearInterval(window.webTimer),window.webTimer=null)}),1e3,{leading:!0,trailing:!1}),handleMessageLevel:function(e){this.isClose?this.openWatchNext():this.openWatch()},createChannelWebsocket:function(e){var t=this;if(t.$hasPermission("socketFour:chlwatch:websocket")){if(!("WebSocket"in window))return t.$message.error(t.$t("websocket.notSupportWebsocket"));try{var n=window.SITE_CONFIG["socketUrl"]+e+"?token="+t.$getToken();t.chlwatchWebsocket=new WebSocket(n),t.initChlwatchWebSocket()}catch(a){}}else t.$message.warning("暂无开启通道检测权限, 请联系管理员")},initChlwatchWebSocket:function(){this.chlwatchWebsocket.onopen=this.chlwatchWebsocketonopen,this.chlwatchWebsocket.onerror=this.chlwatchWebsocketonerror,this.chlwatchWebsocket.onmessage=this.chlwatchWebsocketonmessage,this.chlwatchWebsocket.onclose=this.chlwatchWebsocketonclose},chlwatchWebsocketonopen:function(){},chlwatchWebsocketonerror:function(e){this.lockChannelReconnect=!1},chlwatchWebsocketonmessage:function(e){},chlwatchWebsocketonclose:function(e){},openWatch:m()((function(){var e=this,t={start:1,chlId:e.checkedChannel.join(","),gwsn:e.sn};window.webTimer&&(clearInterval(window.webTimer),window.webTimer=null),e.chlwatchWebsocket&&(e.chlwatchWebsocket.close(),e.chlwatchWebsocket=null),e.isStop=!1,t["level"]=0==e.dataForm.messageLevel?1:1==e.dataForm.messageLevel?257:65793,e.$nextTick((function(){var n="socketFour/chlwatch/"+t.gwsn+"/"+t.start+"/"+t.chlId+"/"+t.level+"/"+e.encryMD5(t.gwsn);if(e.$hasPermission("socketFour:chlwatch:websocket")){e.createChannelWebsocket(n);var a=0;window.webTimer=setInterval((function(){e.handle_message()}),a)}else e.$message.warning("暂无开启通道检测权限, 请联系管理员")}))}),1e3,{leading:!0,trailing:!1}),openWatchNext:m()((function(){this.isStop=!1,this.createWebSocket(),this.openWatch()}),1e3,{leading:!0,trailing:!1}),handle_message:function(){var e=this,t=this;t.sendCount=0,t.receiveCount=0,t.messageCount=0,t.warningCount=0,t.errorCount=0,t.dataList=t.websocketData,t.dataList.forEach((function(e){0==e.data_type?t.sendCount++:1==e.data_type&&0!=e.data_len?t.receiveCount++:2==e.data_type?t.messageCount++:3==e.data_type?t.warningCount++:4==e.data_type&&t.errorCount++})),t.$nextTick((function(){var n=t.$el.querySelector(".el-table__body-wrapper");if(t.isrolling)n.scrollTop=n.scrollHeight;else{var a=e.$refs.letters.bodyWrapper.scrollTop;n.scorlltop=a}var s="",l="      "+t.$t("chlwatch.watchTime")+"                  "+t.$t("chlwatch.watchType")+"      "+t.$t("chlwatch.contentLen")+"          "+t.$t("chlwatch.watchContent")+"\n";t.dataList.forEach((function(e){s+=t.timestampToTime(e.time)+"              "+(0===e.data_type?t.$t("chlwatch.send"):1===e.data_type?t.$t("chlwatch.receive"):2===e.data_type?t.$t("chlwatch.message"):3===e.data_type?t.$t("chlwatch.alarm"):4===e.data_type?t.$t("chlwatch.error"):"")+"         "+e.data_len+"           "+e.data_buf+"\n"})),t.$refs.letters.value=l+s})),t.dataList.length>=1e3&&(t.sendCount=0,t.receiveCount=0,t.messageCount=0,t.warningCount=0,t.errorCount=0,t.dataList=[])},copyData:m()((function(){var e=this,t=this.$refs.letters.value,n=new d.a(".tag",{text:function(){return t}});n.on("success",(function(t){e.$message({message:e.$t("chlwatch.clipboardSuccess"),showClose:!0,type:"success"}),n.destroy()})),n.on("error",(function(t){e.$message({message:e.$t("chlwatch.clipboardFailed"),showClose:!0,type:"error"}),n.destroy()}))}),1e3,{leading:!0,trailing:!1}),startRolling:m()((function(){this.isrolling=!0}),1e3,{leading:!0,trailing:!1}),stopRolling:m()((function(){this.isrolling=!1}),1e3,{leading:!0,trailing:!1}),clearList:m()((function(){this.websocketData=[],this.dataList=[]}),1e3,{leading:!0,trailing:!1}),handleClose:m()((function(){this.alwaysCallWebsocket&&(this.alwaysCallWebsocket.close(),this.alwaysCallWebsocket=null),this.alwaysCalledFormVisible=!1}),1e3,{leading:!0,trailing:!1}),dataFormSubmitHandle:m()((function(){var e=this;e.$refs["alwaysCalledForm"].validate((function(e){if(!e)return!1}))}),1e3,{leading:!0,trailing:!1}),handleAlwaysCalled:m()((function(){var e=this;e.selectTypeName="总召",e.setTTdo()}),1e3,{leading:!0,trailing:!1}),handlePair:m()((function(){var e=this;e.selectTypeName="对时",e.setTTdo()}),1e3,{leading:!0,trailing:!1}),handleTestframe:m()((function(){var e=this;e.selectTypeName="测试帧",e.setTTdo()}),1e3,{leading:!0,trailing:!1}),hanldeHandSend:m()((function(){this.alwaysCalledFormVisible=!0}),1e3,{leading:!0,trailing:!1}),createChannelStatusWebSocket:function(e){var t=this;if(!("WebSocket"in window))return t.$message.error(t.$t("websocket.notSupportWebsocket"));try{var n=window.SITE_CONFIG["socketUrl"]+e;t.websocketChannelStatus=new WebSocket(n),t.initChannelStatusWebSocket()}catch(a){}},initChannelStatusWebSocket:function(){this.websocketChannelStatus.onopen=this.websocketChannelStatusonopen,this.websocketChannelStatus.onerror=this.websocketChannelStatusonerror,this.websocketChannelStatus.onmessage=this.websocketChannelStatusonmessage,this.websocketChannelStatus.onclose=this.websocketChannelStatusonclose},websocketChannelStatusonopen:function(){this.lockChannelStatusReconnect=!0},websocketChannelStatusonerror:function(e){this.lockChannelStatusReconnect=!1}},Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(a,"isArray",(function(e){return Object.prototype.toString.call(e)})),"websocketChannelStatusonmessage",(function(e){if(this.isJsonString(e.data)&&(this.websocketChannelStatus&&(this.websocketChannelStatus.close(),this.websocketChannelStatus=null),JSON.parse(e.data).res_content)){var t="",n=JSON.parse(e.data).res_content;return 1==n.received?(t="normal"==this.channelStatusParams?this.$t("chlwatch.recoveryChannelSuccess"):"restartChannel"==this.channelStatusParams?this.$t("chlwatch.restartChannelSuccess"):"pause"==this.channelStatusParams?this.$t("chlwatch.pauseChannelSuccess"):"stop"==this.channelStatusParams?this.$t("chlwatch.stopChannelSuccess"):this.$t("chlwatch.recoveryChannelSuccess"),this.$message.success(t)):(t="normal"==this.channelStatusParams?this.$t("chlwatch.recoveryChannelFailed"):"restartChannel"==this.channelStatusParams?this.$t("chlwatch.restartChannelFailed"):"pause"==this.channelStatusParams?this.$t("chlwatch.pauseChannelFailed"):"stop"==this.channelStatusParams?this.$t("chlwatch.stopChannelFailed"):this.$t("chlwatch.recoveryChannelFailed"),this.$message.error(t))}})),"websocketChannelStatusonclose",(function(e){this.lockChannelStatusReconnect=!1})),"handleMoreOption",m()((function(e){var t=this,n=[{chlid:t.checkedChannel.join(","),gwsn:t.sn,status:"normal"==e?"0":"restartChannel"==e?"1":"pause"==e?"2":"stop"==e?"3":"0"}];if(t.channelStatusParams=e,t.$hasPermission("socketList:setchlstatus:websocket")){var a=JSON.stringify(n);Object(g["o"])(a),t.$nextTick((function(){if("normal"==t.channelStatusParams){var e="socketList/setchlstatus/"+t.stringToHex(a)+"/"+t.encryMD5List();t.createChannelStatusWebSocket(e)}else t.$confirm(("restartChannel"==t.channelStatusParams?t.$t("chlwatch.restart"):"pause"==t.channelStatusParams?t.$t("chlwatch.pause"):"stop"==t.channelStatusParams?t.$t("chlwatch.stop"):t.$t("chlwatch.pause"))+t.$t("chlwatch.channelInterruptPerformNoOperation"),t.$t("prompt.title"),{confirmButtonText:t.$t("confirm"),cancelButtonText:t.$t("cancel"),type:"warning"}).then((function(){var e="socketList/setchlstatus/"+t.stringToHex(a)+"/"+t.encryMD5List();t.createChannelStatusWebSocket(e)})).catch((function(e){}))}))}else{var s="normal"==e?"暂无恢复通道权限, 请联系管理员":"restartChannel"==e?"暂无重启通道权限, 请联系管理员":"pause"==e?"暂无暂停通道权限, 请联系管理员":"stop"==e?"暂无停止通道权限, 请联系管理员":"暂无权限, 请联系管理员";t.$message.warning(s)}}),1e3,{leading:!0,trailing:!1})),"createAlwaysCallWebSocket",(function(e){var t=this;if(!("WebSocket"in window))return t.$message.error(t.$t("websocket.notSupportWebsocket"));try{var n=window.SITE_CONFIG["socketUrl"]+e;t.alwaysCallWebsocket=new WebSocket(n),t.initAlwaysCallWebSocket()}catch(a){}})),"initAlwaysCallWebSocket",(function(){this.alwaysCallWebsocket.onopen=this.alwaysCallWebsocketonopen,this.alwaysCallWebsocket.onerror=this.alwaysCallWebsocketonerror,this.alwaysCallWebsocket.onmessage=this.alwaysCallWebsocketonmessage,this.alwaysCallWebsocket.onclose=this.alwaysCallWebsocketonclose})),"alwaysCallWebsocketonopen",(function(){this.alwaysCallLockReconnect=!0})),"setTTdo",(function(){var e=this,t={chlid:e.checkedChannel.join(","),gwsn:e.sn,command:"0",wait:"0",packetLen:"0",type:"1",buff:""};if(("总召"==e.selectTypeName||"对时"==e.selectTypeName||"测试帧"==e.selectTypeName)&&(t["command"]="{348E12D3-308A-40da-B1AA-489F326C5695}"==e.selectChlprotocol?"1":"0"),e.$hasPermission("socketNine:setTT:websocket")){var n=JSON.stringify(t);Object(g["o"])(n),e.$nextTick((function(){var t="socketNine/setTT/"+e.stringToHex(n)+"/"+e.encryMD5List();e.createAlwaysCallWebSocket(t)}))}else e.$message.warning("暂无"+e.selectTypeName+"权限, 请联系管理员")})),"alwaysCallWebsocketonerror",(function(e){this.alwaysCallLockReconnect=!1})),"alwaysCallWebsocketonmessage",(function(e){var t=this,n=e.data;if(!t.isJsonString(n))return!1;if(t.isJsonString(n))if(t.alwaysCallWebsocket&&(t.alwaysCallWebsocket.close(),t.alwaysCallWebsocket=null),"总召"==t.selectTypeName){if(JSON.parse(e.data).res_content)return 1==JSON.parse(e.data).res_content.command||0==JSON.parse(e.data).res_content.command?t.$message.success(t.$t("chlwatch.alwaysCallSuccess")):t.$message.success(t.$t("chlwatch.alwaysCallFail"))}else if("对时"==t.selectTypeName){if(JSON.parse(e.data).res_content)return 2==JSON.parse(e.data).res_content.command||0==JSON.parse(e.data).res_content.command?t.$message.success(t.$t("chlwatch.pairSuccess")):t.$message.success(t.$t("chlwatch.pairFail"))}else if("测试帧"==t.selectTypeName&&JSON.parse(e.data).res_content)return 3==JSON.parse(e.data).res_content.command||0==JSON.parse(e.data).res_content.command?t.$message.success(t.$t("chlwatch.testframeSuccess")):t.$message.success(t.$t("chlwatch.testframeFail"))})),Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(a,"alwaysCallWebsocketonclose",(function(e){this.alwaysCallLockReconnect=!1})),"createWebSocket",(function(){var e=this;if(e.$hasPermission("channel:detection:select:websocket")){if(!("WebSocket"in window))return e.$message.error(e.$t("websocket.notSupportWebsocket"));try{var t=e.encryMD5List(),n=window.SITE_CONFIG["socketUrl"]+"ChannelDetectionWebsocket/".concat(e.sn+"LQ"+e.checkedChannel.join(","),"/").concat(t,"?token=").concat(e.$getToken());window.websocket=new WebSocket(n),e.initWebSocket()}catch(a){e.reConnect()}}else e.$showToast("暂无通道监测权限, 请联系管理员","none")})),"initWebSocket",(function(){window.websocket.onopen=this.websocketonopen,window.websocket.onerror=this.websocketonerror,window.websocket.onmessage=this.websocketonmessage,window.websocket.onclose=this.websocketonclose})),"heartCheck",(function(){var e=this,t={timeout:2e4,timeoutObj:null,start:function(){e.timeoutObj=setTimeout((function(){e.lockReconnect&&window.websocket.send("connect success"),e.onLineLockReconnect&&e.onlineWebsocket.send("connect success")}),2e4)},reset:function(){clearTimeout(e.timeoutObj),t.start()}};return t})),"reConnect",(function(){var e=this;e.lockReconnect||(e.recconectTimer&&clearTimeout(e.recconectTimer),e.recconectTimer=setTimeout((function(){e.createWebSocket()}),3e3))})),"getDa",(function(){var e=this;window.timer=setInterval((function(){e.openWatch()}),3e4)})),"websocketonopen",(function(){this.isClose=!1,window.hasLinked=!0,this.lockReconnect=!0,this.heartCheck().start(),this.getDa()})),"websocketonerror",(function(e){this.lockReconnect=!1,this.reConnect()})),"isJsonString",(function(e){try{if("object"==Object(c["a"])(JSON.parse(e)))return!0}catch(t){}return!1})),"websocketonmessage",(function(e){var t=this,n=e.data;if(t.heartCheck().reset(),t.websocketData=t.dataList,t.isJsonString(n)&&n!=t.$t("websocket.connectSuccess")&&"connect success"!=n&&t.checkedChannel.join(",")==JSON.parse(e.data).chl_id)if(JSON.parse(e.data).sn){if(t.sn==JSON.parse(e.data).sn){var a=JSON.parse(e.data).param;t.websocketData=t.websocketData.concat(a),t.dataList=t.websocketData}}else{var s=JSON.parse(e.data).param;t.websocketData=t.websocketData.concat(s),t.dataList=t.websocketData}})),Object(o["a"])(Object(o["a"])(a,"tableRowClassName",(function(e){var t=e.row;e.rowIndex;return"0"==t.data_type?{background:this.sendColor}:"1"==t.data_type?{background:this.receiveColor}:"2"==t.data_type?{background:"rgb(204, 255, 204)"}:"3"==t.data_type?{background:"rgb(240, 128, 128)"}:{background:"rgb(230, 230, 250)"}})),"websocketonclose",(function(e){this.isClose?this.lockReconnect=!1:(this.lockReconnect=!1,this.reConnect())}))),created:function(){window.SITE_CONFIG["permissions"]=localStorage.getItem("permissionsDingiiotCom")?JSON.parse(localStorage.getItem("permissionsDingiiotCom")):[]},mounted:function(){var e=this;w.a.get("token")?(this.isPerform=!1,this.sn=window.location.hash.split("&")[0].split("=")[1],this.isShowSetting=1==window.location.hash.split("&")[2].split("=")[1],this.createOnLineWebSocket(),this.onLineTimer&&(clearInterval(this.onLineTimer),this.onLineTimer=null),this.onLineTimer=setInterval((function(){if(localStorage.getItem("offLineStatus"+e.sn)&&"true"==localStorage.getItem("offLineStatus"+e.sn)&&!e.isPerform){if(!e.$hasPermission("tgwinfo:update:permission.do"))return void e.$message.warning("暂无修改系统在线状态权限, 请联系管理员");e.$http.post("/info/tgwinfo/updateStatus",{gwSn:e.sn,lineStatus:2}).then((function(t){var n=t.data;if(0!=n.code)return e.$message.error(n.msg);window.timer&&(clearInterval(window.timer),window.timer=null),e.$message.error("该网关已离线"),e.getPerformOnlineInfo()})).catch((function(e){return!1}))}}),1e3),this.getGwsnInfoAndStatus(),this.getOnlineInfo(),this.getStatus(),this.handleChannelList(),window.onresize=function(){return function(){e.pageHeight=window.innerHeight-53,e.scrollTableHeight=window.innerHeight-53-93}()}):this.$router.replace({name:"login"}).catch((function(e){return!1}))},beforeDestroy:function(){w.a.get("token")&&(this.isStop=!0,this.isClose=!0,this.isOnlineClose=!0,this.onLineTimer&&(clearInterval(this.onLineTimer),this.onLineTimer=null),window.timer&&(clearInterval(window.timer),window.timer=null),window.hasLinked&&window.websocket.close(),window.webTimer&&(clearInterval(window.webTimer),window.webTimer=null),this.isOnlineClose&&(this.isOnlineClose=!1,this.onlineWebsocket.close(),this.onlineWebsocket=null),this.chlStatusTimer&&(clearInterval(this.chlStatusTimer),this.chlStatusTimer=null),this.websocketChannel&&this.websocketChannel.readyState===WebSocket.OPEN&&(this.websocketChannel.close(),this.websocketChannel=null))},deactivated:function(){w.a.get("token")&&(this.isStop=!0,this.isClose=!0,this.isOnlineClose=!0,this.onLineTimer&&(clearInterval(this.onLineTimer),this.onLineTimer=null),window.timer&&(clearInterval(window.timer),window.timer=null),window.hasLinked&&window.websocket.close(),window.webTimer&&(clearInterval(window.webTimer),window.webTimer=null),this.isOnlineClose&&(this.isOnlineClose=!1,this.onlineWebsocket.close(),this.onlineWebsocket=null),this.chlStatusTimer&&(clearInterval(this.chlStatusTimer),this.chlStatusTimer=null),this.websocketChannel&&(this.websocketChannel.close(),this.websocketChannel=null))}},f=b,k=(n("152c"),n("2877")),C=Object(k["a"])(f,s,l,!1,null,null,null);t["default"]=C.exports},"910e":function(e,t,n){},b15e:function(e,t,n){e.exports=n.p+"img/hongse.b345548e.png"},f658:function(e,t,n){e.exports=n.p+"img/huise.6424d946.png"}}]);