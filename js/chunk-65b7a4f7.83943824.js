(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65b7a4f7"],{"02eb":function(t,a,e){t.exports=e.p+"img/apn-guide-2.a52ae83b.png"},"240a":function(t,a,e){t.exports=e.p+"img/apn-guide-1.80a5bccb.png"},"264e":function(t,a,e){t.exports=e.p+"img/apn-guide-5.35a9fc92.png"},"4981c":function(t,a,e){t.exports=e.p+"img/apn-guide-3.d208c11c.png"},"6ec9":function(t,a,e){t.exports=e.p+"img/apn-guide-4.9e6a5dae.png"},"9c5d":function(t,a,e){},c1bd:function(t,a,e){"use strict";e.r(a);e("7f7f"),e("84b4");var n=function(){var t=this,a=t._self._c;return a("el-card",{staticClass:"aui-card--fill",attrs:{shadow:"never"}},[a("el-row",{staticClass:"contentSetting"},[a("el-col",{staticClass:"bottomSetting fontSetting",attrs:{span:24}},[a("span",[t._v("ICCID :")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s(t.cardDetail.iccid))])]),a("el-col",{staticClass:"paddingSetting",staticStyle:{"padding-top":"20px"},attrs:{span:24}},[a("el-col",{attrs:{span:12}},[a("span",[t._v("运营商")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s("cmcc"==t.cardDetail.carrier?"中国移动":"unicom"==t.cardDetail.carrier?"中国联通":"chinanet"==t.cardDetail.carrier?"中国电信":""))])]),a("el-col",{attrs:{span:12}},[a("span",[t._v("材质")]),a("span",{staticClass:"ICCIDSetting"},[t._v("塑料插拔卡")])])],1),a("el-col",{staticClass:"paddingSetting",attrs:{span:24}},[a("el-col",{attrs:{span:12}},[a("span",[t._v("电话号码")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s(t.cardDetail.msisdn))])]),a("el-col",{attrs:{span:12}},[a("span",[t._v("规格")]),a("span",{staticClass:"ICCIDSetting"},[t._v("Nano卡")])])],1),a("el-col",{staticClass:"paddingSetting",attrs:{span:24}},[a("el-col",{attrs:{span:12}},[a("span",[t._v("设备状态")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s("testing"==t.cardDetail.status?"测试中":"inventory"==t.cardDetail.status?"库存":"pending-activation"==t.cardDetail.status?"待激活":"activation"==t.cardDetail.status?"已激活":"deactivation"==t.cardDetail.status?"已停卡":"retired"==t.cardDetail.status?"已销卡":""))])]),a("el-col",{attrs:{span:12}},[a("span",[t._v("流量池")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s("SINGLE"==t.cardDetail.type?"无":"cmcc"==t.cardDetail.carrier?"移动-"+parseInt(t.cardDetail.totaIDataVolume)+"M":"unicom"==t.cardDetail.carrier?"联通流量池":"无"))])])],1),a("el-col",{staticClass:"paddingSetting",attrs:{span:24}},[a("el-col",{attrs:{span:12}},[a("span",[t._v("网络状态")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s("ACTIVATED_NAME"==t.cardDetail.deviceStatus?"开启":"关闭"))])]),a("el-col",{attrs:{span:12}},[a("span",[t._v("短信服务")]),a("span",{staticClass:"ICCIDSetting"},[t._v("关闭")])])],1),a("el-col",{staticClass:"paddingSetting",attrs:{span:24}},[a("el-col",{attrs:{span:12}},[a("span",[t._v("APN")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s(t.cardDetail.apn))]),t.cardDetail.apn?a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"text"},on:{click:function(a){t.APNVisible=!0}}},[t._v("如何设置")]):t._e()],1),a("el-col",{attrs:{span:12}},[a("span",[t._v("定位服务")]),a("span",{staticClass:"ICCIDSetting"},[t._v("关闭")])])],1),a("el-col",{staticClass:"paddingSetting",attrs:{span:24}},[a("el-col",{attrs:{span:12}},[a("span",[t._v("IP地址")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s(t.cardDetail.ipAddr))])]),a("el-col",{attrs:{span:12}},[a("span",[t._v("测试期")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s("testing"==t.cardDetail.status?"测试中":"无")+" ")])])],1),a("el-col",{staticClass:"paddingSetting",attrs:{span:24}},[a("el-col",{attrs:{span:12}},[a("span",[t._v("订单编号")]),a("span",{staticClass:"ICCIDSetting"},[t._v("201806111541292099")])]),a("el-col",{attrs:{span:12}},[a("span",[t._v("测试期过期时间")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s("testing"==t.cardDetail.status?"cardDetail.testingExpireDate":""))])])],1),a("el-col",{staticClass:"paddingSetting",attrs:{span:24}},[a("el-col",{attrs:{span:12}},[a("span",[t._v("发卡时间")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s(t.cardDetail.openDate))])]),a("el-col",{attrs:{span:12}},[a("span",[t._v("激活宽限期")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s(t.activeDate))])])],1),a("el-col",{staticClass:"paddingSetting",attrs:{span:24}},[a("el-col",{attrs:{span:12,offset:12}},[a("span",[t._v("激活时间")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s(t.cardDetail.startDate))])])],1),a("el-col",{staticClass:"paddingSetting",staticStyle:{"padding-bottom":"20px"},attrs:{span:24}},[a("el-col",{attrs:{span:12,offset:12}},[a("span",[t._v("过期时间")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s(t.cardDetail.expireDate))])])],1)],1),a("el-row",{staticClass:"contentSetting marginSetting"},[a("el-col",{staticClass:"bottomSetting fontSetting",attrs:{span:24}},[a("span",[t._v("套餐与流量")])]),a("el-col",{staticStyle:{padding:"20px 0"},attrs:{span:12}},[a("div",{staticClass:"flexLayout"},[a("div",{ref:"cardDetailChart",style:{height:"200px",width:"200px"},attrs:{id:"cardDetailChart"}}),a("div",[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("span",{staticStyle:{width:"24px",height:"12px",background:"#f7ba2a",display:"inline-block","margin-right":"10px"}}),t._v("已用量 "+t._s(Math.trunc(1e3*t.cardDetail.dataUsage)/1e3)+"M")]),a("div",[a("span",{staticStyle:{width:"24px",height:"12px",background:"#53afff",display:"inline-block","margin-right":"10px"}}),t._v("剩余用量 "+t._s(Math.trunc(1e3*(t.cardDetail.totaIDataVolume-t.cardDetail.dataUsage))/1e3)+"M")])])])]),a("el-col",{staticStyle:{padding:"20px 0"},attrs:{span:12}},[a("el-col",{staticClass:"paddingSetting",attrs:{span:24}},[a("span",[t._v("当前套餐")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s(t.cardDetail.iratePlanName))])]),a("el-col",{staticClass:"paddingSetting",attrs:{span:24}},[a("span",[t._v("套餐周期")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s(t.cardDetail.ratePlanEffetiveDate)+" - "+t._s(t.cardDetail.ratePlanExpirationDate))])])],1)],1),a("el-row",[a("el-col",{staticClass:"contentSetting marginSetting",attrs:{span:11}},[a("el-row",{staticClass:"bottomSetting fontSetting"},[a("span",[t._v("计划套餐")])]),a("el-row",{staticStyle:{"margin-bottom":"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.planMealData}},[a("el-table-column",{attrs:{prop:"name",label:"套餐名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                            "+t._s(("cmcc"==t.cardDetail.carrier?"中国移动":"unicom"==t.cardDetail.carrier?"中国联通":"chinanet"==t.cardDetail.carrier?"中国电信":"")+a.row.name)+"\n                        ")]}}])}),a("el-table-column",{attrs:{prop:"dataVolume",label:"套餐流量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.dataVolume.toFixed(3)+"M/月"))])]}}])}),a("el-table-column",{attrs:{prop:"timeUnit",label:"套餐周期",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.effectiveDate+"-"+e.row.expirationDate))])]}}])})],1),a("el-pagination",{attrs:{"current-page":t.pagePlant,"page-sizes":[5],"page-size":t.limitPlant,total:t.totalPlant,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(a){t.pagePlant=a},"update:current-page":function(a){t.pagePlant=a},"size-change":t.pageSizePlantChangeHandle,"current-change":t.pagePlantCurrentChangeHandle}})],1)],1),a("el-col",{staticClass:"contentSetting marginSetting",attrs:{offset:2,span:11}},[a("el-row",{staticClass:"bottomSetting fontSetting"},[a("span",[t._v("历史套餐")])]),a("el-row",{staticStyle:{"margin-bottom":"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.planMealHistoryData}},[a("el-table-column",{attrs:{prop:"name",label:"套餐名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(("cmcc"==t.cardDetail.carrier?"中国移动":"unicom"==t.cardDetail.carrier?"中国联通":"chinanet"==t.cardDetail.carrier?"中国电信":"")+e.row.name))])]}}])}),a("el-table-column",{attrs:{prop:"dataVolume",label:"套餐流量",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.dataVolume.toFixed(3)+"M/月"))])]}}])}),a("el-table-column",{attrs:{prop:"timeUnit",label:"套餐周期",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.effectiveDate+"-"+e.row.expirationDate))])]}}])})],1),a("el-pagination",{attrs:{"current-page":t.pageHistory,"page-sizes":[5],"page-size":t.limitHistory,total:t.totalHistory,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(a){t.pageHistory=a},"update:current-page":function(a){t.pageHistory=a},"size-change":t.pageSizeHistoryChangeHandle,"current-change":t.pageHistoryCurrentChangeHandle}})],1)],1)],1),a("el-row",{staticClass:"contentSetting marginSetting"},[a("el-col",{staticClass:"bottomSetting fontSetting",attrs:{span:24}},[a("span",[t._v("设备与用户")])]),a("el-col",{staticClass:"paddingSetting",staticStyle:{"padding-top":"20px"},attrs:{span:24}},[a("el-col",{attrs:{span:12}},[a("span",[t._v("关联客户")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s(t.cardDetail.orgName))])]),a("el-col",{attrs:{span:12}},[a("span",[t._v("实名用户")]),a("span",{staticClass:"ICCIDSetting"})])],1),a("el-col",{staticClass:"paddingSetting",attrs:{span:24}},[a("el-col",{attrs:{span:12}},[a("span",[t._v("备注")]),a("span",{staticClass:"ICCIDSetting"})]),a("el-col",{attrs:{span:12}},[a("span",[t._v("实名用户Tel")]),a("span",{staticClass:"ICCIDSetting"})])],1),a("el-col",{staticClass:"paddingSetting",attrs:{span:24}},[a("el-col",{attrs:{span:12}},[a("span",[t._v("实名限制")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s(1==t.cardDetail.realnameRequired?"需要实名":"不需要实名"))])]),a("el-col",{attrs:{span:12}},[a("span",[t._v("实名用户ID")]),a("span",{staticClass:"ICCIDSetting"})])],1),a("el-col",{staticClass:"paddingSetting",staticStyle:{"padding-bottom":"20px"},attrs:{span:24}},[a("el-col",{attrs:{span:12}},[a("span",[t._v("实名信息状态")]),a("span",{staticClass:"ICCIDSetting"},[t._v(t._s("pass"==t.cardDetail.realNameCertifystatus?"实名认证审核通过":"not-submit"==t.cardDetail.realNameCertifystatus?"未提交实名认证":"not-pass"==t.cardDetail.realNameCertifystatus?"实名认证审核不通过":"not-audit"==t.cardDetail.realNameCertifystatus?"实名认证待审核":""))])]),a("el-col",{attrs:{span:12}},[a("span",[t._v("证件信息")]),a("span",{staticClass:"ICCIDSetting"})])],1)],1),a("el-row",{staticClass:"contentSetting marginSetting",staticStyle:{"padding-bottom":"40px"}},[a("el-col",{staticClass:"bottomSetting fontSetting",attrs:{span:24}},[a("span",[t._v("物联网卡用量统计")])]),a("el-col",{attrs:{span:24}},[a("el-form",{ref:"dataForm",staticStyle:{padding:"10px"},attrs:{inline:!0,model:t.dataForm}},[a("el-form-item",[a("el-button",{attrs:{size:"small",type:t.recentSeven},on:{click:function(a){return t.handleDate(0)}}},[t._v("近 7 日")])],1),a("el-form-item",[a("el-button",{attrs:{size:"small",type:t.recentThirty},on:{click:function(a){return t.handleDate(1)}}},[t._v("近 30 日")])],1),a("el-form-item",[a("el-date-picker",{attrs:{size:"small",clearable:!1,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:t.getDailyUsageByDateRange},model:{value:t.dataForm.time,callback:function(a){t.$set(t.dataForm,"time",a)},expression:"dataForm.time"}})],1)],1),a("div",{ref:"dosageConsumpte",style:{height:"400px"},attrs:{id:"dosageConsumpte"}})],1)],1),a("el-row",{staticClass:"contentSetting marginSetting"},[a("el-col",{staticClass:"bottomSetting fontSetting",attrs:{span:24}},[a("span",[t._v("定位记录")])]),a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.positionRecord}},[a("el-table-column",{attrs:{prop:"queryDate",label:"查询时间",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                        "+t._s(a.row.queryDate||"-")+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"queryType",label:"查询方式",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                        "+t._s(a.row.queryType||"-")+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"locationDate",label:"定位时间",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                        "+t._s(a.row.locationDate||"-")+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"longitude",label:"经度",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                        "+t._s(a.row.longitude||"-")+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"latitude",label:"纬度",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                        "+t._s(a.row.latitude||"-")+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"location",label:"地理位置",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                        "+t._s(a.row.location||"-")+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"memo",label:"备注",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                        "+t._s(a.row.memo)+"\n                    ")]}}])})],1),a("el-pagination",{staticStyle:{"margin-bottom":"20px"},attrs:{"current-page":t.pageLocation,"page-sizes":[1,10,20,50,100],"page-size":t.limitLocation,total:t.totalLocation,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(a){t.pageLocation=a},"update:current-page":function(a){t.pageLocation=a},"size-change":t.pageSizeLocationChangeHandle,"current-change":t.pageLocationCurrentChangeHandle}})],1)],1),a("el-row",{staticClass:"contentSetting marginSetting"},[a("el-col",{attrs:{span:24}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"短信发送",name:"first"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.messageSendData}},[a("el-table-column",{attrs:{prop:"name",label:"操作时间",width:"180",align:"center"}}),a("el-table-column",{attrs:{prop:"traffic",label:"发往",align:"center"}}),a("el-table-column",{attrs:{prop:"cycle",label:"短信内容",align:"center"}}),a("el-table-column",{attrs:{prop:"cycle",label:"发送状态",align:"center"}})],1),a("el-pagination",{staticStyle:{"margin-bottom":"20px"},attrs:{"current-page":t.pageSend,"page-sizes":[10,20,50,100],"page-size":t.limitSend,layout:"total, sizes, prev, pager, next, jumper",total:t.totalSend},on:{"update:currentPage":function(a){t.pageSend=a},"update:current-page":function(a){t.pageSend=a},"size-change":t.pageSizeSendChangeHandle,"current-change":t.pageSendCurrentChangeHandle}})],1),a("el-tab-pane",{attrs:{label:"短信接收",name:"second"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.messageReceiveData}},[a("el-table-column",{attrs:{prop:"name",label:"操作时间",width:"180",align:"center"}}),a("el-table-column",{attrs:{prop:"traffic",label:"来自",align:"center"}}),a("el-table-column",{attrs:{prop:"cycle",label:"短信内容",align:"center"}}),a("el-table-column",{attrs:{prop:"cycle",label:"发送状态",align:"center"}}),a("el-table-column",{attrs:{prop:"cycle",label:"操作账号",align:"center"}})],1),a("el-pagination",{staticStyle:{"margin-bottom":"20px"},attrs:{"current-page":t.pageReceive,"page-sizes":[10,20,50,100],"page-size":t.limitReceive,layout:"total, sizes, prev, pager, next, jumper",total:t.totalReceive},on:{"update:currentPage":function(a){t.pageReceive=a},"update:current-page":function(a){t.pageReceive=a},"size-change":t.pageSizeReceiveChangeHandle,"current-change":t.pageReceiveCurrentChangeHandle}})],1)],1)],1)],1),a("el-dialog",{attrs:{visible:t.APNVisible,title:"APN设置","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(a){t.APNVisible=a}}},[a("el-row",{staticClass:"base-info__apn--top",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[t._v("以安卓操作系统为例（您可以根据自身设备系统进行设置）")])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-row",{staticClass:"base-info__apn--top"},[t._v("第1步，打开【设置】选择网络：")]),a("el-row",[a("img",{attrs:{src:t.apnGuidone,alt:""}})])],1),a("el-col",{attrs:{span:12}},[a("el-row",{staticClass:"base-info__apn--top"},[t._v("第4步，新建APN：")]),a("el-row",[a("img",{attrs:{src:t.apnGuidfour,alt:""}})])],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-row",{staticClass:"base-info__apn--top"},[t._v("第2步，选择移动网络：")]),a("el-row",[a("img",{attrs:{src:t.apnGuidtwo,alt:""}})])],1),a("el-col",{attrs:{span:12}},[a("el-row",{staticClass:"base-info__apn--top"},[t._v("第5步，输入APN名称和APN（APN根据【卡详情】内的APN进行设置），完成即可使用指定APN连接网络。")]),a("el-row",[a("img",{attrs:{src:t.apnGuidfive,alt:""}})])],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-row",{staticClass:"base-info__apn--top"},[t._v("第3步，选择接入点（APN）：")]),a("el-row",[a("img",{attrs:{src:t.apnGuidthree,alt:""}})])],1)],1)],1)],1)},i=[],s=(e("8e6e"),e("456d"),e("ac6a"),e("ade3"));function r(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?r(Object(e),!0).forEach((function(a){Object(s["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var c={name:"cardDetail",data:function(){return{iccid:"",pagePlant:1,limitPlant:5,totalPlant:0,pageHistory:1,limitHistory:5,totalHistory:0,pageLocation:1,limitLocation:10,totalLocation:0,pageSend:1,limitSend:10,totalSend:0,pageReceive:1,limitReceive:10,totalReceive:0,APNVisible:!1,recentSeven:"primary",recentThirty:"",activeName:"first",dataForm:{time:[],dailyUsagedData:[],dailyUsagedChartData:[]},activeDate:"",date:[],chartData:[],planMealData:[],planMealHistoryData:[],positionRecord:[],messageSendData:[],messageReceiveData:[],cardDetail:{ipAddr:"",apn:""},apnGuidone:e("240a"),apnGuidtwo:e("02eb"),apnGuidthree:e("4981c"),apnGuidfour:e("6ec9"),apnGuidfive:e("264e")}},methods:{pageSizePlantChangeHandle:function(t){this.limitPlant=t,this.pagePlant=1,this.getPlanData()},pagePlantCurrentChangeHandle:function(t){this.pagePlant=t,this.getPlanData()},pageSizeHistoryChangeHandle:function(t){this.pageHistory=1,this.limitHistory=t,this.getHistoryData((function(){}))},pageHistoryCurrentChangeHandle:function(t){this.pageHistory=t,this.getHistoryData((function(){}))},pageSizeLocationChangeHandle:function(t){this.limitLocation=t,this.pageLocation=1,this.getLocationRecords()},pageLocationCurrentChangeHandle:function(t){this.pageLocation=t,this.getLocationRecords()},pageSizeSendChangeHandle:function(t){this.limitSend=t,this.pageSend=1,this.getSmsSendData()},pageSendCurrentChangeHandle:function(t){this.pageSend=t,this.getSmsSendData()},pageSizeReceiveChangeHandle:function(t){this.limitReceive=t,this.pageReceive=1,this.getSmsReceiveData()},pageReceiveCurrentChangeHandle:function(t){this.pageReceive=t,this.getSmsReceiveData()},cardDetailChartMonitor:function(){var t=this,a=this.$refs.cardDetailChart;if(a){var e=t.$echarts.init(a,"light"),n={tooltip:{trigger:"item",formatter:"{c}M ({d}%)"},legend:{show:!1,data:["已用量","剩余用量"]},color:["#f7ba2a","#53afff"],series:[{type:"pie",startAngle:90,radius:["50%","70%"],avoidLabelOverlap:!1,hoverAnimation:!1,label:{normal:{show:!0,position:"center",formatter:function(a){var e="套餐总量\r\n\r\n"+parseInt(t.cardDetail.totaIDataVolume)+"M";return e},textStyle:{fontSize:12,color:"#000"}}},labelLine:{show:!1},data:[{value:Math.trunc(1e3*t.cardDetail.dataUsage)/1e3,name:"已用量"},{value:Math.trunc(1e3*(t.cardDetail.totaIDataVolume-t.cardDetail.dataUsage))/1e3,name:"剩余用量"}]}]};e.setOption(n,!0)}},dosageConsumpteChartMonitor:function(){var t=this.$refs.dosageConsumpte;if(t){var a=this.$echarts.init(t,"light"),e={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:"{b} </br>{a}: {c}M"},legend:{data:["用量消耗"]},grid:{left:"3%",right:"4%",top:"8%",bottom:0,containLabel:!0},xAxis:[{type:"category",boundaryGap:!0,axisTick:{show:!1},data:this.dataForm.dailyUsagedData}],yAxis:[{name:"用量消耗",type:"value",axisLabel:{formatter:"{value}M"}}],series:[{name:"用量消耗",type:"bar",data:this.dataForm.dailyUsagedChartData}]};a.setOption(e,!0)}},handleClick:function(t,a){"first"==t.name?this.getSmsSendData():"second"==t.name&&this.getSmsReceiveData()},getICCIDInfo:function(t){var a=this,e={page:1,limit:1,iccid:t};a.$http.get("/simboss/iccid/list",{params:e}).then((function(t){var e=t.data;a.cardDetail=l(l({},a.cardDetail),e.list[0]),a.activeDate=a.dateChange(a.cardDetail.activeDuration,a.cardDetail.openDate),a.$nextTick((function(){a.cardDetailChartMonitor()}))})).catch((function(t){return!1}))},dateChange:function(t,a){var e=a.substring(11,19);a=Date.parse(new Date(a))/1e3,a+=86400*t;var n=new Date(1e3*parseInt(a)),i=n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,s=n.getDate()<10?"0"+n.getDate():n.getDate(),r=n.getFullYear()+"-"+i+"-"+s+" "+e;return r},handleDate:function(t){if(0==t){this.recentSeven="primary",this.recentThirty="";var a=new Date,e=this.$dateFormatter(a.getTime()-6048e5,!1),n=this.$dateFormatter(a.getTime()-864e5,!1);this.dataForm.time=[e,n],this.getDailyUsageByDateRange()}else if(1==t){this.recentSeven="",this.recentThirty="primary";var i=new Date,s=this.$dateFormatter(i.getTime()-2592e6,!1),r=this.$dateFormatter(i.getTime()-864e5,!1);this.dataForm.time=[s,r],this.getDailyUsageByDateRange()}},getDailyUsageByDateRange:function(){var t=this,a={iccid:this.iccid,startDate:t.dataForm.time[0],endDate:t.dataForm.time[1]};t.dataForm.dailyUsagedData=[],t.dataForm.dailyUsagedChartData=[],t.$http.get("/simboss/dailyUsageByDateRange",{params:a}).then((function(a){var e=a.data;if(0!=e.code)return t.$message.error(e.message);e.data.length>0&&e.data.forEach((function(a){t.dataForm.dailyUsagedData.push(a.date.substring(0,10)),t.dataForm.dailyUsagedChartData.push(Math.trunc(a.usage/1024*1e3)/1e3)})),t.$nextTick((function(){t.dosageConsumpteChartMonitor()}))})).catch((function(t){return!1}))},getLocationRecords:function(){var t=this,a={iccid:t.iccid,page:t.pageLocation,limit:t.limitLocation};t.positionRecord=[],t.totalLocation=0,t.$http.get("/simboss/lbs/record/list",{params:a}).then((function(a){var e=a.data;if(0!=e.code)return t.$message.error(e.msg);t.positionRecord=e.data.dataMsg,t.totalLocation=e.data.total})).catch((function(t){return!1}))},getIPAddressInfo:function(){var t=this,a={iccid:t.iccid,status:"plan"};t.$http.get("/simboss/gprsStatus",{params:a}).then((function(a){var e=a.data;if("function-authentication-failed"==e.message)return t.cardDetail.apn="",t.cardDetail.ipAddr="";t.cardDetail.apn=e.data.apn,t.cardDetail.ipAddr=e.data.ipAddr})).catch((function(t){return!1}))},getPlanData:function(){var t=this,a={page:t.pagePlant,limit:t.limitPlant,iccid:t.iccid,status:"plan"};t.planMealData=[],t.$http.get("/simboss/orderedPlans",{params:a}).then((function(a){var e=a.data;if(0!=e.code)return t.$message.error(e.msg);t.planMealData=e.data.dataMsg,t.totalPlant=e.data.total})).catch((function(t){return!1}))},getHistoryData:function(t){var a=this,e={page:a.pageHistory,limit:a.limitHistory,iccid:a.iccid,status:"finished"};a.planMealHistoryData=[],a.$http.get("/simboss/orderedPlans",{params:e}).then((function(e){var n=e.data;return 0!=n.code?a.$message.error(n.msg):(a.planMealHistoryData=n.data.dataMsg,a.totalHistory=n.data.total,t)})).catch((function(t){return!1}))},getSmsSendData:function(){var t=this,a={page:t.pageSend,limit:t.limitSend,iccid:t.iccid,type:"send"};t.messageSendData=[],t.totalSend=0,t.$http.get("/simboss/sms/list",{params:a}).then((function(a){var e=a.data;if(0!=e.code)return t.$message.error(e.msg);t.messageSendData=e.data.dataMsg,t.totalSend=e.data.total})).catch((function(t){return!1}))},getSmsReceiveData:function(){var t=this,a={page:t.pageReceive,limit:t.limitReceive,iccid:t.iccid,type:"receive"};t.messageReceiveData=[],t.totalReceive=0,t.$http.get("/simboss/sms/list",{params:a}).then((function(a){var e=a.data;if(0!=e.code)return t.$message.error(e.msg);t.messageReceiveData=e.data.dataMsg,t.totalReceive=e.data.total})).catch((function(t){return!1}))}},activated:function(){var t=this;this.iccid=this.$route.query.iccid;var a=new Date,e=this.$dateFormatter(a.getTime()-6048e5,!1),n=this.$dateFormatter(a.getTime()-864e5,!1);this.dataForm.time=[e,n],this.getICCIDInfo(this.iccid),this.getDailyUsageByDateRange(),this.getIPAddressInfo(),this.getLocationRecords(),this.getSmsSendData(),this.$store.state.sidebarMenuActiveName="1300638086891368450",this.getHistoryData((function(){t.getPlanData()}))}},o=c,p=(e("d78b"),e("2877")),d=Object(p["a"])(o,n,i,!1,null,"0be1f1f0",null);a["default"]=d.exports},d78b:function(t,a,e){"use strict";e("9c5d")}}]);