(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-749f2d02"],{"1e5f":function(a,e,l){"use strict";l.r(e);l("7f7f");var t=function(){var a=this,e=a._self._c;return e("section",[e("el-dialog",{attrs:{visible:a.visible,title:a.dataForm.id?a.$t("update"):a.$t("add"),"custom-class":11==a.dataForm.datatype?"flashing":"","close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":a.handleClose},on:{"update:visible":function(e){a.visible=e},opened:a.handleDialogOpenChange}},[e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],ref:"dataForm",attrs:{model:a.dataForm,rules:a.rules,"label-width":(a.$i18n.locale,"180px")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.dataFormSubmitHandle()},submit:function(a){a.preventDefault()}}},[e("el-tabs",{on:{"tab-click":a.handleClick},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{name:"first"}},[e("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"el-icon-info"}),a._v(" "+a._s(a.$t("attribute.basic")))]),e("el-row",{style:{marginTop:a.dataForm.id?0:"40px"}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("tagTemplate.belongAgreement"),prop:"protocol"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},on:{change:a.selectProtocol},model:{value:a.dataForm.protocol,callback:function(e){a.$set(a.dataForm,"protocol",e)},expression:"dataForm.protocol"}},a._l(a.protocolList,(function(a,l){return e("el-option",{key:l,attrs:{label:a.proName,value:a.id}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[a.dataForm.id?a._e():e("el-form-item",{attrs:{label:a.$t("attribute.tagname"),prop:"tagName"}},[e("tooltip",{attrs:{placement:"top-left",mode:"manual",visible:a.tooltipTagvisible}},[e("div",{attrs:{slot:"outlet"},slot:"outlet"}),e("div",{attrs:{slot:"tooltip"},slot:"tooltip"},[a._v("\n                                        "+a._s(a.$t("attribute.addTagName"))+"\n                                    ")])]),e("el-input",{ref:"tagname",attrs:{placeholder:a.$t("attribute.tagname"),maxlength:48,clearable:""},model:{value:a.dataForm.tagName,callback:function(e){a.$set(a.dataForm,"tagName","string"===typeof e?e.trim():e)},expression:"dataForm.tagName"}})],1),a.dataForm.id?e("el-form-item",{attrs:{label:a.$t("attribute.tagname"),prop:"tagName"}},[e("el-input",{ref:"tagname",attrs:{placeholder:a.$t("attribute.tagname"),maxlength:48,clearable:""},model:{value:a.dataForm.tagName,callback:function(e){a.$set(a.dataForm,"tagName","string"===typeof e?e.trim():e)},expression:"dataForm.tagName"}})],1):a._e()],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("configuration.parameterItemTemplate"),prop:"paramInfoId"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},on:{change:a.getTagCommentList},model:{value:a.dataForm.paramInfoId,callback:function(e){a.$set(a.dataForm,"paramInfoId",e)},expression:"dataForm.paramInfoId"}},a._l(a.paramInfoList,(function(a,l){return e("el-option",{key:l,attrs:{label:a.name,value:a.id}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("parameterTemplate.measuringPointDescription"),prop:"tagComment"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},model:{value:a.dataForm.tagComment,callback:function(e){a.$set(a.dataForm,"tagComment",e)},expression:"dataForm.tagComment"}},a._l(a.tagCommentList,(function(a,l){return e("el-option",{key:l,attrs:{label:a.tagDesc,value:a.id}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.alarmtype"),prop:"alarmType"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},on:{change:a.selectAlarmRecord},model:{value:a.dataForm.alarmType,callback:function(e){a.$set(a.dataForm,"alarmType",e)},expression:"dataForm.alarmType"}},a._l(a.alarmRecordList,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.tagrwprop"),prop:"tagRWProp"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},model:{value:a.dataForm.tagRWProp,callback:function(e){a.$set(a.dataForm,"tagRWProp",e)},expression:"dataForm.tagRWProp"}},a._l(a.writeReadType,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[11!=a.dataForm.datatype?e("el-form-item",{attrs:{label:a.$t("attribute.tagk")+"(k)",prop:"tagK"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.tagk"),onkeyup:"value=value.replace(/^([+-]?\\D*(\\d*(?:\\.\\d{0,6})?)).*$/g, '$1')",clearable:""},model:{value:a.dataForm.tagK,callback:function(e){a.$set(a.dataForm,"tagK",e)},expression:"dataForm.tagK"}})],1):a._e(),11==a.dataForm.dataType?e("el-form-item",{attrs:{label:a.$t("stringLength"),prop:"tagK"}},[e("el-input",{attrs:{min:0,max:32,onkeyup:"value=value.replace(/[^0-9]/g,'')",placeholder:a.$t("stringLength"),clearable:""},on:{input:a.handleLimitTagk},model:{value:a.dataForm.tagK,callback:function(e){a.$set(a.dataForm,"tagK",e)},expression:"dataForm.tagK"}})],1):a._e()],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.tagb")+"(b)",prop:"tagB"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.tagb"),clearable:""},model:{value:a.dataForm.tagB,callback:function(e){a.$set(a.dataForm,"tagB",e)},expression:"dataForm.tagB"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.collecttypec"),prop:"collectTypeC"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},model:{value:a.dataForm.collectTypeC,callback:function(e){a.$set(a.dataForm,"collectTypeC",e)},expression:"dataForm.collectTypeC"}},a._l(a.functionCodeType,(function(a){return e("el-option",{key:a.FuncCode,attrs:{label:a.description,value:a.FuncCode}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.taggroup"),prop:"tagGroup"}},[e("el-autocomplete",{staticStyle:{width:"100%"},attrs:{clearable:"","fetch-suggestions":a.querySearchAsync,placeholder:a.$t("attribute.pleaceEnterContent")},on:{select:a.handleSelect},model:{value:a.dataForm.tagGroup,callback:function(e){a.$set(a.dataForm,"tagGroup",e)},expression:"dataForm.tagGroup"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.address"),prop:"objAddr"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.address"),maxlength:128,clearable:""},on:{input:a.handleObjaddr},model:{value:a.dataForm.objAddr,callback:function(e){a.$set(a.dataForm,"objAddr",e)},expression:"dataForm.objAddr"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.datatype"),prop:"dataType"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},on:{change:a.handleDataType},model:{value:a.dataForm.dataType,callback:function(e){a.$set(a.dataForm,"dataType",e)},expression:"dataForm.dataType"}},a._l(a.dataType,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.dataformat"),prop:"dataFormat"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},model:{value:a.dataForm.dataFormat,callback:function(e){a.$set(a.dataForm,"dataFormat",e)},expression:"dataForm.dataFormat"}},a._l(a.hiloType,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.isUpload")}},[e("el-checkbox",{on:{change:a.handleIsUpload},model:{value:a.isupload,callback:function(e){a.isupload=e},expression:"isupload"}},[a._v("\n                                    "+a._s(a.$t("attribute.isUpload"))+"\n                                ")])],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("configuration.reverseOrNot")}},[e("el-checkbox",{model:{value:a.tagReserve,callback:function(e){a.tagReserve=e},expression:"tagReserve"}},[a._v(a._s(a.$t("configuration.reverseOrNot")))])],1)],1)],1)],1),e("el-tab-pane",{attrs:{name:"second"}},[e("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"el-icon-message-solid",style:{color:a.isOpenalarm?"#E6A23C":"#ccc"}}),a._v("\n                        "+a._s(a.$t("attribute.alarm")))]),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.alarmRecord")}},[e("el-checkbox",{on:{change:a.openAlarm},model:{value:a.isOpenalarm,callback:function(e){a.isOpenalarm=e},expression:"isOpenalarm"}},[a._v("\n                                    "+a._s(a.$t("attribute.alarmRecordOpen"))+"\n                                ")])],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.alarmLevel"),prop:"alarmLevel"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},model:{value:a.dataForm.alarmLevel,callback:function(e){a.$set(a.dataForm,"alarmLevel",e)},expression:"dataForm.alarmLevel"}},a._l(a.alarmLevel,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1)],1),0===a.dataForm.alarmType?e("div",[e("el-row",[e("el-col",{attrs:{span:3}},[e("el-form-item",{attrs:{label:""}})],1),e("el-col",{attrs:{span:9,offset:1}},[e("el-form-item",{attrs:{label:""}},[a._v(a._s(a.$t("attribute.alarmLimit")))])],1),e("el-col",{attrs:{span:9,offset:1}},[e("el-form-item",{attrs:{label:""}},[a._v(a._s(a.$t("attribute.alarmMessage")))])],1)],1),e("el-row",[e("el-col",{attrs:{span:3}},[e("el-form-item",{staticStyle:{"text-align":"left"}},[e("el-checkbox",{attrs:{disabled:a.isOpenalarm&&1===a.dataForm.alarmType||!a.isOpenalarm},on:{change:a.handlehighhigh},model:{value:a.hhenablealarm,callback:function(e){a.hhenablealarm=e},expression:"hhenablealarm"}},[a._v("\n                                        "+a._s(a.$t("attribute.hhenablealarm"))+"\n                                    ")])],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{prop:"hhalarmLimit"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmType||a.isOpenalarm&&0===a.dataForm.alarmType&&!a.hhenablealarm||!a.isOpenalarm,placeholder:a.$t("attribute.hhenablealarm")},model:{value:a.dataForm.hhalarmLimit,callback:function(e){a.$set(a.dataForm,"hhalarmLimit",e)},expression:"dataForm.hhalarmLimit"}})],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{prop:"hhalarmMsg"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmType||a.isOpenalarm&&0===a.dataForm.alarmType&&!a.hhenablealarm||!a.isOpenalarm,placeholder:"",maxlength:32},model:{value:a.dataForm.hhalarmMsg,callback:function(e){a.$set(a.dataForm,"hhalarmMsg",e)},expression:"dataForm.hhalarmMsg"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:3}},[e("el-form-item",[e("el-checkbox",{attrs:{disabled:a.isOpenalarm&&1===a.dataForm.alarmType||!a.isOpenalarm},on:{change:a.handlehigh},model:{value:a.henablealarm,callback:function(e){a.henablealarm=e},expression:"henablealarm"}},[a._v("\n                                        "+a._s(a.$t("attribute.henablealarm"))+"\n                                    ")])],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:"",prop:"halarmLimit"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmType||a.isOpenalarm&&0===a.dataForm.alarmType&&!a.henablealarm||!a.isOpenalarm,placeholder:a.$t("attribute.henablealarm")},model:{value:a.dataForm.halarmLimit,callback:function(e){a.$set(a.dataForm,"halarmLimit",e)},expression:"dataForm.halarmLimit"}})],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:"",prop:"halarmMsg"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmType||a.isOpenalarm&&0===a.dataForm.alarmType&&!a.henablealarm||!a.isOpenalarm,placeholder:"",maxlength:32},model:{value:a.dataForm.halarmMsg,callback:function(e){a.$set(a.dataForm,"halarmMsg",e)},expression:"dataForm.halarmMsg"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:3}},[e("el-form-item",[e("el-checkbox",{attrs:{disabled:a.isOpenalarm&&1===a.dataForm.alarmType||!a.isOpenalarm},on:{change:a.handlelow},model:{value:a.lenablealarm,callback:function(e){a.lenablealarm=e},expression:"lenablealarm"}},[a._v("\n                                        "+a._s(a.$t("attribute.lenablealarm"))+"\n                                    ")])],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:"",prop:"lalarmLimit"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmType||a.isOpenalarm&&0===a.dataForm.alarmType&&!a.lenablealarm||!a.isOpenalarm,placeholder:a.$t("attribute.lenablealarm")},model:{value:a.dataForm.lalarmLimit,callback:function(e){a.$set(a.dataForm,"lalarmLimit",e)},expression:"dataForm.lalarmLimit"}})],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:"",prop:"lalarmMsg"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmType||a.isOpenalarm&&0===a.dataForm.alarmType&&!a.lenablealarm||!a.isOpenalarm,placeholder:"",maxlength:32},model:{value:a.dataForm.lalarmMsg,callback:function(e){a.$set(a.dataForm,"lalarmMsg",e)},expression:"dataForm.lalarmMsg"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:3}},[e("el-form-item",[e("el-checkbox",{attrs:{disabled:a.isOpenalarm&&1===a.dataForm.alarmType||!a.isOpenalarm},on:{change:a.handlelowlow},model:{value:a.llenablealarm,callback:function(e){a.llenablealarm=e},expression:"llenablealarm"}},[a._v("\n                                        "+a._s(a.$t("attribute.llenablealarm"))+"\n                                    ")])],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:"",prop:"llalarmLimit"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmType||a.isOpenalarm&&0===a.dataForm.alarmType&&!a.llenablealarm||!a.isOpenalarm,placeholder:a.$t("attribute.llenablealarm")},model:{value:a.dataForm.llalarmLimit,callback:function(e){a.$set(a.dataForm,"llalarmLimit",e)},expression:"dataForm.llalarmLimit"}})],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:"",prop:"llalarmMsg"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmType||a.isOpenalarm&&0===a.dataForm.alarmType&&!a.llenablealarm||!a.isOpenalarm,placeholder:"",maxlength:32},model:{value:a.dataForm.llalarmMsg,callback:function(e){a.$set(a.dataForm,"llalarmMsg",e)},expression:"dataForm.llalarmMsg"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.alarmdeadarea"),prop:"alarmDeadArea"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmType||!a.isOpenalarm,placeholder:a.$t("attribute.alarmdeadarea"),onkeyup:"value=value.replace(/^\\D*(\\d*(?:\\.\\d{0,2})?).*$/g, '$1')"},model:{value:a.dataForm.alarmDeadArea,callback:function(e){a.$set(a.dataForm,"alarmDeadArea",e)},expression:"dataForm.alarmDeadArea"}})],1)],1)],1)],1):a._e(),1===a.dataForm.alarmType?e("div",[e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.kgchangemode"),prop:"kgchangemode",rules:1===this.dataForm.alarmType?a.rules.kgchangemode:[{required:!1,message:a.$t("attribute.requireNotNull"),trigger:"change"}]}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect"),disabled:a.isOpenalarm&&0===a.dataForm.alarmType||!a.isOpenalarm},on:{change:a.selectAlarmChange},model:{value:a.dataForm.kgchangeMode,callback:function(e){a.$set(a.dataForm,"kgchangeMode",e)},expression:"dataForm.kgchangeMode"}},a._l(a.modeType,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.alarmMessage"),prop:"kgalarmMsg",rules:1===this.dataForm.alarmType?a.rules.kgalarmmsg:[{required:!1,message:a.$t("attribute.requireNotNull"),trigger:"change"}]}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&0===a.dataForm.alarmType||!a.isOpenalarm,placeholder:a.$t("attribute.alarmMessage"),maxlength:32},model:{value:a.dataForm.kgalarmMsg,callback:function(e){a.$set(a.dataForm,"kgalarmMsg",e)},expression:"dataForm.kgalarmMsg"}})],1)],1)],1)],1):a._e()],1),e("el-tab-pane",{attrs:{name:"third"}},[e("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"el-icon-date",style:{color:a.enablehissave?"#17B3A3":"#ccc"}}),a._v("\n                        "+a._s(a.$t("attribute.history")))]),e("el-form-item",{attrs:{label:a.$t("attribute.historyStore")}},[e("el-checkbox",{on:{change:a.openHistory},model:{value:a.enablehissave,callback:function(e){a.enablehissave=e},expression:"enablehissave"}},[a._v(a._s(a.$t("attribute.historyStoreOpen"))+" ")])],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.hissavetype")}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect"),disabled:""},model:{value:a.dataForm.hisSaveType,callback:function(e){a.$set(a.dataForm,"hisSaveType",e)},expression:"dataForm.hisSaveType"}},a._l(a.storageMode,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.hissaveinterval")}},[e("tooltip",{directives:[{name:"show",rawName:"v-show",value:a.tooltipvisible,expression:"tooltipvisible"}],staticStyle:{position:"absolute",left:"0",top:"-30px"},attrs:{placement:"top-left",mode:"manual"}},[e("div",{attrs:{slot:"outlet",hidden:""},slot:"outlet"},[a._v("top left")]),e("div",{attrs:{slot:"tooltip"},slot:"tooltip"},[a._v(a._s(a.msg))])]),e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect"),disabled:!a.enablehissave},on:{change:a.changeHissaveinterval},model:{value:a.dataForm.hisSaveInterval,callback:function(e){a.$set(a.dataForm,"hisSaveInterval",e)},expression:"dataForm.hisSaveInterval"}},a._l(a.storageInterval,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.hiscompperc")}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",disabled:!a.enablehissave,placeholder:a.$t("attribute.placeholderSelect")},model:{value:a.dataForm.hisCompPerc,callback:function(e){a.$set(a.dataForm,"hisCompPerc",e)},expression:"dataForm.hisCompPerc"}},a._l(a.compressionPrecision,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1)],1)],1),e("el-tab-pane",{attrs:{name:"fourth"}},[e("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"el-icon-setting",style:{color:0!=a.dataForm.tagInitValue||0!=a.dataForm.assistPararm||a.isbit||a.istransvalue?"#17B3A3":"#ccc"}}),a._v("\n                        "+a._s(a.$t("attribute.advancedSettings")))]),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.taginitvalue"),prop:"tagInitValue"}},[e("el-input",{attrs:{clearable:"",placeholder:a.$t("attribute.taginitvalue"),onkeyup:"value=value.replace(/^\\D*(-\\d*(?:\\.\\d{0,2})?).*$/g, '$1')"},model:{value:a.dataForm.tagInitValue,callback:function(e){a.$set(a.dataForm,"tagInitValue",e)},expression:"dataForm.tagInitValue"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.assistpararm"),prop:"assistPararm"}},[e("el-input",{attrs:{clearable:"",placeholder:a.$t("attribute.assistpararm"),maxlength:128},model:{value:a.dataForm.assistPararm,callback:function(e){a.$set(a.dataForm,"assistPararm",e)},expression:"dataForm.assistPararm"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.isbit")}},[e("el-checkbox",{on:{change:a.selectBit},model:{value:a.isbit,callback:function(e){a.isbit=e},expression:"isbit"}},[a._v(a._s(a.$t("attribute.isbit"))+" ")])],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.startbit"),prop:"startBit"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",disabled:!a.isbit,placeholder:a.$t("attribute.placeholderSelect")},on:{change:a.handleStartbit},model:{value:a.dataForm.startBit,callback:function(e){a.$set(a.dataForm,"startBit",e)},expression:"dataForm.startBit"}},a._l(a.startbitList,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.endbit"),prop:"endBit"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",disabled:!a.isbit,placeholder:a.$t("attribute.placeholderSelect")},on:{change:a.handleEndbit},model:{value:a.dataForm.endBit,callback:function(e){a.$set(a.dataForm,"endBit",e)},expression:"dataForm.endBit"}},a._l(a.startbitList,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.istransvalue")}},[e("el-checkbox",{on:{change:a.selecttransvalue},model:{value:a.istransvalue,callback:function(e){a.istransvalue=e},expression:"istransvalue"}},[a._v("\n                                    "+a._s(a.$t("attribute.istransvalue"))+"\n                                ")])],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{staticStyle:{width:"100%"},attrs:{label:a.$t("attribute.orgreadvalue"),prop:"orgReadValue"}},[e("el-input",{attrs:{clearable:"",disabled:!a.istransvalue,placeholder:a.$t("attribute.orgreadvalue"),onkeyup:"value=value.replace(/^\\D*(\\d*(?:\\.\\d{0,2})?).*$/g, '$1')",maxlength:10},model:{value:a.dataForm.orgReadValue,callback:function(e){a.$set(a.dataForm,"orgReadValue",e)},expression:"dataForm.orgReadValue"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{staticStyle:{width:"100%"},attrs:{label:a.$t("attribute.trans"),prop:"transValue"}},[e("el-input",{attrs:{clearable:"",disabled:!a.istransvalue,placeholder:a.$t("attribute.transvalue"),onkeyup:"value=value.replace(/^\\D*(\\d*(?:\\.\\d{0,2})?).*$/g, '$1')",maxlength:10},model:{value:a.dataForm.transValue,callback:function(e){a.$set(a.dataForm,"transValue",e)},expression:"dataForm.transValue"}})],1)],1)],1)],1)],1)],1),e("template",{slot:"footer"},[e("el-button",{on:{click:a.handleClose}},[a._v(a._s(a.$t("cancel")))]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return a.dataFormSubmitHandle()}}},[a._v(a._s(a.$t("confirm")))])],1)],2)],1)},r=[],i=(l("8e6e"),l("ac6a"),l("456d"),l("ac4d"),l("8a81"),l("5df3"),l("1c4c"),l("6b54"),l("28a5"),l("ade3")),o=(l("c5f6"),l("7514"),l("55dd"),l("96cf"),l("1da1")),s=(l("3b2b"),l("4917"),l("a481"),l("b047")),n=l.n(s);function u(a,e){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),l.push.apply(l,t)}return l}function m(a){for(var e=1;e<arguments.length;e++){var l=null!=arguments[e]?arguments[e]:{};e%2?u(Object(l),!0).forEach((function(e){Object(i["a"])(a,e,l[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):u(Object(l)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(l,e))}))}return a}function b(a,e){var l="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!l){if(Array.isArray(a)||(l=d(a))||e&&a&&"number"==typeof a.length){l&&(a=l);var t=0,r=function(){};return{s:r,n:function(){return t>=a.length?{done:!0}:{done:!1,value:a[t++]}},e:function(a){throw a},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){l=l.call(a)},n:function(){var a=l.next();return o=a.done,a},e:function(a){s=!0,i=a},f:function(){try{o||null==l.return||l.return()}finally{if(s)throw i}}}}function d(a,e){if(a){if("string"==typeof a)return v(a,e);var l={}.toString.call(a).slice(8,-1);return"Object"===l&&a.constructor&&(l=a.constructor.name),"Map"===l||"Set"===l?Array.from(a):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?v(a,e):void 0}}function v(a,e){(null==e||e>a.length)&&(e=a.length);for(var l=0,t=Array(e);l<e;l++)t[l]=a[l];return t}var h={props:["protocolname"],data:function(){var a=this;return{storeProtocolId:"",loading:!1,tooltipTagvisible:!0,msg:this.$t("attribute.defaultMsg"),childguid:"",isbit:!1,istransvalue:!1,isOpenalarm:!1,hhenablealarm:!1,henablealarm:!1,lenablealarm:!1,llenablealarm:!1,enablehissave:!1,isupload:!0,tagReserve:!1,visible:!1,tooltipvisible:!0,paramsData:[],finallyDataType:4,storeLastDataType:4,dataForm:{id:"",protocol:"",tagName:this.$t("attribute.defaultTagname"),paramInfoId:"",tagComment:"",alarmType:0,tagRWProp:1,tagK:1,tagB:0,tagInitValue:0,assistPararm:0,collectTypeC:0,tagGroup:"0",objAddr:"0",dataType:4,dataFormat:0,enableBit:null,startBit:0,endBit:0,enableTransValue:null,orgReadValue:512,transValue:1,enableAlarm:null,alarmLevel:0,hhenableAlarm:null,henablealarm:null,lenableAlarm:null,llenableAlarm:null,hhalarmLimit:100,halarmLimit:90,lalarmLimit:10,llalarmLimit:0,hhalarmMsg:this.$t("attribute.hhalarmmsg"),halarmMsg:this.$t("attribute.halarmmsg"),lalarmMsg:this.$t("attribute.lalarmmsg"),llalarmMsg:this.$t("attribute.llalarmmsg"),alarmDeadArea:0,kgchangeMode:3,kgalarmMsg:this.$t("attribute.kgalarmmsg"),gwsn:"",enableHisSave:null,hisSaveType:0,hisSaveInterval:300,hisCompPerc:1,isUpload:null,reserve3:null},activeName:"first",protocolList:[],paramInfoList:[],tagCommentList:[],alarmRecordList:[{label:this.$t("attribute.visualValue"),value:0},{label:this.$t("attribute.switchValue"),value:1},{label:this.$t("attribute.ym"),value:2},{label:this.$t("attribute.yk"),value:3},{label:this.$t("attribute.yt"),value:4}],writeReadType:[{label:this.$t("attribute.onlyRead"),value:0},{label:this.$t("attribute.readWrite"),value:1},{label:this.$t("attribute.onlyWrite"),value:2}],functionCodeType:[],collectGroupType:[{label:0,value:"0"},{label:1,value:"1"},{label:2,value:"2"},{label:3,value:"3"},{label:4,value:"4"},{label:5,value:"5"},{label:6,value:"6"},{label:7,value:"7"},{label:8,value:"8"},{label:9,value:"9"}],dataType:[{label:this.$t("attribute.bit"),value:0},{label:this.$t("attribute.eightNoSymbol"),value:1},{label:this.$t("attribute.eightSymbol"),value:2},{label:this.$t("attribute.sixteenNoSymbol"),value:3},{label:this.$t("attribute.sixteenSymbol"),value:4},{label:this.$t("attribute.twentyFourNoSymbol"),value:14},{label:this.$t("attribute.twentyFourSymbol"),value:15},{label:this.$t("attribute.thirtySecondNoSymbol"),value:5},{label:this.$t("attribute.thirtySecondSymbol"),value:6},{label:this.$t("attribute.sixteenBCD"),value:7},{label:this.$t("attribute.thirtySecondBCD"),value:8},{label:this.$t("attribute.singleFloat"),value:9},{label:this.$t("attribute.doubleFloat"),value:10},{label:this.$t("attribute.string"),value:11},{label:this.$t("configuration.BitUnsigned64"),value:12},{label:this.$t("configuration.BitSigned64"),value:13}],hiloType:[{label:"12",value:0},{label:"21",value:1},{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],hiloTypeYT:[{label:"12",value:0},{label:"21",value:1},{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],startbitList:[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}],alarmLevel:[{label:this.$t("attribute.notice"),value:0},{label:this.$t("attribute.warning"),value:1},{label:this.$t("attribute.serious"),value:2}],modeType:[{label:this.$t("attribute.openAlarm"),value:0},{label:this.$t("attribute.closeAlarm"),value:1},{label:this.$t("attribute.deflectionAlarm"),value:2},{label:this.$t("attribute.noAlarm"),value:3}],storageMode:[{label:this.$t("attribute.cycleStore"),value:0},{label:this.$t("attribute.deflectionStore"),value:1}],storageInterval:[{label:"30",value:30},{label:"60",value:60},{label:"180",value:180},{label:"300",value:300},{label:"600",value:600},{label:"1800",value:1800},{label:"3600",value:3600},{label:"21600",value:21600},{label:"43200",value:43200}],compressionPrecision:[{label:"0.10",value:.1},{label:"0.20",value:.2},{label:"0.30",value:.3},{label:"0.40",value:.4},{label:"0.50",value:.5},{label:"0.60",value:.6},{label:"0.70",value:.7},{label:"0.80",value:.8},{label:"0.90",value:.9},{label:"1.00",value:1}],rules:{protocol:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],tagName:[{required:!0,message:this.$t("validate.required"),trigger:"change"},{validator:function(e,l,t){if(a.dataForm.id){var r=/^[a-zA-Z0-9_:#\u4e00-\u9fa5]+$/;if(!r.test(l))return t(new Error(a.$t("attribute.tagnameNoSpecial")));t()}else if(l){var i=/^[a-zA-Z0-9_:#\u4e00-\u9fa5]+$/;if(-1!=l.indexOf("-")){var o=Math.abs(l.substring(l.lastIndexOf("-")).replace(/[^0-9]/gi,""));if(null==l.substring(0,l.lastIndexOf("-")).match(/(\d+)[^0-9]*$/)||null==l.substring(l.lastIndexOf("-"),l.length).match(/(\d+)[^0-9]*$/))return t(new Error(a.$t("attribute.tagnameNoRules")));var s=l.substring(0,l.lastIndexOf("-")).match(/(\d+)[^0-9]*$/)[1],n=o-s+1;if(n<=0)return t(new Error(a.$t("attribute.tagnameNoRules")));var u=l.lastIndexOf("-"),m=l.substring(0,u),b=l.substring(u+1,l.length),d=i.test(m),v=new RegExp("^[0-9]([0-9])*$").test(b);if(!d)return t(new Error(a.$t("attribute.tagnameNoSpecial")));if(!v)return t(new Error(a.$t("attribute.tagnameNoRules")));t()}else{if(!i.test(l))return t(new Error(a.$t("attribute.tagnameNoSpecial")));t()}}},trigger:"change"}],tagComment:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],tagRWProp:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],tagK:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],tagB:[{required:!0,message:this.$t("validate.required"),trigger:"change"},{pattern:/^[\-\+]?\d+(\.\d+)?$/,message:this.$t("attribute.onlyIntAndFloat")}],collectTypeC:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],tagGroup:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],objAddr:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],dataType:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],dataFormat:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],kgchangeMode:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],kgalarmMsg:[{required:!0,message:this.$t("validate.required"),trigger:"change"}]}}},methods:{init:function(){this.visible=!0,this.loading=!0,this.activeName="first"},handleDialogOpenChange:function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(this.$refs.tagname.focus(),!this.dataForm.id){a.next=2;break}return a.next=1,this.getInfo();case 1:a.next=5;break;case 2:return a.next=3,this.getProtocolList();case 3:if(!String(this.dataForm.dataType)){a.next=4;break}return a.next=4,this.handleDataType(this.dataForm.dataType);case 4:this.loading=!1;case 5:case"end":return a.stop()}}),a,this)})));function e(){return a.apply(this,arguments)}return e}(),handleClick:function(a,e){var l=this;"third"==a.name&&(this.tooltipvisible=!0,this.tooltipvisible&&(this.dataForm.id,this.msg=this.$t("attribute.storeIntervel")+this.dataForm.hisSaveInterval/60+this.$t("attribute.minute"),setTimeout((function(){l.tooltipvisible=!1}),3e3)))},selectAlarmRecord:function(a){0===a?(this.dataForm.hisSaveType=0,this.dataForm.kgchangeMode=3,this.dataForm.kgalarmMsg=this.$t("attribute.noAlarm")):this.dataForm.hisSaveType=1},compareBySort:function(a,e){return a.sort((function(a,l){return a[e]-l[e]}))},getProtocolList:function(){var a=this;this.protocolList=[];var e={page:1,limit:1e3};if(!this.$hasPermission("ProcotolTemplate:select:permission.do"))return this.loading=!1,void this.$message.warning("暂无协议模板查询权限, 请联系管理员");this.$http.get("/ProcotolTemplate/selectPage.do",{params:e}).then((function(e){var l=e.data;if(0!=l.code)return a.$message.error(l.data||l.msg);if(a.protocolList=l.data.list,a.protocolList.length>0)if(a.protocolList=a.compareBySort(a.protocolList,"id"),a.dataForm.id){for(var t=0;t<a.protocolList.length;t++)if(a.dataForm.protocol==a.protocolList[t].id){a.dataForm.protocol=a.protocolList[t].id,a.selectProtocol(a.dataForm.protocol);break}}else{if(a.protocolname){for(var r=!1,i=0;i<a.protocolList.length;i++)if(a.protocolname==a.protocolList[i].id){r=!0,a.dataForm.protocol=a.protocolList[i].id;break}r||(a.dataForm.protocol=a.protocolList[0].id)}else a.dataForm.protocol=a.protocolList[0].id;a.$nextTick((function(){a.selectProtocol(a.dataForm.protocol)}))}else a.$message.warning(a.$t("tagTemplate.currentlyNoProtocolPleaseCreateNewAffiliationFirst")),a.loading=!1,setTimeout((function(){return a.visible=!1,!1}),500)})).catch((function(a){return!1}))},getTagCommentList:function(){var a=this,e={page:1,limit:2e3,paramInfo:a.dataForm.paramInfoId};if(!a.$hasPermission("ParamTemplate:select:permission.do"))return a.loading=!1,void a.$message.warning("暂无参数模板查询权限, 请联系管理员");a.dataForm.paramInfoId&&(a.tagCommentList=[],a.$http.get("/ParamTemplate/selectPage.do",{params:e}).then((function(e){var l=e.data;if(l.hasOwnProperty("code")&&0!=l.code)return a.$message.error(l.data||l.msg),!1;if(a.tagCommentList=l.data.list||[],a.tagCommentList.length>0)if(a.dataForm.id){var t=a.tagCommentList.find((function(e){return e.id==a.dataForm.tagComment}));a.dataForm.tagComment=t?t.id:a.tagCommentList[0].id}else a.dataForm.tagComment,a.dataForm.tagComment=a.tagCommentList[0].id})).catch((function(a){return!1})))},selectProtocol:function(a){var e=this,l={page:1,limit:2e3};if(e.paramInfoList=[],!e.$hasPermission("ParamInfo:select:permission.do"))return e.loading=!1,void e.$message.warning("暂无参数项模板查询权限, 请联系管理员");e.$http.get("/ParamInfo/selectPage.do",{params:l}).then((function(a){var l=a.data;if(l.hasOwnProperty("code")&&0!=l.code)return e.$message.error(l.data||l.msg),!1;e.paramInfoList=l.data.list||[],e.paramInfoList.length>0&&(e.dataForm.id||e.dataForm.paramInfoId||(e.dataForm.paramInfoId=e.paramInfoList[0].id),e.getTagCommentList())})).catch((function(a){return!1}));for(var t=0;t<e.protocolList.length;t++)if(e.protocolList[t].id==a){e.childguid=e.protocolList[t].protocol,e.getguidinfo(e.childguid);break}},querySearchAsync:function(a,e){for(var l=this,t=l.collectGroupType,r=0,i=t.length;r<i;r++)t[r].value=t[r].value,t[r].label=t[r].label;var o=a?t.filter(l.createStateFilter(a)):t;e(o)},createStateFilter:function(a){return function(e){return-1!=e.value.indexOf(a)}},handleSelect:function(a){this.dataForm.tagGroup=a.value},handleObjaddr:function(a){this.dataForm.objAddr=String(a)},handleFinallyDataType:function(a){11==a?this.$notify({title:this.$t("prompt.title"),message:this.$t("attribute.dataTypeSelectionIsString"),duration:2e3}):11==this.storeLastDataType&&(this.dataForm.tagK=1)},handleDataTypeYT:function(a){0==a||1==a||2==a||3==a||4==a?this.hiloTypeYT=[{label:"12",value:0},{label:"21",value:1}]:5==a||6==a?this.hiloTypeYT=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}]:7==a?this.hiloTypeYT=[{label:"12",value:0},{label:"21",value:1}]:8==a||9==a||10==a?this.hiloTypeYT=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}]:11==a?this.hiloTypeYT=[{label:"12",value:0},{label:"21",value:1},{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}]:(12==a||13==a)&&(this.hiloTypeYT=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}])},handleDataType:function(a){var e=this;this.finallyDataType=a;var l=!1,t=!1,r=!1,i=!1;if(this.handleFinallyDataType(a),0==a){l=!1,t=!1,r=!1,i=!1,this.hiloType=[{label:"12",value:0},{label:"21",value:1}],this.startbitList=[{label:0,value:0}];for(var o=0;o<this.hiloType.length;o++){var s=this.hiloType[o];if(this.dataForm.dataFormat==s.value){l=!0;break}}var n,u=b(this.startbitList);try{for(u.s();!(n=u.n()).done;){var m=n.value;this.dataForm.startBit==m.value&&(t=!0),this.dataForm.endBit==m.value&&(r=!0),t&&r&&(i=!0)}}catch(Sa){u.e(Sa)}finally{u.f()}}else if(1==a){l=!1,t=!1,r=!1,i=!1,this.hiloType=[{label:"12",value:0},{label:"21",value:1}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7}];for(var d=0;d<this.hiloType.length;d++){var v=this.hiloType[d];if(this.dataForm.dataFormat==v.value){l=!0;break}}var h,c=b(this.startbitList);try{for(c.s();!(h=c.n()).done;){var p=h.value;this.dataForm.startBit==p.value&&(t=!0),this.dataForm.endBit==p.value&&(r=!0),t&&r&&(i=!0)}}catch(Sa){c.e(Sa)}finally{c.f()}}else if(2==a){l=!1,t=!1,r=!1,i=!1,this.hiloType=[{label:"12",value:0},{label:"21",value:1}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7}];for(var g=0;g<this.hiloType.length;g++){var f=this.hiloType[g];if(this.dataForm.dataFormat==f.value){l=!0;break}}var F,y=b(this.startbitList);try{for(y.s();!(F=y.n()).done;){var $=F.value;this.dataForm.startBit==$.value&&(t=!0),this.dataForm.endBit==$.value&&(r=!0),t&&r&&(i=!0)}}catch(Sa){y.e(Sa)}finally{y.f()}}else if(3==a){l=!1,t=!1,r=!1,i=!1,this.hiloType=[{label:"12",value:0},{label:"21",value:1}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15}];for(var T=0;T<this.hiloType.length;T++){var S=this.hiloType[T];if(this.dataForm.dataFormat==S.value){l=!0;break}}var k,L=b(this.startbitList);try{for(L.s();!(k=L.n()).done;){var x=k.value;this.dataForm.startBit==x.value&&(t=!0),this.dataForm.endBit==x.value&&(r=!0),t&&r&&(i=!0)}}catch(Sa){L.e(Sa)}finally{L.f()}}else if(4==a){l=!1,t=!1,r=!1,i=!1,this.hiloType=[{label:"12",value:0},{label:"21",value:1}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15}];for(var A=0;A<this.hiloType.length;A++){var w=this.hiloType[A];if(this.dataForm.dataFormat==w.value){l=!0;break}}var O,C=b(this.startbitList);try{for(C.s();!(O=C.n()).done;){var I=O.value;this.dataForm.startBit==I.value&&(t=!0),this.dataForm.endBit==I.value&&(r=!0),t&&r&&(i=!0)}}catch(Sa){C.e(Sa)}finally{C.f()}}else if(5==a){l=!1,t=!1,r=!1,i=!1,this.hiloType=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}];for(var B=0;B<this.hiloType.length;B++){var _=this.hiloType[B];if(this.dataForm.dataFormat==_.value){l=!0;break}}var P,M=b(this.startbitList);try{for(M.s();!(P=M.n()).done;){var N=P.value;this.dataForm.startBit==N.value&&(t=!0),this.dataForm.endBit==N.value&&(r=!0),t&&r&&(i=!0)}}catch(Sa){M.e(Sa)}finally{M.f()}}else if(6==a){l=!1,t=!1,r=!1,i=!1,this.hiloType=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}];for(var D=0;D<this.hiloType.length;D++){var R=this.hiloType[D];if(this.dataForm.dataFormat==R.value){l=!0;break}}var j,V=b(this.startbitList);try{for(V.s();!(j=V.n()).done;){var q=j.value;this.dataForm.startBit==q.value&&(t=!0),this.dataForm.endBit==q.value&&(r=!0),t&&r&&(i=!0)}}catch(Sa){V.e(Sa)}finally{V.f()}}else if(7==a){l=!1,t=!1,r=!1,i=!1,this.hiloType=[{label:"12",value:0},{label:"21",value:1}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15}];for(var H=0;H<this.hiloType.length;H++){var E=this.hiloType[H];if(this.dataForm.dataFormat==E.value){l=!0;break}}var K,G=b(this.startbitList);try{for(G.s();!(K=G.n()).done;){var U=K.value;this.dataForm.startBit==U.value&&(t=!0),this.dataForm.endBit==U.value&&(r=!0),t&&r&&(i=!0)}}catch(Sa){G.e(Sa)}finally{G.f()}}else if(8==a){l=!1,t=!1,r=!1,i=!1,this.hiloType=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}];for(var W=0;W<this.hiloType.length;W++){var Y=this.hiloType[W];if(this.dataForm.dataFormat==Y.value){l=!0;break}}var z,J=b(this.startbitList);try{for(J.s();!(z=J.n()).done;){var Z=z.value;this.dataForm.startBit==Z.value&&(t=!0),this.dataForm.endBit==Z.value&&(r=!0),t&&r&&(i=!0)}}catch(Sa){J.e(Sa)}finally{J.f()}}else if(9==a){l=!1,t=!1,r=!1,i=!1,this.hiloType=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}];for(var Q=0;Q<this.hiloType.length;Q++){var X=this.hiloType[Q];if(this.dataForm.dataFormat==X.value){l=!0;break}}var aa,ea=b(this.startbitList);try{for(ea.s();!(aa=ea.n()).done;){var la=aa.value;this.dataForm.startBit==la.value&&(t=!0),this.dataForm.endBit==la.value&&(r=!0),t&&r&&(i=!0)}}catch(Sa){ea.e(Sa)}finally{ea.f()}}else if(10==a){l=!1,t=!1,r=!1,i=!1,this.hiloType=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}];for(var ta=0;ta<this.hiloType.length;ta++){var ra=this.hiloType[ta];if(this.dataForm.dataFormat==ra.value){l=!0;break}}var ia,oa=b(this.startbitList);try{for(oa.s();!(ia=oa.n()).done;){var sa=ia.value;this.dataForm.startBit==sa.value&&(t=!0),this.dataForm.endBit==sa.value&&(r=!0),t&&r&&(i=!0)}}catch(Sa){oa.e(Sa)}finally{oa.f()}}else if(11==a){l=!1,t=!1,r=!1,i=!1,this.hiloType=[{label:"12",value:0},{label:"21",value:1},{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0}];for(var na=0;na<this.hiloType.length;na++){var ua=this.hiloType[na];if(this.dataForm.dataFormat==ua.value){l=!0;break}}var ma,ba=b(this.startbitList);try{for(ba.s();!(ma=ba.n()).done;){var da=ma.value;this.dataForm.startBit==da.value&&(t=!0),this.dataForm.endBit==da.value&&(r=!0),t&&r&&(i=!0)}}catch(Sa){ba.e(Sa)}finally{ba.f()}}else if(12==a){l=!1,t=!1,r=!1,i=!1,this.hiloType=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}];for(var va=0;va<this.hiloType.length;va++){var ha=this.hiloType[va];if(this.dataForm.dataFormat==ha.value){l=!0;break}}var ca,pa=b(this.startbitList);try{for(pa.s();!(ca=pa.n()).done;){var ga=ca.value;this.dataForm.startBit==ga.value&&(t=!0),this.dataForm.endBit==ga.value&&(r=!0),t&&r&&(i=!0)}}catch(Sa){pa.e(Sa)}finally{pa.f()}}else if(13==a){l=!1,t=!1,r=!1,i=!1,this.hiloType=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}];for(var fa=0;fa<this.hiloType.length;fa++){var Fa=this.hiloType[fa];if(this.dataForm.dataFormat==Fa.value){l=!0;break}}var ya,$a=b(this.startbitList);try{for($a.s();!(ya=$a.n()).done;){var Ta=ya.value;this.dataForm.startBit==Ta.value&&(t=!0),this.dataForm.endBit==Ta.value&&(r=!0),t&&r&&(i=!0)}}catch(Sa){$a.e(Sa)}finally{$a.f()}}this.$nextTick((function(){l||(e.dataForm.id?e.dataForm.dataformat=void 0:e.dataForm.dataformat=e.hiloType[0].value),i||(e.dataForm.id?(e.dataForm.startbit=void 0,e.dataForm.endbit=void 0):(e.dataForm.startbit=e.startbitList[0].value,e.dataForm.endbit=e.startbitList[0].value))}))},handleIsUpload:function(a){},handleLimitTagk:function(a){a<0?this.dataForm.tagK=0:a>32&&(this.dataForm.tagK=32)},handleReserve4:function(a){a<0?this.dataForm.reserve4=0:a>32&&(this.dataForm.reserve4=32)},handlePvflag:function(a){},getguidinfo:function(a){var e=this;if(this.functionCodeType=[],!this.$hasPermission("protocolinfo:select:permission.do"))return this.loading=!1,void this.$message.warning("暂无协议查询权限, 请联系管理员");this.$http.get("/info/protocolinfo/proguid",{params:{guid:a}}).then((function(a){var l=a.data;if(0!==l.code)return e.loading=!1,e.$message.error(l.data||l.msg);l.data.length>0?(e.functionCodeType=JSON.parse(l.data[0].funccode).data,e.functionCodeType.length>0&&!e.dataForm.id&&(e.dataForm.collectTypeC||(e.dataForm.collectTypeC=e.functionCodeType[0].FuncCode)),e.loading=!1):e.loading=!1})).catch((function(a){return e.loading=!1,!1}))},selectBit:function(a){this.dataForm.enableBit=this.isbit?1:0},handleStartbit:function(a){this.dataForm.endBit<a&&(this.dataForm.endBit=a)},handleEndbit:function(a){this.dataForm.startBit>a&&(this.dataForm.startBit=a)},selecttransvalue:function(a){this.dataForm.enableTransValue=this.istransvalue?1:0},openAlarm:function(a){this.dataForm.enableAlarm=this.isOpenalarm?1:0},handlehighhigh:function(a){this.dataForm.hhenableAlarm=a?1:0},handlehigh:function(a){this.dataForm.henableAlarm=a?1:0},handlelow:function(a){this.dataForm.lenableAlarm=a?1:0},handlelowlow:function(a){this.dataForm.llenableAlarm=a?1:0},openHistory:function(a){this.dataForm.enableHisSave=a?1:0},selectAlarmChange:function(a){this.dataForm.kgalarmMsg=this.modeType.find((function(e){return e.value===a})).label||""},changeHissaveinterval:function(a){var e=this;this.tooltipvisible=!0;var l=Number(a/60);l=l>60||60==l?Number(l/60)+this.$t("attribute.hour"):l+this.$t("attribute.minute"),this.msg=this.$t("attribute.storeIntervel")+l,setTimeout((function(){e.tooltipvisible=!1}),3e3)},getInfo:function(){var a=this;if(!this.$hasPermission("tagTemplate:select:permission.do"))return this.loading=!1,void this.$message.warning("暂无测点模板信息查询权限, 请联系管理员");this.loading=!0,this.$http.get("/tagTemplate/selectById.do",{params:{id:this.dataForm.id}}).then((function(e){var l=e.data;if(0!==l.code)return a.loading=!1,a.$message.error(l.data||l.msg);a.dataForm=m(m({},a.dataForm),l.data),a.getProtocolList(),a.storeProtocolId=a.dataForm.protocol,a.dataForm.tagGroup=String(l.data.tagGroup),String(a.dataForm.dataType)&&a.handleDataType(a.dataForm.dataType),a.isbit=1===a.dataForm.enableBit,a.isupload=1===a.dataForm.isUpload,a.isOpenalarm=1===a.dataForm.enableAlarm,a.henablealarm=1===a.dataForm.henableAlarm,a.lenablealarm=1===a.dataForm.lenableAlarm,a.llenablealarm=1===a.dataForm.llenableAlarm,a.enablehissave=1===a.dataForm.enableHisSave,a.hhenablealarm=1===a.dataForm.hhenableAlarm,a.istransvalue=1===a.dataForm.enableTransValue,a.tagReserve=1==a.dataForm.reserve3,a.loading=!1})).catch((function(e){return a.loading=!1,!1}))},handleClose:function(){this.storeProtocolId="",this.visible=!1},dataFormSubmitHandle:n()((function(){var a=this,e="",l=/.*\..*/,t=[],r=null;this.paramsData=[],this.$refs["dataForm"].validate((function(i){if(!i)return!1;if(0===a.dataForm.alarmType&&(a.dataForm.kgchangeMode=3,a.dataForm.kgalarmMsg=a.$t("attribute.noAlarm")),a.dataForm.id){if(!a.$hasPermission("tagTemplate:update:permission.do"))return void a.$message.warning("暂无测点模板修改权限, 请联系管理员");e="/tagTemplate/update.do",a.dataForm.enableBit=a.dataForm.enableBit?1:0,a.dataForm.enableTransValue=a.dataForm.enableTransValue?1:0,a.dataForm.enableAlarm=a.dataForm.enableAlarm?1:0,a.dataForm.hhenableAlarm=a.dataForm.hhenableAlarm?1:0,a.dataForm.henableAlarm=a.dataForm.henableAlarm?1:0,a.dataForm.lenableAlarm=a.dataForm.lenableAlarm?1:0,a.dataForm.llenableAlarm=a.dataForm.llenableAlarm?1:0,a.dataForm.enableHisSave=a.dataForm.enableHisSave?1:0,a.dataForm.isUpload=a.isupload?1:0,a.dataForm.reserve3=a.tagReserve?1:0,a.dataForm.objAddr=String(a.dataForm.objAddr),r=[a.dataForm]}else{if(!a.$hasPermission("tagTemplate:insert:permission.do"))return void a.$message.warning("暂无测点模板新增权限, 请联系管理员");if(e="/tagTemplate/insert.do",-1!=a.dataForm.tagName.indexOf("-")){var o=Math.abs(a.dataForm.tagName.substring(a.dataForm.tagName.lastIndexOf("-")).replace(/[^0-9]/gi,"")),s=a.dataForm.tagName.split(/-(?![^-]*-)/),n=a.dataForm.tagName.substring(0,a.dataForm.tagName.lastIndexOf("-")).match(/(\d+)[^0-9]*$/)[1],u=n.replace(/[^0]/g,""),m=n,b=s[0],d=b.substring(0,b.length-b.match(/(\d+)[^0-9]*$/)[1].length);if(-1!=a.$chineseChar2englishChar(String(a.dataForm.objAddr)).indexOf(",")){var v=a.$chineseChar2englishChar(String(a.dataForm.objAddr)).split(",")[0],h=a.$chineseChar2englishChar(String(a.dataForm.objAddr)).split(",")[1],c=null,p=null,g=a.$chineseChar2englishChar(String(h)),f=g.match(/\d+\.*\d*/g);if(f&&f.length>0){l.test(f[f.length-1])?(c=f[f.length-1].split(".")[1],p=g.substring(0,g.length-String(c).length)):(c=f[f.length-1],p=g.substring(0,g.length-String(c).length));var F=parseInt(c),y=0,$="",T=parseInt(c);if(l.test(c)&&(y=c.split(".")[1]),l.test(c))for(var S=0;S<o-n+1;S++){if(String(c).length>String(T).length){$="";for(var k=0;k<String(c).length-String(T).length;k++)$+="0"}else $="";""!=$?t.push(v?v+","+p+$+T:p+$+T):t.push(v?v+","+p+T:p+T),y++,T=F+"."+y}else for(var L=0;L<o-n+1;L++){if(String(c).length>String(T).length){$="";for(var x=0;x<String(c).length-String(T).length;x++)$+="0"}else $="";""!=$?t.push(v?v+","+p+String($)+T:p+$+T):t.push(v?v+","+p+T:p+T),T++}}else for(var A=0;A<o-n+1;A++)t.push(String(a.dataForm.objAddr)+String(A))}else{var w=null,O=null,C=a.$chineseChar2englishChar(String(a.dataForm.objAddr)),I=C.match(/\d+\.*\d*/g);if(I&&I.length>0){l.test(I[I.length-1])?(w=I[I.length-1].split(".")[1],O=C.substring(0,C.length-String(w).length)):(w=I[I.length-1],O=C.substring(0,C.length-String(w).length));var B=parseInt(w),_=0,P="",M=parseInt(w);if(l.test(w)&&(_=w.split(".")[1]),l.test(w))for(var N=0;N<o-n+1;N++){if(String(w).length>String(M).length){P="";for(var D=0;D<String(w).length-String(M).length;D++)P+="0"}else P="";""!=P?t.push(O?O+P+M:M):t.push(O?O+M:M),_++,M=B+"."+_}else for(var R=0;R<o-n+1;R++){if(String(w).length>String(M).length){P="";for(var j=0;j<String(w).length-String(M).length;j++)P+="0"}else P="";""!=P?t.push(O?O+String(P)+M:P+M):t.push(O?O+M:M),M++}}else for(var V=0;V<o-n+1;V++)t.push(String(a.dataForm.objAddr)+String(V))}for(var q=0;q<o-n+1;q++){var H=m++,E={};E.tagName=0==parseInt(n)?u.length>0?String(H).length>=u.length?d+H:d+u.substring(0,u.length-String(H).length)+H:d+H:u.length>0?H>=10?d+u.substring(0,u.length-String(H).length+1)+H:d+u.substring(0,u.length)+H:d+H,E.protocol=a.dataForm.protocol,E.tagComment=a.dataForm.tagComment,E.alarmType=a.dataForm.alarmType,E.tagRWProp=a.dataForm.tagRWProp,E.tagK=a.dataForm.tagK,E.tagB=a.dataForm.tagB,E.tagInitValue=a.dataForm.tagInitValue,E.assistPararm=a.dataForm.assistPararm,E.collectTypeC=a.dataForm.collectTypeC,E.tagGroup=Number(a.dataForm.tagGroup),E.objAddr=t[q],E.dataType=a.dataForm.dataType,E.dataFormat=a.dataForm.dataFormat,E.enableBit=a.dataForm.enableBit?1:0,E.startBit=a.dataForm.startBit,E.endBit=a.dataForm.endBit,E.enableTransValue=a.dataForm.enableTransValue?1:0,E.orgReadValue=a.dataForm.orgReadValue,E.transValue=a.dataForm.transValue,E.enableAlarm=a.dataForm.enableAlarm?1:0,E.alarmLevel=a.dataForm.alarmLevel,E.hhenableAlarm=a.dataForm.hhenableAlarm?1:0,E.henableAlarm=a.dataForm.henableAlarm?1:0,E.lenableAlarm=a.dataForm.lenableAlarm?1:0,E.llenableAlarm=a.dataForm.llenableAlarm?1:0,E.hhalarmLimit=a.dataForm.hhalarmLimit,E.halarmLimit=a.dataForm.halarmLimit,E.lalarmLimit=a.dataForm.lalarmLimit,E.llalarmLimit=a.dataForm.llalarmLimit,E.hhalarmMsg=a.dataForm.hhalarmMsg,E.halarmMsg=a.dataForm.halarmMsg,E.lalarmMsg=a.dataForm.lalarmMsg,E.llalarmMsg=a.dataForm.llalarmMsg,E.alarmDeadArea=a.dataForm.alarmDeadArea,E.kgchangeMode=a.dataForm.kgchangeMode,E.kgalarmMsg=a.dataForm.kgalarmMsg,E.gwsn=sessionStorage.getItem("gwsn"),E.enableHisSave=a.dataForm.enableHisSave?1:0,E.hisSaveType=a.dataForm.hisSaveType,E.hisSaveInterval=a.dataForm.hisSaveInterval,E.hisCompPerc=a.dataForm.hisCompPerc,E.isUpload=a.isupload?1:0,E.reserve3=a.tagReserve?1:0,a.paramsData.push(E)}a.dataForm.isUpload=a.isupload?1:0}else a.dataForm.gwsn=sessionStorage.getItem("gwsn"),a.dataForm.enableBit=a.dataForm.enableBit?1:0,a.dataForm.enableTransValue=a.dataForm.enableTransValue?1:0,a.dataForm.enableAlarm=a.dataForm.enableAlarm?1:0,a.dataForm.hhenableAlarm=a.dataForm.hhenableAlarm?1:0,a.dataForm.henableAlarm=a.dataForm.henableAlarm?1:0,a.dataForm.lenableAlarm=a.dataForm.lenableAlarm?1:0,a.dataForm.llenableAlarm=a.dataForm.llenableAlarm?1:0,a.dataForm.enableHisSave=a.dataForm.enableHisSave?1:0,a.dataForm.isUpload=a.isupload?1:0,a.dataForm.reserve3=a.tagReserve?1:0,a.dataForm.objAddr=String(a.dataForm.objAddr),a.paramsData.push(a.dataForm);r=a.paramsData}a.loading=!0,a.$http[a.dataForm.id?"put":"post"](e,r).then((function(e){var l=e.data;return 0!==l.code?(a.dataForm.objAddr=a.dataForm.objAddr,a.loading=!1,a.$message.error(l.data||l.msg)):(a.loading=!1,a.$message({message:a.$t("prompt.success"),type:"success",duration:500,onClose:function(){a.visible=!1,a.$emit("refreshDataList")}}))})).catch((function(e){return a.storeProtocolId="",a.loading=!1,a.visible=!1,a.$emit("refreshDataList")}))}))}),1e3,{leading:!0,trailing:!1})},watch:{finallyDataType:function(a,e){this.storeLastDataType=a}}},c=h,p=(l("4a45"),l("2877")),g=Object(p["a"])(c,t,r,!1,null,"10dc3582",null);e["default"]=g.exports},"4a45":function(a,e,l){"use strict";l("dce2")},dce2:function(a,e,l){}}]);