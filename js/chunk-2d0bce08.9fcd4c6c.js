(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bce08"],{"2a36":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticStyle:{padding:"20px","text-align":"center"}},[t("el-form",{ref:"formLabelAlign",attrs:{"label-position":e.labelPosition,rules:e.regRule,"label-width":"100px",model:e.formLabelAlign},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm()}}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("register.deptname"),prop:"deptName"}},[t("el-input",{model:{value:e.formLabelAlign.deptName,callback:function(t){e.$set(e.formLabelAlign,"deptName",t)},expression:"formLabelAlign.deptName"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("register.membername"),prop:"username"}},[t("el-input",{model:{value:e.formLabelAlign.username,callback:function(t){e.$set(e.formLabelAlign,"username",t)},expression:"formLabelAlign.username"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("register.email"),prop:"email"}},[t("el-input",{model:{value:e.formLabelAlign.email,callback:function(t){e.$set(e.formLabelAlign,"email",t)},expression:"formLabelAlign.email"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-col",{attrs:{span:16}},[t("el-form-item",{attrs:{prop:"mobile",label:e.$t("register.mobile")}},[t("el-input",{attrs:{maxlength:11},nativeOn:{keyup:function(t){return e.mobileValidate.apply(null,arguments)}},model:{value:e.formLabelAlign.mobile,callback:function(t){e.$set(e.formLabelAlign,"mobile",t)},expression:"formLabelAlign.mobile"}})],1)],1),t("el-col",{attrs:{span:8}},[0==e.disabled?t("el-button",{staticStyle:{width:"100%"},attrs:{icon:"el-icon-mobile-phone",type:"button",disabled:e.disabled},on:{click:e.sendcode}},[e._v("\n                            "+e._s(e.$t("register.sendCode"))+"\n                        ")]):e._e(),1==e.disabled?t("el-button",{staticStyle:{width:"100%"},attrs:{icon:"el-icon-mobile-phone",type:"button",disabled:e.disabled},on:{click:e.sendcode}},[e._v(e._s(e.btntxt)+" ")]):e._e()],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:e.$t("register.code"),prop:"code"}},[t("el-input",{model:{value:e.formLabelAlign.code,callback:function(t){e.$set(e.formLabelAlign,"code",t)},expression:"formLabelAlign.code"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"password",label:e.$t("register.password")}},[t("el-input",{attrs:{minlength:6,"show-password":"",placeholder:e.$t("register.enterPassword")},model:{value:e.formLabelAlign.password,callback:function(t){e.$set(e.formLabelAlign,"password",t)},expression:"formLabelAlign.password"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"comfirmpassword",label:e.$t("register.confirmPassword")}},[t("el-input",{attrs:{"show-password":""},model:{value:e.formLabelAlign.comfirmpassword,callback:function(t){e.$set(e.formLabelAlign,"comfirmpassword",t)},expression:"formLabelAlign.comfirmpassword"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{staticStyle:{"text-align":"left"}},[t("el-switch",{attrs:{"active-text":e.$t("login.activeText")},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1)],1)],1),t("el-form-item",{staticStyle:{"margin-top":"20px"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$t("register.agreeAndRegister")))])],1)],1)],1)])},s=[],a=(r("f559"),r("a481"),r("4328")),l=r.n(a),o=r("b047"),n=r.n(o),m=r("61f7"),d={name:"register",data:function(){return{time:0,value1:!0,btntxt:this.$t("register.retrySend"),disabled:!1,labelPosition:"right",formLabelAlign:{username:"",deptName:"",email:"",mobile:"",password:"",comfirmpassword:"",status:1,deptId:0,pid:0,roleIdList:["1147694289157566466"]}}},computed:{regRule:function(){var e=this,t=function(t,r,i){if(e.formLabelAlign.password!==r)return i(new Error(e.$t("user.validate.comfirmPassword")));i()},r=function(t,r,i){if(!Object(m["b"])(r))return i(new Error(e.$t("validate.format",{attr:e.$t("user.mobile")})));i()},i=function(t,r,i){r?i():i(new Error(e.$t("register.enterCode")))};return{deptName:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],username:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],password:[{required:!0,message:this.$t("validate.required"),trigger:"change"},{min:6,message:this.$t("register.limitSix"),trigger:"change"}],comfirmpassword:[{required:!0,message:this.$t("validate.required"),trigger:"change"},{min:6,message:this.$t("register.limitSix"),trigger:"change"},{validator:t,trigger:"change"}],mobile:[{required:!0,message:this.$t("validate.required"),trigger:"change"},{validator:r,trigger:"change"}],code:[{required:!0,validator:i,trigger:"change"}],email:[{type:"email",message:this.$t("register.emailCorrect"),trigger:"change"}]}}},methods:{mobileValidate:function(){this.formLabelAlign.mobile=this.formLabelAlign.mobile.replace(/[^\.\d]/g,""),this.formLabelAlign.mobile=this.formLabelAlign.mobile.replace(".","")},sendcode:function(){var e=this,t=/^((\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$)$/;return""==this.formLabelAlign.mobile?this.$message({message:this.$t("register.emptyPhone"),center:!0}):t.test(this.formLabelAlign.mobile)?(this.time=60,this.disabled=!0,void this.$http.post("/sys/sms/sendMessage1.do",l.a.stringify({domain:document.domain.startsWith("www.")?document.domain.substring(4):document.domain,phoneNumber:this.formLabelAlign.mobile})).then((function(t){var r=t.data;if(0!=r.code)return e.disabled=!1,e.$message.error(r.data||r.msg);e.timer(),e.$message.success(r.data||r.msg)})).catch((function(e){return!1}))):this.$message({message:this.$t("register.enterCorrectPhone"),center:!0})},timer:function(){this.time>0?(this.time--,this.btntxt=this.time+this.$t("register.retryGetCode"),this.closeTimer=setTimeout(this.timer,1e3)):(this.time=0,this.btntxt=this.$t("register.getCode"),this.disabled=!1,clearInterval(this.closeTimer))},submitForm:n()((function(){var e=this;this.$refs["formLabelAlign"].validate((function(t){return!!t&&(e.value1?(e.formLabelAlign["realName"]=e.formLabelAlign.deptName,e.formLabelAlign["smscode"]=e.formLabelAlign.code,void e.$http.post("/sys/user/insert",e.formLabelAlign).then((function(t){var r=t.data;if(0!==r.code)return e.$message.error(r.data||r.msg);e.$message({showClose:!0,message:e.$t("register.registerSuccess"),type:"success"}),e.time=-2,e.centerDialogVisible=!1,e.$refs["formLabelAlign"].resetFields()})).catch((function(e){return!1}))):e.$message.warning(e.$t("register.beforeAgreeRegister")))}))}))}},c=d,g=r("2877"),u=Object(g["a"])(c,i,s,!1,null,null,null);t["default"]=u.exports}}]);