(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bd7a6d8"],{"56fb":function(a,e,t){"use strict";t("bade")},bade:function(a,e,t){},c09d:function(a,e,t){"use strict";t.r(e);var l=function(){var a=this,e=a._self._c;return e("section",[e("el-dialog",{attrs:{visible:a.visible,title:a.dataForm.id?a.$t("update"):a.$t("add"),"custom-class":11==a.dataForm.datatype?"flashing":"","close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":a.handleClose},on:{"update:visible":function(e){a.visible=e},opened:a.handleDialogOpenChange}},[e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],ref:"dataForm",attrs:{model:a.dataForm,rules:a.rules,"label-width":(a.$i18n.locale,"150px")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.dataFormSubmitHandle()}}},[e("el-tabs",{on:{"tab-click":a.handleClick},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{name:"first"}},[e("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"el-icon-info"}),a._v(" "+a._s(a.$t("attribute.basic")))]),e("el-row",{style:{marginTop:a.dataForm.id?0:"40px"}},[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.belongDevicce"),prop:"devid"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},on:{change:a.handleDeviceChange},model:{value:a.dataForm.devid,callback:function(e){a.$set(a.dataForm,"devid",e)},expression:"dataForm.devid"}},a._l(a.equipmentList,(function(a,t){return e("el-option",{key:t,attrs:{label:a.label,value:a.devId}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[a.dataForm.id?a._e():e("el-form-item",{attrs:{label:a.$t("attribute.tagname"),prop:"tagname"}},[e("tooltip",{attrs:{placement:"top-left",mode:"manual",visible:a.tooltipTagvisible}},[e("div",{attrs:{slot:"outlet"},slot:"outlet"}),e("div",{attrs:{slot:"tooltip"},slot:"tooltip"},[a._v("\n                                        "+a._s(a.$t("attribute.addTagName"))+"\n                                    ")])]),e("el-input",{ref:"tagname",attrs:{placeholder:a.$t("attribute.tagname"),maxlength:48,clearable:""},model:{value:a.dataForm.tagname,callback:function(e){a.$set(a.dataForm,"tagname","string"===typeof e?e.trim():e)},expression:"dataForm.tagname"}})],1),a.dataForm.id?e("el-form-item",{attrs:{label:a.$t("attribute.tagname"),prop:"tagname"}},[e("el-input",{ref:"tagname",attrs:{placeholder:a.$t("attribute.tagname"),maxlength:48,clearable:""},model:{value:a.dataForm.tagname,callback:function(e){a.$set(a.dataForm,"tagname","string"===typeof e?e.trim():e)},expression:"dataForm.tagname"}})],1):a._e()],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.modelattribute"),prop:"tagcomment"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseInputModelattribute"),maxlength:100,clearable:""},on:{input:a.handleComment},model:{value:a.dataForm.tagcomment,callback:function(e){a.$set(a.dataForm,"tagcomment",e)},expression:"dataForm.tagcomment"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.alarmtype"),prop:"alarmtype"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},on:{change:a.selectAlarmRecord},model:{value:a.dataForm.alarmtype,callback:function(e){a.$set(a.dataForm,"alarmtype",e)},expression:"dataForm.alarmtype"}},a._l(a.alarmRecordList,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.tagrwprop"),prop:"tagrwprop"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},model:{value:a.dataForm.tagrwprop,callback:function(e){a.$set(a.dataForm,"tagrwprop",e)},expression:"dataForm.tagrwprop"}},a._l(a.writeReadType,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[11!=a.dataForm.datatype?e("el-form-item",{attrs:{label:a.$t("attribute.tagk")+"(k)",prop:"tagk"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.tagk"),onkeyup:"value=value.replace(/^([+-]?\\D*(\\d*(?:\\.\\d{0,6})?)).*$/g, '$1')",clearable:""},model:{value:a.dataForm.tagk,callback:function(e){a.$set(a.dataForm,"tagk",e)},expression:"dataForm.tagk"}})],1):a._e(),11==a.dataForm.datatype?e("el-form-item",{attrs:{label:a.$t("stringLength"),prop:"tagk"}},[e("el-input",{attrs:{min:0,max:32,onkeyup:"value=value.replace(/[^0-9]/g,'')",placeholder:a.$t("stringLength"),clearable:""},on:{input:a.handleLimitTagk},model:{value:a.dataForm.tagk,callback:function(e){a.$set(a.dataForm,"tagk",e)},expression:"dataForm.tagk"}})],1):a._e()],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.tagb")+"(b)",prop:"tagb"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.tagb"),clearable:""},model:{value:a.dataForm.tagb,callback:function(e){a.$set(a.dataForm,"tagb",e)},expression:"dataForm.tagb"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.collecttypec"),prop:"collecttypec"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},model:{value:a.dataForm.collecttypec,callback:function(e){a.$set(a.dataForm,"collecttypec",e)},expression:"dataForm.collecttypec"}},a._l(a.functionCodeType,(function(a){return e("el-option",{key:a.FuncCode,attrs:{label:a.description,value:a.FuncCode}})})),1)],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.taggroup"),prop:"taggroup"}},[e("el-autocomplete",{staticStyle:{width:"100%"},attrs:{clearable:"","fetch-suggestions":a.querySearchAsync,placeholder:a.$t("attribute.pleaceEnterContent")},on:{select:a.handleSelect},model:{value:a.dataForm.taggroup,callback:function(e){a.$set(a.dataForm,"taggroup",e)},expression:"dataForm.taggroup"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.address"),prop:"objaddr"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.address"),maxlength:128,clearable:""},on:{input:a.handleObjaddr},model:{value:a.dataForm.objaddr,callback:function(e){a.$set(a.dataForm,"objaddr",e)},expression:"dataForm.objaddr"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.datatype"),prop:"datatype"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},on:{change:a.handleDataType},model:{value:a.dataForm.datatype,callback:function(e){a.$set(a.dataForm,"datatype",e)},expression:"dataForm.datatype"}},a._l(a.dataType,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.dataformat"),prop:"dataformat"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},model:{value:a.dataForm.dataformat,callback:function(e){a.$set(a.dataForm,"dataformat",e)},expression:"dataForm.dataformat"}},a._l(a.hiloType,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.isUpload")}},[e("el-checkbox",{on:{change:a.handleIsUpload},model:{value:a.isupload,callback:function(e){a.isupload=e},expression:"isupload"}},[a._v("\n                                    "+a._s(a.$t("attribute.isUpload"))+"\n                                ")])],1)],1),"-1"!==a.devObj.devmanu?e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.pvFlag")}},[e("el-autocomplete",{ref:"pvFlagRef",staticStyle:{width:"100%"},attrs:{debounce:0,"value-key":"label",clearable:"","fetch-suggestions":a.querySearchPvFlagAsync,placeholder:a.$t("attribute.pleaceEnterContent")},on:{input:function(e){a.firstInputPvFlag=!1},select:a.handlePvflag,clear:function(e){return a.setPvflagBlur()}},scopedSlots:a._u([{key:"default",fn:function(t){var l=t.item;return[e("div",{style:{color:l.label==a.dataForm.pvflag?"#E6A23C":"#000",fontWeight:l.label==a.dataForm.pvflag?"bolder":"normal"}},[a._v(a._s(l.label))])]}}],null,!1,1435978710),model:{value:a.dataForm.pvflag,callback:function(e){a.$set(a.dataForm,"pvflag","string"===typeof e?e.trim():e)},expression:"dataForm.pvflag"}})],1)],1):a._e(),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("configuration.reverseOrNot")}},[e("el-checkbox",{model:{value:a.tagReserve,callback:function(e){a.tagReserve=e},expression:"tagReserve"}},[a._v(a._s(a.$t("configuration.reverseOrNot")))])],1)],1)],1),"-1"!==a.devObj.devmanu?e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"reserve2",label:a.$t("attribute.pvUploadCoefficient")}},[e("el-input",{attrs:{min:0,max:32,onkeyup:"value=value.replace(/[^0-9.]/g,'')",placeholder:a.$t("attribute.pvUploadCoefficient"),clearable:""},model:{value:a.dataForm.reserve2,callback:function(e){a.$set(a.dataForm,"reserve2",e)},expression:"dataForm.reserve2"}})],1)],1)],1):a._e(),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"limitdataFormat",label:a.$t("configuration.formulaCalculation")}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("select")},model:{value:a.dataForm.limitdataFormat,callback:function(e){a.$set(a.dataForm,"limitdataFormat",e)},expression:"dataForm.limitdataFormat"}},a._l(a.limitdataFormatLists,(function(a,t){return e("el-option",{key:t,attrs:{label:a.label,value:a.value}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"limitValueEnable",label:a.$t("configuration.limitEnable")}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("select")},model:{value:a.dataForm.limitValueEnable,callback:function(e){a.$set(a.dataForm,"limitValueEnable",e)},expression:"dataForm.limitValueEnable"}},a._l(a.limitValueEnableList,(function(a,t){return e("el-option",{key:t,attrs:{label:a.label,value:a.value}})})),1)],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"minValue",label:a.$t("configuration.minimumLimitValue")}},[e("el-input",{attrs:{clearable:"",disabled:0==a.dataForm.limitValueEnable||2==a.dataForm.limitValueEnable,oninput:"this.value=this.value.replace(/[^\\-\\d.]/g,'').replace(/^\\./g,'').replace('.','$#$').replace(/\\./g,'').replace('$#$','.').replace('-','$#$').replace(/\\-/g,'').replace('$#$','-').replace(/^(-?\\d+(\\.\\d{0,6})?).*$/,'$1')",placeholder:a.$t("configuration.pleaseEnterTheMinimumLimitValue")},model:{value:a.dataForm.minValue,callback:function(e){a.$set(a.dataForm,"minValue",e)},expression:"dataForm.minValue"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{prop:"maxValue",label:a.$t("configuration.maximumLimitValue")}},[e("el-input",{attrs:{clearable:"",disabled:0==a.dataForm.limitValueEnable||1==a.dataForm.limitValueEnable,oninput:"this.value=this.value.replace(/[^\\-\\d.]/g,'').replace(/^\\./g,'').replace('.','$#$').replace(/\\./g,'').replace('$#$','.').replace('-','$#$').replace(/\\-/g,'').replace('$#$','-').replace(/^(-?\\d+(\\.\\d{0,6})?).*$/,'$1')",placeholder:a.$t("configuration.pleaseEnterTheMaximumLimitValue")},model:{value:a.dataForm.maxValue,callback:function(e){a.$set(a.dataForm,"maxValue",e)},expression:"dataForm.maxValue"}})],1)],1)],1)],1),e("el-tab-pane",{attrs:{name:"second"}},[e("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"el-icon-message-solid",style:{color:a.isOpenalarm?"#E6A23C":"#ccc"}}),a._v("\n                        "+a._s(a.$t("attribute.alarm")))]),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.alarmRecord")}},[e("el-checkbox",{on:{change:a.openAlarm},model:{value:a.isOpenalarm,callback:function(e){a.isOpenalarm=e},expression:"isOpenalarm"}},[a._v("\n                                    "+a._s(a.$t("attribute.alarmRecordOpen"))+"\n                                ")])],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.alarmLevel"),prop:"alarmlevel"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect")},model:{value:a.dataForm.alarmlevel,callback:function(e){a.$set(a.dataForm,"alarmlevel",e)},expression:"dataForm.alarmlevel"}},a._l(a.alarmLevel,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1)],1),0===a.dataForm.alarmtype?e("div",[e("el-row",[e("el-col",{attrs:{span:3}},[e("el-form-item",{attrs:{label:""}})],1),e("el-col",{attrs:{span:9,offset:1}},[e("el-form-item",{attrs:{label:""}},[a._v(a._s(a.$t("attribute.alarmLimit")))])],1),e("el-col",{attrs:{span:9,offset:1}},[e("el-form-item",{attrs:{label:""}},[a._v(a._s(a.$t("attribute.alarmMessage")))])],1)],1),e("el-row",[e("el-col",{attrs:{span:3}},[e("el-form-item",{staticStyle:{"text-align":"left"}},[e("el-checkbox",{attrs:{disabled:a.isOpenalarm&&1===a.dataForm.alarmtype||!a.isOpenalarm},on:{change:a.handlehighhigh},model:{value:a.hhenablealarm,callback:function(e){a.hhenablealarm=e},expression:"hhenablealarm"}},[a._v("\n                                        "+a._s(a.$t("attribute.hhenablealarm"))+"\n                                    ")])],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{prop:"hhalarmlimit"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmtype||a.isOpenalarm&&0===a.dataForm.alarmtype&&!a.hhenablealarm||!a.isOpenalarm,placeholder:a.$t("attribute.hhenablealarm")},model:{value:a.dataForm.hhalarmlimit,callback:function(e){a.$set(a.dataForm,"hhalarmlimit",e)},expression:"dataForm.hhalarmlimit"}})],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{prop:"hhalarmmsg"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmtype||a.isOpenalarm&&0===a.dataForm.alarmtype&&!a.hhenablealarm||!a.isOpenalarm,placeholder:"",maxlength:32},model:{value:a.dataForm.hhalarmmsg,callback:function(e){a.$set(a.dataForm,"hhalarmmsg",e)},expression:"dataForm.hhalarmmsg"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:3}},[e("el-form-item",[e("el-checkbox",{attrs:{disabled:a.isOpenalarm&&1===a.dataForm.alarmtype||!a.isOpenalarm},on:{change:a.handlehigh},model:{value:a.henablealarm,callback:function(e){a.henablealarm=e},expression:"henablealarm"}},[a._v("\n                                        "+a._s(a.$t("attribute.henablealarm"))+"\n                                    ")])],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:"",prop:"halarmlimit"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmtype||a.isOpenalarm&&0===a.dataForm.alarmtype&&!a.henablealarm||!a.isOpenalarm,placeholder:a.$t("attribute.henablealarm")},model:{value:a.dataForm.halarmlimit,callback:function(e){a.$set(a.dataForm,"halarmlimit",e)},expression:"dataForm.halarmlimit"}})],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:"",prop:"halarmmsg"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmtype||a.isOpenalarm&&0===a.dataForm.alarmtype&&!a.henablealarm||!a.isOpenalarm,placeholder:"",maxlength:32},model:{value:a.dataForm.halarmmsg,callback:function(e){a.$set(a.dataForm,"halarmmsg",e)},expression:"dataForm.halarmmsg"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:3}},[e("el-form-item",[e("el-checkbox",{attrs:{disabled:a.isOpenalarm&&1===a.dataForm.alarmtype||!a.isOpenalarm},on:{change:a.handlelow},model:{value:a.lenablealarm,callback:function(e){a.lenablealarm=e},expression:"lenablealarm"}},[a._v("\n                                        "+a._s(a.$t("attribute.lenablealarm"))+"\n                                    ")])],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:"",prop:"lalarmlimit"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmtype||a.isOpenalarm&&0===a.dataForm.alarmtype&&!a.lenablealarm||!a.isOpenalarm,placeholder:a.$t("attribute.lenablealarm")},model:{value:a.dataForm.lalarmlimit,callback:function(e){a.$set(a.dataForm,"lalarmlimit",e)},expression:"dataForm.lalarmlimit"}})],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:"",prop:"lalarmmsg"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmtype||a.isOpenalarm&&0===a.dataForm.alarmtype&&!a.lenablealarm||!a.isOpenalarm,placeholder:"",maxlength:32},model:{value:a.dataForm.lalarmmsg,callback:function(e){a.$set(a.dataForm,"lalarmmsg",e)},expression:"dataForm.lalarmmsg"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:3}},[e("el-form-item",[e("el-checkbox",{attrs:{disabled:a.isOpenalarm&&1===a.dataForm.alarmtype||!a.isOpenalarm},on:{change:a.handlelowlow},model:{value:a.llenablealarm,callback:function(e){a.llenablealarm=e},expression:"llenablealarm"}},[a._v("\n                                        "+a._s(a.$t("attribute.llenablealarm"))+"\n                                    ")])],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:"",prop:"llalarmlimit"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmtype||a.isOpenalarm&&0===a.dataForm.alarmtype&&!a.llenablealarm||!a.isOpenalarm,placeholder:a.$t("attribute.llenablealarm")},model:{value:a.dataForm.llalarmlimit,callback:function(e){a.$set(a.dataForm,"llalarmlimit",e)},expression:"dataForm.llalarmlimit"}})],1)],1),e("el-col",{attrs:{span:10}},[e("el-form-item",{attrs:{label:"",prop:"llalarmmsg"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmtype||a.isOpenalarm&&0===a.dataForm.alarmtype&&!a.llenablealarm||!a.isOpenalarm,placeholder:"",maxlength:32},model:{value:a.dataForm.llalarmmsg,callback:function(e){a.$set(a.dataForm,"llalarmmsg",e)},expression:"dataForm.llalarmmsg"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.alarmdeadarea"),prop:"alarmdeadarea"}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&1===a.dataForm.alarmtype||!a.isOpenalarm,placeholder:a.$t("attribute.alarmdeadarea"),onkeyup:"value=value.replace(/^\\D*(\\d*(?:\\.\\d{0,2})?).*$/g, '$1')"},model:{value:a.dataForm.alarmdeadarea,callback:function(e){a.$set(a.dataForm,"alarmdeadarea",e)},expression:"dataForm.alarmdeadarea"}})],1)],1)],1)],1):a._e(),1===a.dataForm.alarmtype?e("div",[e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.kgchangemode"),prop:"kgchangemode",rules:1===this.dataForm.alarmtype?a.rules.kgchangemode:[{required:!1,message:a.$t("attribute.requireNotNull"),trigger:"change"}]}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect"),disabled:a.isOpenalarm&&0===a.dataForm.alarmtype||!a.isOpenalarm},on:{change:a.selectAlarmChange},model:{value:a.dataForm.kgchangemode,callback:function(e){a.$set(a.dataForm,"kgchangemode",e)},expression:"dataForm.kgchangemode"}},a._l(a.modeType,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.alarmMessage"),prop:"kgalarmmsg",rules:1===this.dataForm.alarmtype?a.rules.kgalarmmsg:[{required:!1,message:a.$t("attribute.requireNotNull"),trigger:"change"}]}},[e("el-input",{attrs:{clearable:"",disabled:a.isOpenalarm&&0===a.dataForm.alarmtype||!a.isOpenalarm,placeholder:a.$t("attribute.alarmMessage"),maxlength:32},model:{value:a.dataForm.kgalarmmsg,callback:function(e){a.$set(a.dataForm,"kgalarmmsg",e)},expression:"dataForm.kgalarmmsg"}})],1)],1)],1)],1):a._e()],1),e("el-tab-pane",{attrs:{name:"third"}},[e("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"el-icon-date",style:{color:a.enablehissave?"#17B3A3":"#ccc"}}),a._v("\n                        "+a._s(a.$t("attribute.history")))]),e("el-form-item",{attrs:{label:a.$t("attribute.historyStore")}},[e("el-checkbox",{on:{change:a.openHistory},model:{value:a.enablehissave,callback:function(e){a.enablehissave=e},expression:"enablehissave"}},[a._v(a._s(a.$t("attribute.historyStoreOpen"))+" ")])],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.hissavetype")}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect"),disabled:""},model:{value:a.dataForm.hissavetype,callback:function(e){a.$set(a.dataForm,"hissavetype",e)},expression:"dataForm.hissavetype"}},a._l(a.storageMode,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.hissaveinterval")}},[e("tooltip",{directives:[{name:"show",rawName:"v-show",value:a.tooltipvisible,expression:"tooltipvisible"}],staticStyle:{position:"absolute",left:"0",top:"-30px"},attrs:{placement:"top-left",mode:"manual"}},[e("div",{attrs:{slot:"outlet",hidden:""},slot:"outlet"},[a._v("top left")]),e("div",{attrs:{slot:"tooltip"},slot:"tooltip"},[a._v(a._s(a.msg))])]),e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("attribute.placeholderSelect"),disabled:!a.enablehissave},on:{change:a.changeHissaveinterval},model:{value:a.dataForm.hissaveinterval,callback:function(e){a.$set(a.dataForm,"hissaveinterval",e)},expression:"dataForm.hissaveinterval"}},a._l(a.storageInterval,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.hiscompperc")}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",disabled:!a.enablehissave,placeholder:a.$t("attribute.placeholderSelect")},model:{value:a.dataForm.hiscompperc,callback:function(e){a.$set(a.dataForm,"hiscompperc",e)},expression:"dataForm.hiscompperc"}},a._l(a.compressionPrecision,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1)],1)],1),e("el-tab-pane",{attrs:{name:"fourth"}},[e("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"el-icon-setting",style:{color:0!=a.dataForm.taginitvalue||0!=a.dataForm.assistpararm||a.isbit||a.istransvalue?"#17B3A3":"#ccc"}}),a._v("\n                        "+a._s(a.$t("attribute.advancedSettings")))]),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.taginitvalue"),prop:"taginitvalue"}},[e("el-input",{attrs:{clearable:"",placeholder:a.$t("attribute.taginitvalue"),onkeyup:"value=value.replace(/^\\D*(-\\d*(?:\\.\\d{0,2})?).*$/g, '$1')"},model:{value:a.dataForm.taginitvalue,callback:function(e){a.$set(a.dataForm,"taginitvalue",e)},expression:"dataForm.taginitvalue"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.assistpararm"),prop:"assistpararm"}},[e("el-input",{attrs:{clearable:"",placeholder:a.$t("attribute.assistpararm"),maxlength:128},model:{value:a.dataForm.assistpararm,callback:function(e){a.$set(a.dataForm,"assistpararm",e)},expression:"dataForm.assistpararm"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.isbit")}},[e("el-checkbox",{on:{change:a.selectBit},model:{value:a.isbit,callback:function(e){a.isbit=e},expression:"isbit"}},[a._v(a._s(a.$t("attribute.isbit"))+" ")])],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.startbit"),prop:"startbit"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",disabled:!a.isbit,placeholder:a.$t("attribute.placeholderSelect")},on:{change:a.handleStartbit},model:{value:a.dataForm.startbit,callback:function(e){a.$set(a.dataForm,"startbit",e)},expression:"dataForm.startbit"}},a._l(a.startbitList,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.endbit"),prop:"endbit"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",disabled:!a.isbit,placeholder:a.$t("attribute.placeholderSelect")},on:{change:a.handleEndbit},model:{value:a.dataForm.endbit,callback:function(e){a.$set(a.dataForm,"endbit",e)},expression:"dataForm.endbit"}},a._l(a.startbitList,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:a.$t("attribute.istransvalue")}},[e("el-checkbox",{on:{change:a.selecttransvalue},model:{value:a.istransvalue,callback:function(e){a.istransvalue=e},expression:"istransvalue"}},[a._v("\n                                    "+a._s(a.$t("attribute.istransvalue"))+"\n                                ")])],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{staticStyle:{width:"100%"},attrs:{label:a.$t("attribute.orgreadvalue"),prop:"orgreadvalue"}},[e("el-input",{attrs:{clearable:"",disabled:!a.istransvalue,placeholder:a.$t("attribute.orgreadvalue"),onkeyup:"value=value.replace(/^\\D*(\\d*(?:\\.\\d{0,2})?).*$/g, '$1')",maxlength:10},model:{value:a.dataForm.orgreadvalue,callback:function(e){a.$set(a.dataForm,"orgreadvalue",e)},expression:"dataForm.orgreadvalue"}})],1)],1),e("el-col",{attrs:{span:12}},[e("el-form-item",{staticStyle:{width:"100%"},attrs:{label:a.$t("attribute.trans"),prop:"transvalue"}},[e("el-input",{attrs:{clearable:"",disabled:!a.istransvalue,placeholder:a.$t("attribute.transvalue"),onkeyup:"value=value.replace(/^\\D*(\\d*(?:\\.\\d{0,2})?).*$/g, '$1')",maxlength:10},model:{value:a.dataForm.transvalue,callback:function(e){a.$set(a.dataForm,"transvalue",e)},expression:"dataForm.transvalue"}})],1)],1)],1)],1),e("el-tab-pane",{attrs:{name:"fifth"}},[e("span",{staticStyle:{"font-size":"16px"},attrs:{slot:"label"},slot:"label"},[e("i",{staticClass:"el-icon-help",style:{color:0!=a.dataForm.ctrlMode?"#17B3A3":"#ccc"}}),a._v("\n                        "+a._s(a.$t("attribute.remoteControlSettings")))]),e("el-row",[e("el-col",{attrs:{xl:24,md:24,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.controlMode"),prop:"ctrlMode"}},[e("el-radio-group",{model:{value:a.dataForm.ctrlMode,callback:function(e){a.$set(a.dataForm,"ctrlMode",e)},expression:"dataForm.ctrlMode"}},[e("el-radio",{attrs:{label:0}},[a._v(a._s(a.$t("attribute.disabled")))]),e("el-radio",{attrs:{label:1}},[a._v(a._s(a.$t("attribute.selectExecute")))]),e("el-radio",{attrs:{label:2}},[a._v(a._s(a.$t("attribute.directExecution")))])],1)],1)],1)],1),e("el-row",[e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.remoteFunctioncode"),prop:"funcYt"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("select"),disabled:0==a.dataForm.ctrlMode||1==a.dataForm.alarmtype},model:{value:a.dataForm.funcYt,callback:function(e){a.$set(a.dataForm,"funcYt","string"===typeof e?e.trim():e)},expression:"dataForm.funcYt"}},a._l(a.functionCodeType,(function(a){return e("el-option",{key:a.FuncCode,attrs:{label:a.description,value:a.FuncCode}})})),1)],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.remoteControlRegister"),prop:"objAddrYt"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterRemoteControlRegister"),clearable:"",disabled:0==a.dataForm.ctrlMode||1==a.dataForm.alarmtype},model:{value:a.dataForm.objAddrYt,callback:function(e){a.$set(a.dataForm,"objAddrYt","string"===typeof e?e.trim():e)},expression:"dataForm.objAddrYt"}})],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.selectRegister"),prop:"objAddrSYt"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterSelectRegister"),clearable:"",disabled:0==a.dataForm.ctrlMode||1==a.dataForm.alarmtype},model:{value:a.dataForm.objAddrSYt,callback:function(e){a.$set(a.dataForm,"objAddrSYt","string"===typeof e?e.trim():e)},expression:"dataForm.objAddrSYt"}})],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.executionRegister"),prop:"objAddrEYt"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterExecutionRegister"),clearable:"",disabled:0==a.dataForm.ctrlMode||1==a.dataForm.alarmtype},model:{value:a.dataForm.objAddrEYt,callback:function(e){a.$set(a.dataForm,"objAddrEYt","string"===typeof e?e.trim():e)},expression:"dataForm.objAddrEYt"}})],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.datatype"),prop:"dataTypeYt"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("select"),disabled:0==a.dataForm.ctrlMode||1==a.dataForm.alarmtype},on:{change:a.handleDataTypeYT},model:{value:a.dataForm.dataTypeYt,callback:function(e){a.$set(a.dataForm,"dataTypeYt","string"===typeof e?e.trim():e)},expression:"dataForm.dataTypeYt"}},a._l(a.dataType,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.remotelyAdjustOrderHighAndLowBits"),prop:"dataFormatYt"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("select"),disabled:0==a.dataForm.ctrlMode||1==a.dataForm.alarmtype},model:{value:a.dataForm.dataFormatYt,callback:function(e){a.$set(a.dataForm,"dataFormatYt","string"===typeof e?e.trim():e)},expression:"dataForm.dataFormatYt"}},a._l(a.hiloTypeYT,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.settingGroupFunctionCode"),prop:"funcDzz"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterTheSettingGroupFunctionCode"),clearable:"",disabled:""},model:{value:a.dataForm.funcDzz,callback:function(e){a.$set(a.dataForm,"funcDzz","string"===typeof e?e.trim():e)},expression:"dataForm.funcDzz"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.controFunctionCode"),prop:"funcF"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("select"),disabled:0==a.dataForm.ctrlMode||0==a.dataForm.alarmtype},model:{value:a.dataForm.funcF,callback:function(e){a.$set(a.dataForm,"funcF","string"===typeof e?e.trim():e)},expression:"dataForm.funcF"}},a._l(a.functionCodeType,(function(a){return e("el-option",{key:a.FuncCode,attrs:{label:a.description,value:a.FuncCode}})})),1)],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.controlRegister"),prop:"objAddrF"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterTheControlRegister"),clearable:"",disabled:0==a.dataForm.ctrlMode||0==a.dataForm.alarmtype},model:{value:a.dataForm.objAddrF,callback:function(e){a.$set(a.dataForm,"objAddrF","string"===typeof e?e.trim():e)},expression:"dataForm.objAddrF"}})],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.selectRegister"),prop:"objAddrSF"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterSelectRegister"),clearable:"",disabled:0==a.dataForm.ctrlMode||0==a.dataForm.alarmtype},model:{value:a.dataForm.objAddrSF,callback:function(e){a.$set(a.dataForm,"objAddrSF","string"===typeof e?e.trim():e)},expression:"dataForm.objAddrSF"}})],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.executionRegister"),prop:"objAddrEF"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterExecutionRegister"),clearable:"",disabled:0==a.dataForm.ctrlMode||0==a.dataForm.alarmtype},model:{value:a.dataForm.objAddrEF,callback:function(e){a.$set(a.dataForm,"objAddrEF","string"===typeof e?e.trim():e)},expression:"dataForm.objAddrEF"}})],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.controlPointSelectionValue"),prop:"wValueFS"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterTheControlPointSelectionValue"),clearable:"",disabled:0==a.dataForm.ctrlMode||0==a.dataForm.alarmtype},model:{value:a.dataForm.wValueFS,callback:function(e){a.$set(a.dataForm,"wValueFS","string"===typeof e?e.trim():e)},expression:"dataForm.wValueFS"}})],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.controlScoreExecutionValue"),prop:"wValueFE"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterTheControlScoreExecutionValue"),disabled:0==a.dataForm.ctrlMode||0==a.dataForm.alarmtype},model:{value:a.dataForm.wValueFE,callback:function(e){a.$set(a.dataForm,"wValueFE","string"===typeof e?e.trim():e)},expression:"dataForm.wValueFE"}})],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.controlPointCancellationValue"),prop:"wValueFU"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterTheControlPointCancellationValue"),clearable:"",disabled:0==a.dataForm.ctrlMode||0==a.dataForm.alarmtype},model:{value:a.dataForm.wValueFU,callback:function(e){a.$set(a.dataForm,"wValueFU","string"===typeof e?e.trim():e)},expression:"dataForm.wValueFU"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.controlFunctionCode"),prop:"funcH"}},[e("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:a.$t("select"),disabled:0==a.dataForm.ctrlMode||0==a.dataForm.alarmtype},model:{value:a.dataForm.funcH,callback:function(e){a.$set(a.dataForm,"funcH","string"===typeof e?e.trim():e)},expression:"dataForm.funcH"}},a._l(a.functionCodeType,(function(a){return e("el-option",{key:a.FuncCode,attrs:{label:a.description,value:a.FuncCode}})})),1)],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.controlWithRegister"),prop:"objAddrH"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterTheControlWithRegister"),clearable:"",disabled:0==a.dataForm.ctrlMode||0==a.dataForm.alarmtype},model:{value:a.dataForm.objAddrH,callback:function(e){a.$set(a.dataForm,"objAddrH","string"===typeof e?e.trim():e)},expression:"dataForm.objAddrH"}})],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.selectRegister"),prop:"objAddrSH"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterSelectRegister"),clearable:"",disabled:0==a.dataForm.ctrlMode||0==a.dataForm.alarmtype},model:{value:a.dataForm.objAddrSH,callback:function(e){a.$set(a.dataForm,"objAddrSH","string"===typeof e?e.trim():e)},expression:"dataForm.objAddrSH"}})],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.executionRegister"),prop:"objAddrEH"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterExecutionRegister"),clearable:"",disabled:0==a.dataForm.ctrlMode||0==a.dataForm.alarmtype},model:{value:a.dataForm.objAddrEH,callback:function(e){a.$set(a.dataForm,"objAddrEH","string"===typeof e?e.trim():e)},expression:"dataForm.objAddrEH"}})],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.controlWithSelectionValue"),prop:"wValueHS"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterTheControlWithSelectionValue"),clearable:"",disabled:0==a.dataForm.ctrlMode||0==a.dataForm.alarmtype},model:{value:a.dataForm.wValueHS,callback:function(e){a.$set(a.dataForm,"wValueHS","string"===typeof e?e.trim():e)},expression:"dataForm.wValueHS"}})],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.controlWithExecutionValue"),prop:"wValueHE"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterThecontrolWithExecutionValue"),disabled:0==a.dataForm.ctrlMode||0==a.dataForm.alarmtype},model:{value:a.dataForm.wValueHE,callback:function(e){a.$set(a.dataForm,"wValueHE","string"===typeof e?e.trim():e)},expression:"dataForm.wValueHE"}})],1)],1),e("el-col",{attrs:{xl:12,md:12,sm:24}},[e("el-form-item",{attrs:{label:a.$t("attribute.controlWithUndoValue"),prop:"wValueHU"}},[e("el-input",{attrs:{placeholder:a.$t("attribute.pleaseEnterTheControlWithUndoValue"),clearable:"",disabled:0==a.dataForm.ctrlMode||0==a.dataForm.alarmtype},model:{value:a.dataForm.wValueHU,callback:function(e){a.$set(a.dataForm,"wValueHU","string"===typeof e?e.trim():e)},expression:"dataForm.wValueHU"}})],1)],1)],1)],1)],1)],1),e("template",{slot:"footer"},[e("el-button",{on:{click:a.handleClose}},[a._v(a._s(a.$t("cancel")))]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return a.dataFormSubmitHandle()}}},[a._v(a._s(a.$t("confirm")))])],1)],2)],1)},r=[],i=(t("8e6e"),t("456d"),t("6b54"),t("ade3")),o=(t("c5f6"),t("7514"),t("ac6a"),t("55dd"),t("7f7f"),t("28a5"),t("96cf"),t("1da1")),s=(t("3b2b"),t("4917"),t("a481"),t("4328")),d=t.n(s),n=t("b047"),m=t.n(n);function u(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);e&&(l=l.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,l)}return t}function b(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?u(Object(t),!0).forEach((function(e){Object(i["a"])(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}var v={props:["queryParams"],data:function(){var a=this;return{storeDevId:"",storeTagChlid:"",paramdevid:null,loading:!1,isParamK:!0,tooltipTagvisible:!0,msg:this.$t("attribute.defaultMsg"),childguid:"",isbit:!1,firstConfirm:!1,istransvalue:!1,isOpenalarm:!1,hhenablealarm:!1,henablealarm:!1,lenablealarm:!1,llenablealarm:!1,enablehissave:!1,isupload:!0,tagReserve:!1,visible:!1,tooltipvisible:!0,paramsData:[],PVList:[],pvflagList:[],devObj:{},Pvobj:{},limitValueEnableList:[{label:this.$t("configuration.shut"),value:0},{label:this.$t("configuration.enableLowerLimit"),value:1},{label:this.$t("configuration.enableUpperLimit"),value:2},{label:this.$t("configuration.enableUpperAndLowerLimits"),value:3}],limitdataFormatLists:[{label:this.$t("configuration.originalValueCoefficientOffset"),value:0},{label:this.$t("configuration.originalValueOffsetCoefficient"),value:1}],storeTagassistId:"",storeAddFormTagNameList:[],finallyDataType:4,storeLastDataType:4,selectPvFlag:-1,dataForm:{id:"",tagchlid:"",devid:"",tagname:this.$t("attribute.defaultTagname"),tagcomment:"",alarmtype:0,tagrwprop:1,tagk:1,tagb:0,taginitvalue:0,assistpararm:0,collecttypec:0,taggroup:"0",objaddr:"0",datatype:4,dataformat:0,enablebit:null,startbit:0,endbit:0,enabletransvalue:null,orgreadvalue:512,transvalue:1,enablealarm:null,alarmlevel:0,hhenablealarm:null,henablealarm:null,lenablealarm:null,llenablealarm:null,hhalarmlimit:100,halarmlimit:90,lalarmlimit:10,llalarmlimit:0,hhalarmmsg:this.$t("attribute.hhalarmmsg"),halarmmsg:this.$t("attribute.halarmmsg"),lalarmmsg:this.$t("attribute.lalarmmsg"),llalarmmsg:this.$t("attribute.llalarmmsg"),alarmdeadarea:0,kgchangemode:3,kgalarmmsg:this.$t("attribute.kgalarmmsg"),tagsource:0,gwsn:"",enablehissave:null,hissavetype:0,hissaveinterval:300,hiscompperc:1,isupload:null,pvflag:"",reserve2:"1",reserve3:null,limitValueEnable:0,minValue:0,maxValue:1e3,limitdataFormat:0,ctrlMode:0,funcYt:"",objAddrYt:"",objAddrSYt:"",objAddrEYt:"",dataTypeYt:4,dataFormatYt:0,funcDzz:"",funcF:"",objAddrF:"",objAddrSF:"",objAddrEF:"",wValueFS:"",wValueFE:"",wValueFU:"",funcH:"",objAddrH:"",objAddrSH:"",objAddrEH:"",wValueHS:"",wValueHE:"",wValueHU:""},activeName:"first",value1:!1,equipmentList:[],alarmRecordList:[{label:this.$t("attribute.visualValue"),value:0},{label:this.$t("attribute.switchValue"),value:1},{label:this.$t("attribute.ym"),value:2},{label:this.$t("attribute.yk"),value:3},{label:this.$t("attribute.yt"),value:4}],writeReadType:[{label:this.$t("attribute.onlyRead"),value:0},{label:this.$t("attribute.readWrite"),value:1},{label:this.$t("attribute.onlyWrite"),value:2}],functionCodeType:[],collectGroupType:[{label:0,value:"0"},{label:1,value:"1"},{label:2,value:"2"},{label:3,value:"3"},{label:4,value:"4"},{label:5,value:"5"},{label:6,value:"6"},{label:7,value:"7"},{label:8,value:"8"},{label:9,value:"9"}],dataType:[{label:this.$t("attribute.bit"),value:0},{label:this.$t("attribute.eightNoSymbol"),value:1},{label:this.$t("attribute.eightSymbol"),value:2},{label:this.$t("attribute.sixteenNoSymbol"),value:3},{label:this.$t("attribute.sixteenSymbol"),value:4},{label:this.$t("attribute.twentyFourNoSymbol"),value:14},{label:this.$t("attribute.twentyFourSymbol"),value:15},{label:this.$t("attribute.thirtySecondNoSymbol"),value:5},{label:this.$t("attribute.thirtySecondSymbol"),value:6},{label:this.$t("attribute.sixteenBCD"),value:7},{label:this.$t("attribute.thirtySecondBCD"),value:8},{label:this.$t("attribute.singleFloat"),value:9},{label:this.$t("attribute.doubleFloat"),value:10},{label:this.$t("attribute.string"),value:11},{label:this.$t("attribute.sixtyFourUnsigned"),value:12},{label:this.$t("attribute.sixtyFourSigned"),value:13}],hiloType:[{label:"12",value:0},{label:"21",value:1},{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],hiloTypeYT:[{label:"12",value:0},{label:"21",value:1},{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],startbitList:[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}],alarmLevel:[{label:this.$t("attribute.notice"),value:0},{label:this.$t("attribute.warning"),value:1},{label:this.$t("attribute.serious"),value:2}],modeType:[{label:this.$t("attribute.openAlarm"),value:0},{label:this.$t("attribute.closeAlarm"),value:1},{label:this.$t("attribute.deflectionAlarm"),value:2},{label:this.$t("attribute.noAlarm"),value:3}],storageMode:[{label:this.$t("attribute.cycleStore"),value:0},{label:this.$t("attribute.deflectionStore"),value:1}],storageInterval:[{label:"30",value:30},{label:"60",value:60},{label:"180",value:180},{label:"300",value:300},{label:"600",value:600},{label:"1800",value:1800},{label:"3600",value:3600},{label:"21600",value:21600},{label:"43200",value:43200}],compressionPrecision:[{label:"0.10",value:.1},{label:"0.20",value:.2},{label:"0.30",value:.3},{label:"0.40",value:.4},{label:"0.50",value:.5},{label:"0.60",value:.6},{label:"0.70",value:.7},{label:"0.80",value:.8},{label:"0.90",value:.9},{label:"1.00",value:1}],rules:{devid:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],tagname:[{required:!0,message:this.$t("validate.required"),trigger:"change"},{validator:function(e,t,l){if(a.dataForm.id){var r=/^[a-zA-Z0-9_:#\u4e00-\u9fa5]+$/;if(!r.test(t))return l(new Error(a.$t("attribute.tagnameNoSpecial")));l()}else if(t){var i=/^[a-zA-Z0-9_:#\u4e00-\u9fa5]+$/;if(-1!=t.indexOf("-")){var o=Math.abs(t.substring(t.lastIndexOf("-")).replace(/[^0-9]/gi,""));if(null==t.substring(0,t.lastIndexOf("-")).match(/(\d+)[^0-9]*$/)||null==t.substring(t.lastIndexOf("-"),t.length).match(/(\d+)[^0-9]*$/))return l(new Error(a.$t("attribute.tagnameNoRules")));var s=t.substring(0,t.lastIndexOf("-")).match(/(\d+)[^0-9]*$/)[1],d=o-s+1;if(d<=0)return l(new Error(a.$t("attribute.tagnameNoRules")));var n=t.lastIndexOf("-"),m=t.substring(0,n),u=t.substring(n+1,t.length),b=i.test(m),v=new RegExp("^[0-9]([0-9])*$").test(u);if(!b)return l(new Error(a.$t("attribute.tagnameNoSpecial")));if(!v)return l(new Error(a.$t("attribute.tagnameNoRules")));l()}else{if(!i.test(t))return l(new Error(a.$t("attribute.tagnameNoSpecial")));l()}}},trigger:"change"}],tagrwprop:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],tagk:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],tagb:[{required:!0,message:this.$t("validate.required"),trigger:"change"},{pattern:/^[\-\+]?\d+(\.\d+)?$/,message:this.$t("attribute.onlyIntAndFloat")}],collecttypec:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],taggroup:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],objaddr:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],datatype:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],dataformat:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],kgchangemode:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],kgalarmmsg:[{required:!0,message:this.$t("validate.required"),trigger:"change"}]},firstInputPvFlag:!0}},methods:{init:function(){this.visible=!0,this.firstInputPvFlag=!0,this.loading=!0,this.activeName="first"},handleDialogOpenChange:function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(){var e,t,l,r,i,o,s,d,n,m,u,b,v,c,h,p,g,F,f,y,$,S,w;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(this.$refs.tagname.focus(),!this.dataForm.id){a.next=2;break}return a.next=1,this.getInfo();case 1:a.next=6;break;case 2:if(!String(this.dataForm.datatype)){a.next=3;break}return a.next=3,this.handleDataType(this.dataForm.datatype);case 3:if(!sessionStorage.getItem("dataForm")){a.next=5;break}if(this.dataForm=JSON.parse(sessionStorage.getItem("dataForm")),this.dataForm.gwsn=sessionStorage.getItem("gwsn"),this.isbit=1===this.dataForm.enablebit,this.isOpenalarm=1===this.dataForm.enablealarm,this.henablealarm=1===this.dataForm.henablealarm,this.lenablealarm=1===this.dataForm.lenablealarm,this.isupload=1===this.dataForm.isupload||1==this.dataForm.isupload,this.llenablealarm=1===this.dataForm.llenablealarm,this.enablehissave=1===this.dataForm.enablehissave,this.hhenablealarm=1===this.dataForm.hhenablealarm,this.istransvalue=1===this.dataForm.enabletransvalue,this.tagReserve=1==this.dataForm.reserve3,this.dataForm.ctrlMode=0,this.dataForm.funcYt="",this.dataForm.objAddrYt="",this.dataForm.objAddrSYt="",this.dataForm.objAddrEYt="",this.dataForm.dataTypeYt=4,this.dataForm.dataFormatYt=0,this.dataForm.funcDzz="",this.dataForm.funcF="",this.dataForm.objAddrF="",this.dataForm.objAddrSF="",this.dataForm.objAddrEF="",this.dataForm.wValueFS="",this.dataForm.wValueFE="",this.dataForm.wValueFU="",this.dataForm.funcH="",this.dataForm.objAddrH="",this.dataForm.objAddrSH="",this.dataForm.objAddrEH="",this.dataForm.wValueHS="",this.dataForm.wValueHE="",this.dataForm.wValueHU="",e=/.*\..*/,-1!=this.$chineseChar2englishChar(String(this.dataForm.objaddr)).indexOf(",")){if(t=this.$chineseChar2englishChar(String(this.dataForm.objaddr)).split(",")[0],l=this.$chineseChar2englishChar(String(this.dataForm.objaddr)).split(",")[1],r=null,i=null,o=this.$chineseChar2englishChar(String(l)),s=o.match(/\d+\.*\d*/g),s&&s.length>0)if(e.test(s[s.length-1])?(r=s[s.length-1].split(".")[1],i=o.substring(0,o.length-String(r).length)):(r=s[s.length-1],i=o.substring(0,o.length-String(r).length)),d=parseInt(r),n=0,m="",u=parseInt(r),e.test(r)&&(n=r.split(".")[1]),e.test(r)){if(String(r).length>String(u).length)for(m="",b=0;b<String(r).length-String(u).length;b++)m+="0";else m="";n++,u=d+"."+n,this.dataForm.objaddr=""!=m?t?t+","+i+m+u:i+m+u:t?t+","+i+u:i+u}else{if(String(r).length>String(u).length)for(m="",v=0;v<String(r).length-String(u).length;v++)m+="0";else m="";u++,this.dataForm.objaddr=""!=m?t?t+","+i+String(m)+u:i+m+u:t?t+","+i+u:i+u}}else if(c=null,h=null,p=this.$chineseChar2englishChar(String(this.dataForm.objaddr)),g=p.match(/\d+\.*\d*/g),g&&g.length>0)if(e.test(g[g.length-1])?(c=g[g.length-1].split(".")[1],h=p.substring(0,p.length-String(c).length)):(c=g[g.length-1],h=p.substring(0,p.length-String(c).length)),F=parseInt(c),f=0,y="",$=parseInt(c),e.test(c)&&(f=c.split(".")[1]),e.test(c)){if(String(c).length>String($).length)for(y="",S=0;S<String(c).length-String($).length;S++)y+="0";else y="";f++,$=F+"."+f,this.dataForm.objaddr=""!=y?h?h+y+$:y+$:h?h+$:$}else{if(String(c).length>String($).length)for(y="",w=0;w<String(c).length-String($).length;w++)y+="0";else y="";$++,this.dataForm.objaddr=""!=y?h?h+y+$:y+$:h?h+$:$}return this.dataForm.tagcomment&&"æ— "==this.dataForm.tagcomment||!this.dataForm.tagcomment?this.isParamK=!0:this.isParamK=!1,a.next=4,this.getdevList();case 4:a.next=6;break;case 5:return this.dataForm.ctrlMode=0,this.dataForm.funcYt="",this.dataForm.objAddrYt="",this.dataForm.objAddrSYt="",this.dataForm.objAddrEYt="",this.dataForm.dataTypeYt=4,this.dataForm.dataFormatYt=0,this.dataForm.funcDzz="",this.dataForm.funcF="",this.dataForm.objAddrF="",this.dataForm.objAddrSF="",this.dataForm.objAddrEF="",this.dataForm.wValueFS="",this.dataForm.wValueFE="",this.dataForm.wValueFU="",this.dataForm.funcH="",this.dataForm.objAddrH="",this.dataForm.objAddrSH="",this.dataForm.objAddrEH="",this.dataForm.wValueHS="",this.dataForm.wValueHE="",this.dataForm.wValueHU="",a.next=6,this.getdevList();case 6:case"end":return a.stop()}}),a,this)})));function e(){return a.apply(this,arguments)}return e}(),handleClick:function(a,e){var t=this;"third"==a.name&&(this.tooltipvisible=!0,this.tooltipvisible&&((this.dataForm.id||sessionStorage.getItem("dataForm"))&&(this.msg=this.$t("attribute.storeIntervel")+this.dataForm.hissaveinterval/60+this.$t("attribute.minute")),setTimeout((function(){t.tooltipvisible=!1}),3e3)))},selectAlarmRecord:function(a){0===a?(this.dataForm.hissavetype=0,this.dataForm.kgchangemode=3,this.dataForm.kgalarmmsg=this.$t("attribute.noAlarm")):this.dataForm.hissavetype=1},compareBySort:function(a,e){return a.sort((function(a,t){return a[e]-t[e]}))},getdevList:function(){var a=this;if(this.$hasSessionStorageGwsn()){this.equipmentList=[];var e={gwsn:sessionStorage.getItem("gwsn")};if(!this.$hasPermission("list:getChlList:select:permission.do"))return this.loading=!1,void this.$message.warning("æš‚æ— é€šé“æŸ¥è¯¢æƒé™, è¯·è”ç³»ç®¡ç†å‘˜");this.$http.get("/list/getChlList.do",{params:e}).then((function(e){var t=e.data;if(0!=t.code)return a.$message.error(t.data||t.msg);if(t.data.length>0)if(t.data.forEach((function(e){0==e.chlType&&e.dev2PojoList&&e.dev2PojoList.length>0&&e.dev2PojoList.forEach((function(t){var l={label:t.devName+"-"+e.chlName,devId:t.devID,chlId:e.chlID};a.equipmentList.push(l)}))})),a.equipmentList.length>0)if(a.equipmentList=a.compareBySort(a.equipmentList,"devId"),a.dataForm.id)for(var l=0;l<a.equipmentList.length;l++){var r=a.equipmentList[l];if(a.dataForm.devid==r.devId){a.dataForm.devid=r.devId;break}}else{if(sessionStorage.getItem("dataForm"))if(a.queryParams.devId){for(var i=!1,o=0;o<a.equipmentList.length;o++){var s=a.equipmentList[o];if(a.queryParams.devId==s.devId){i=!0,a.dataForm.devid=s.devId;break}}i||(a.dataForm.devid=a.equipmentList[0].devid)}else{for(var d=!1,n=0;n<a.equipmentList.length;n++){var m=a.equipmentList[n];if(a.dataForm.devid==m.devId){d=!0,a.dataForm.devid=m.devId;break}}d||(a.dataForm.devid=a.equipmentList[0].devId)}else if(a.paramdevid)for(var u=0;u<a.equipmentList.length;u++){var b=a.equipmentList[u];if(a.paramdevid==b.devId){a.dataForm.devid=b.devId;break}}else if(a.queryParams.devId)for(var v=0;v<a.equipmentList.length;v++){var c=a.equipmentList[v];if(a.queryParams.devId==c.devId){a.dataForm.devid=c.devId;break}}else a.dataForm.devid=a.equipmentList[0].devId;a.$nextTick((function(){a.selectdevice(a.dataForm.devid)}))}else a.$message.warning(a.$t("attribute.currentlyNoCollectionDevice")),a.loading=!1,setTimeout((function(){return a.visible=!1,!1}),500)})).catch((function(a){return!1}))}else this.$message({showClose:!1,message:this.$t("gatewayNotObtained"),type:"warning",duration:1500,onClose:function(){return sessionStorage.clear(),a.$router.replace({path:"/tgw-tgwinfo"})}})},handleDeviceChange:function(a){this.selectdevice(a)},selectdevice:function(a,e){var t=this,l=this;if(l.$hasSessionStorageGwsn()){if(l.PVList=[],l.pvflagList=[],!l.$hasPermission("deviceinfo:selectByDevidAndGwsn:permission.do"))return void l.$message.warning("æš‚æ— èŽ·å–è®¾å¤‡ä¿¡æ¯æƒé™, è¯·è”ç³»ç®¡ç†å‘˜");l.$http.get("/info/deviceinfo/getByDevidAndGwsn",{params:{devid:a,gwsn:sessionStorage.getItem("gwsn")}}).then((function(a){var r=a.data;if(0!==r.code)return t.$message.error(r.data||r.msg);l.devObj=r.data[0],l.$hasPermission("pvparaminfo:select:permission.do")?(l.$http.post("/info/pvparaminfo/listParam",d.a.stringify({devPlatform:r.data[0].devmanu,devIndex:r.data[0].devmodel})).then((function(a){var t=a.data;if(t.data.length>0)if(t.data.forEach((function(a){var e={paramK:a.paramK,paramUnit:a.paramUnit,paramIndex:String(a.paramIndex),paramDesc:a.paramDesc};l.PVList.push(e),l.pvflagList.push(String(a.paramIndex))})),l.dataForm.id)if(e)e();else if(l.pvflagList.length>0)if(l.isNull(l.dataForm.pvflag))l.selectPvFlag="-1",l.dataForm.pvflag="";else if(-1==l.pvflagList.join(",").indexOf(String(l.dataForm.pvflag)))l.selectPvFlag=String(l.dataForm.pvflag),l.dataForm.pvflag=String(l.dataForm.pvflag);else{var r=l.PVList.find((function(a){return a.paramIndex==l.dataForm.pvflag}));r?(l.selectPvFlag=String(r.paramIndex),l.dataForm.pvflag=r.paramDesc):(l.selectPvFlag=String(l.dataForm.pvflag),l.dataForm.pvflag=String(l.dataForm.pvflag))}else l.selectPvFlag="-1",l.dataForm.pvflag=l.isNull(l.dataForm.pvflag)?"":String(l.dataForm.pvflag);else""===String(l.dataForm.pvflag)&&(l.selectPvFlag=l.PVList[0].paramIndex,l.dataForm.pvflag=l.PVList[0].paramDesc,l.dataForm.reserve2=l.PVList[0].paramK),l.dataForm.tagcomment||(l.PVList[0].paramDesc,l.$t("attribute.noContent"),l.dataForm.tagcomment=l.PVList[0].paramDesc);else l.selectPvFlag="-1",l.dataForm.pvflag="",l.dataForm.reserve2=1,e&&e()})).catch((function(a){return!1})),l.$hasPermission("channelinfo:info:select:permission.do")?l.$http.get("/info/channelinfo/getByChliId",{params:{chlid:r.data[0].chlid,gwsn:sessionStorage.getItem("gwsn")}}).then((function(a){var e=a.data;if(0!=e.code)return l.$message.error(e.data||e.msg);l.dataForm.tagchlid=e.data[0].chlid,l.childguid=e.data[0].chlprotocol,l.getguidinfo(l.childguid)})).catch((function(a){return!1})):l.$message.warning("æš‚æ— é€šé“ä¿¡æ¯æŸ¥è¯¢æƒé™, è¯·è”ç³»ç®¡ç†å‘˜")):l.$message.warning("æš‚æ— PVä¸Šä¼ æ ‡è¯†å‚æ•°æŸ¥è¯¢æƒé™, è¯·è”ç³»ç®¡ç†å‘˜")})).catch((function(a){return!1}))}else l.$message({showClose:!1,message:l.$t("gatewayNotObtained"),type:"warning",duration:1500,onClose:function(){return sessionStorage.clear(),l.$router.replace({path:"/tgw-tgwinfo"})}})},handleComment:function(a){this.isParamK=!a},querySearchAsync:function(a,e){for(var t=this,l=t.collectGroupType,r=0,i=l.length;r<i;r++)l[r].value=l[r].value,l[r].label=l[r].label;var o=a?l.filter(t.createStateFilter(a)):l;e(o)},createStateFilter:function(a){return function(e){return-1!=e.value.indexOf(a)}},handleSelect:function(a){this.dataForm.taggroup=a.value},handleObjaddr:function(a){this.dataForm.objaddr=String(a)},handleFinallyDataType:function(a){11==a?this.$notify({title:"æç¤º",message:this.$t("attribute.dataTypeSelectionIsString"),duration:2e3}):11==this.storeLastDataType&&(this.dataForm.tagk=1)},handleDataTypeYT:function(a){var e=this,t=!1;if(0==a){t=!1,this.hiloTypeYT=[{label:"12",value:0},{label:"21",value:1}];for(var l=0;l<this.hiloTypeYT.length;l++){var r=this.hiloTypeYT[l];if(this.dataForm.dataFormatYt==r.value){t=!0;break}}}else if(1==a){t=!1,this.hiloTypeYT=[{label:"12",value:0},{label:"21",value:1}];for(var i=0;i<this.hiloTypeYT.length;i++){var o=this.hiloTypeYT[i];if(this.dataForm.dataFormatYt==o.value){t=!0;break}}}else if(2==a){t=!1,this.hiloTypeYT=[{label:"12",value:0},{label:"21",value:1}];for(var s=0;s<this.hiloTypeYT.length;s++){var d=this.hiloTypeYT[s];if(this.dataForm.dataFormatYt==d.value){t=!0;break}}}else if(3==a){t=!1,this.hiloTypeYT=[{label:"12",value:0},{label:"21",value:1}];for(var n=0;n<this.hiloTypeYT.length;n++){var m=this.hiloTypeYT[n];if(this.dataForm.dataFormatYt==m.value){t=!0;break}}}else if(4==a){t=!1,this.hiloTypeYT=[{label:"12",value:0},{label:"21",value:1}];for(var u=0;u<this.hiloTypeYT.length;u++){var b=this.hiloTypeYT[u];if(this.dataForm.dataFormatYt==b.value){t=!0;break}}}else if(5==a){t=!1,this.hiloTypeYT=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}];for(var v=0;v<this.hiloTypeYT.length;v++){var c=this.hiloTypeYT[v];if(this.dataForm.dataFormatYt==c.value){t=!0;break}}}else if(6==a){t=!1,this.hiloTypeYT=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}];for(var h=0;h<this.hiloTypeYT.length;h++){var p=this.hiloTypeYT[h];if(this.dataForm.dataFormatYt==p.value){t=!0;break}}}else if(7==a){t=!1,this.hiloTypeYT=[{label:"12",value:0},{label:"21",value:1}];for(var g=0;g<this.hiloTypeYT.length;g++){var F=this.hiloTypeYT[g];if(this.dataForm.dataFormatYt==F.value){t=!0;break}}}else if(8==a){t=!1,this.hiloTypeYT=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}];for(var f=0;f<this.hiloTypeYT.length;f++){var y=this.hiloTypeYT[f];if(this.dataForm.dataFormatYt==y.value){t=!0;break}}}else if(9==a){t=!1,this.hiloTypeYT=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}];for(var $=0;$<this.hiloTypeYT.length;$++){var S=this.hiloTypeYT[$];if(this.dataForm.dataFormatYt==S.value){t=!0;break}}}else if(10==a){t=!1,this.hiloTypeYT=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}];for(var w=0;w<this.hiloTypeYT.length;w++){var T=this.hiloTypeYT[w];if(this.dataForm.dataFormatYt==T.value){t=!0;break}}}else if(11==a){t=!1,this.hiloTypeYT=[{label:"12",value:0},{label:"21",value:1},{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}];for(var k=0;k<this.hiloTypeYT.length;k++){var j=this.hiloTypeYT[k];if(this.dataForm.dataFormatYt==j.value){t=!0;break}}}else if(12==a){t=!1,this.hiloTypeYT=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}];for(var x=0;x<this.hiloTypeYT.length;x++){var A=this.hiloTypeYT[x];if(this.dataForm.dataFormatYt==A.value){t=!0;break}}}else if(13==a){t=!1,this.hiloTypeYT=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}];for(var Y=0;Y<this.hiloTypeYT.length;Y++){var E=this.hiloTypeYT[Y];if(this.dataForm.dataFormatYt==E.value){t=!0;break}}}else if(14==a||15==a){t=!1,this.hiloTypeYT=[{label:"12",value:0},{label:"21",value:1}];for(var V=0;V<this.hiloTypeYT.length;V++){var L=this.hiloTypeYT[V];if(this.dataForm.dataFormatYt==L.value){t=!0;break}}}this.$nextTick((function(){t||(e.dataForm.dataFormatYt=e.hiloTypeYT[0].value)}))},handleDataType:function(a){var e=this;this.finallyDataType=a;var t=!1,l=!1,r=!1,i=!1;if(this.handleFinallyDataType(a),0==a){t=!1,l=!1,r=!1,i=!1,this.hiloType=[{label:"12",value:0},{label:"21",value:1}],this.startbitList=[{label:0,value:0}];for(var o=0;o<this.hiloType.length;o++){var s=this.hiloType[o];if(this.dataForm.dataformat==s.value){t=!0;break}}this.startbitList.forEach((function(a){e.dataForm.startbit==a.value&&(l=!0),e.dataForm.endbit==a.value&&(r=!0),l&&r&&(i=!0)}))}else if(1==a){t=!1,l=!1,r=!1,i=!1,this.hiloType=[{label:"12",value:0},{label:"21",value:1}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7}];for(var d=0;d<this.hiloType.length;d++){var n=this.hiloType[d];if(this.dataForm.dataformat==n.value){t=!0;break}}this.startbitList.forEach((function(a){e.dataForm.startbit==a.value&&(l=!0),e.dataForm.endbit==a.value&&(r=!0),l&&r&&(i=!0)}))}else if(2==a){t=!1,l=!1,r=!1,i=!1,this.hiloType=[{label:"12",value:0},{label:"21",value:1}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7}];for(var m=0;m<this.hiloType.length;m++){var u=this.hiloType[m];if(this.dataForm.dataformat==u.value){t=!0;break}}this.startbitList.forEach((function(a){e.dataForm.startbit==a.value&&(l=!0),e.dataForm.endbit==a.value&&(r=!0),l&&r&&(i=!0)}))}else if(3==a){t=!1,l=!1,r=!1,i=!1,this.hiloType=[{label:"12",value:0},{label:"21",value:1}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15}];for(var b=0;b<this.hiloType.length;b++){var v=this.hiloType[b];if(this.dataForm.dataformat==v.value){t=!0;break}}this.startbitList.forEach((function(a){e.dataForm.startbit==a.value&&(l=!0),e.dataForm.endbit==a.value&&(r=!0),l&&r&&(i=!0)}))}else if(4==a){t=!1,l=!1,r=!1,i=!1,this.hiloType=[{label:"12",value:0},{label:"21",value:1}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15}];for(var c=0;c<this.hiloType.length;c++){var h=this.hiloType[c];if(this.dataForm.dataformat==h.value){t=!0;break}}this.startbitList.forEach((function(a){e.dataForm.startbit==a.value&&(l=!0),e.dataForm.endbit==a.value&&(r=!0),l&&r&&(i=!0)}))}else if(5==a){t=!1,l=!1,r=!1,i=!1,this.hiloType=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}];for(var p=0;p<this.hiloType.length;p++){var g=this.hiloType[p];if(this.dataForm.dataformat==g.value){t=!0;break}}this.startbitList.forEach((function(a){e.dataForm.startbit==a.value&&(l=!0),e.dataForm.endbit==a.value&&(r=!0),l&&r&&(i=!0)}))}else if(6==a){t=!1,l=!1,r=!1,i=!1,this.hiloType=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}];for(var F=0;F<this.hiloType.length;F++){var f=this.hiloType[F];if(this.dataForm.dataformat==f.value){t=!0;break}}this.startbitList.forEach((function(a){e.dataForm.startbit==a.value&&(l=!0),e.dataForm.endbit==a.value&&(r=!0),l&&r&&(i=!0)}))}else if(7==a){t=!1,l=!1,r=!1,i=!1,this.hiloType=[{label:"12",value:0},{label:"21",value:1}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15}];for(var y=0;y<this.hiloType.length;y++){var $=this.hiloType[y];if(this.dataForm.dataformat==$.value){t=!0;break}}this.startbitList.forEach((function(a){e.dataForm.startbit==a.value&&(l=!0),e.dataForm.endbit==a.value&&(r=!0),l&&r&&(i=!0)}))}else if(8==a){t=!1,l=!1,r=!1,i=!1,this.hiloType=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}];for(var S=0;S<this.hiloType.length;S++){var w=this.hiloType[S];if(this.dataForm.dataformat==w.value){t=!0;break}}this.startbitList.forEach((function(a){e.dataForm.startbit==a.value&&(l=!0),e.dataForm.endbit==a.value&&(r=!0),l&&r&&(i=!0)}))}else if(9==a){t=!1,l=!1,r=!1,i=!1,this.hiloType=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}];for(var T=0;T<this.hiloType.length;T++){var k=this.hiloType[T];if(this.dataForm.dataformat==k.value){t=!0;break}}this.startbitList.forEach((function(a){e.dataForm.startbit==a.value&&(l=!0),e.dataForm.endbit==a.value&&(r=!0),l&&r&&(i=!0)}))}else if(10==a){t=!1,l=!1,r=!1,i=!1,this.hiloType=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}];for(var j=0;j<this.hiloType.length;j++){var x=this.hiloType[j];if(this.dataForm.dataformat==x.value){t=!0;break}}this.startbitList.forEach((function(a){e.dataForm.startbit==a.value&&(l=!0),e.dataForm.endbit==a.value&&(r=!0),l&&r&&(i=!0)}))}else if(11==a){t=!1,l=!1,r=!1,i=!1,this.hiloType=[{label:"12",value:0},{label:"21",value:1},{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0}];for(var A=0;A<this.hiloType.length;A++){var Y=this.hiloType[A];if(this.dataForm.dataformat==Y.value){t=!0;break}}this.startbitList.forEach((function(a){e.dataForm.startbit==a.value&&(l=!0),e.dataForm.endbit==a.value&&(r=!0),l&&r&&(i=!0)}))}else if(12==a){t=!1,l=!1,r=!1,i=!1,this.hiloType=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}];for(var E=0;E<this.hiloType.length;E++){var V=this.hiloType[E];if(this.dataForm.dataformat==V.value){t=!0;break}}this.startbitList.forEach((function(a){e.dataForm.startbit==a.value&&(l=!0),e.dataForm.endbit==a.value&&(r=!0),l&&r&&(i=!0)}))}else if(13==a){t=!1,l=!1,r=!1,i=!1,this.hiloType=[{label:"1234",value:2},{label:"2143",value:3},{label:"3412",value:4},{label:"4321",value:5}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23},{label:24,value:24},{label:25,value:25},{label:26,value:26},{label:27,value:27},{label:28,value:28},{label:29,value:29},{label:30,value:30},{label:31,value:31}];for(var L=0;L<this.hiloType.length;L++){var H=this.hiloType[L];if(this.dataForm.dataformat==H.value){t=!0;break}}this.startbitList.forEach((function(a){e.dataForm.startbit==a.value&&(l=!0),e.dataForm.endbit==a.value&&(r=!0),l&&r&&(i=!0)}))}else if(14==a||15==a){t=!1,l=!1,r=!1,i=!1,this.hiloType=[{label:"12",value:0},{label:"21",value:1}],this.startbitList=[{label:0,value:0},{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16},{label:17,value:17},{label:18,value:18},{label:19,value:19},{label:20,value:20},{label:21,value:21},{label:22,value:22},{label:23,value:23}];for(var C=0;C<this.hiloType.length;C++){var O=this.hiloType[C];if(this.dataForm.dataformat==O.value){t=!0;break}}this.startbitList.forEach((function(a){e.dataForm.startbit==a.value&&(l=!0),e.dataForm.endbit==a.value&&(r=!0),l&&r&&(i=!0)}))}this.$nextTick((function(){t||(e.dataForm.id?e.dataForm.dataformat=void 0:e.dataForm.dataformat=e.hiloType[0].value),i||(e.dataForm.id?(e.dataForm.startbit=void 0,e.dataForm.endbit=void 0):(e.dataForm.startbit=e.startbitList[0].value,e.dataForm.endbit=e.startbitList[0].value))}))},handleIsUpload:function(a){},handleLimitTagk:function(a){a<0?this.dataForm.tagk=0:a>32&&(this.dataForm.tagk=32)},handleReserve4:function(a){a<0?this.dataForm.reserve4=0:a>32&&(this.dataForm.reserve4=32)},querySearchPvFlagAsync:function(a,e){for(var t=this,l=t.PVList,r=0,i=l.length;r<i;r++)l[r].value=l[r].paramIndex,l[r].label=l[r].paramDesc,l[r].name=l[r].paramDesc;if(t.firstInputPvFlag){var o=l;e(o)}else{var s=a?l.filter(t.createPvflagFilter(a)):l;e(s)}},createPvflagFilter:function(a){return function(e){return-1!=e.label.indexOf(a)}},handlePvflag:function(a){var e=this;e.selectPvFlag=String(a.value),e.handleOldPvflag(e.selectPvFlag)},setPvflagBlur:function(){this.$refs.pvFlagRef.activated=!0},handleOldPvflag:function(a){var e=this;e.$hasPermission("pvparaminfo:select:permission.do")?e.$http.post("/info/pvparaminfo/listParam",d.a.stringify({devPlatform:e.devObj.devmanu,devIndex:e.devObj.devmodel,paramIndex:a})).then((function(a){var t=a.data;if(!(t.data.length>0))return e.$message.warning("æœªæŸ¥è¯¢åˆ°PVæ ‡è¯†");e.Pvobj=t.data[0],e.dataForm.reserve2=e.Pvobj.paramK,e.dataForm.id?(e.firstConfirm||e.dataForm.tagcomment==e.$t("attribute.noContent")||e.isParamK)&&(e.Pvobj.paramDesc!=e.$t("attribute.noContent")&&e.Pvobj.paramUnit||e.Pvobj.paramDesc!=e.$t("attribute.noContent")&&e.Pvobj.paramUnit,e.dataForm.tagcomment=e.Pvobj.paramDesc):e.isParamK&&(e.Pvobj.paramDesc!=e.$t("attribute.noContent")&&e.Pvobj.paramUnit||e.Pvobj.paramDesc!=e.$t("attribute.noContent")&&e.Pvobj.paramUnit,e.dataForm.tagcomment=e.Pvobj.paramDesc)})).catch((function(a){return!1})):e.$message.warning("æš‚æ— PVä¸Šä¼ æ ‡è¯†æŸ¥è¯¢æƒé™, è¯·è”ç³»ç®¡ç†å‘˜")},getguidinfo:function(a){var e=this;this.functionCodeType=[],this.$hasPermission("protocolinfo:select:permission.do")?this.$http.get("/info/protocolinfo/proguid",{params:{guid:a}}).then((function(a){var t=a.data;if(0!==t.code)return e.loading=!1,e.$message.error(t.data||t.msg);t.data.length>0?(e.functionCodeType=JSON.parse(t.data[0].funccode).data,e.functionCodeType.length>0&&!e.dataForm.id&&(e.dataForm.collecttypec||(e.dataForm.collecttypec=e.functionCodeType[0].FuncCode)),e.functionCodeType.length>0&&(e.dataForm.funcYt=e.dataForm.funcYt?e.dataForm.funcYt:e.functionCodeType[0].FuncCode,e.dataForm.funcF=e.dataForm.funcF?e.dataForm.funcF:e.functionCodeType[0].FuncCode,e.dataForm.funcH=e.dataForm.funcH?e.dataForm.funcH:e.functionCodeType[0].FuncCode),e.loading=!1):e.loading=!1})).catch((function(a){return!1})):this.$message.warning("æš‚æ— åè®®æŸ¥è¯¢æƒé™, è¯·è”ç³»ç®¡ç†å‘˜")},selectBit:function(a){this.dataForm.enablebit=this.isbit?1:0},handleStartbit:function(a){this.dataForm.endbit<a&&(this.dataForm.endbit=a)},handleEndbit:function(a){this.dataForm.startbit>a&&(this.dataForm.startbit=a)},selecttransvalue:function(a){this.dataForm.enabletransvalue=this.istransvalue?1:0},openAlarm:function(a){this.dataForm.enablealarm=this.isOpenalarm?1:0},handlehighhigh:function(a){this.dataForm.hhenablealarm=a?1:0},handlehigh:function(a){this.dataForm.henablealarm=a?1:0},handlelow:function(a){this.dataForm.lenablealarm=a?1:0},handlelowlow:function(a){this.dataForm.llenablealarm=a?1:0},openHistory:function(a){this.dataForm.enablehissave=a?1:0},selectAlarmChange:function(a){this.dataForm.kgalarmmsg=this.modeType.find((function(e){return e.value===a})).label},changeHissaveinterval:function(a){var e=this;this.tooltipvisible=!0;var t=Number(a/60);t=t>60||60==t?Number(t/60)+this.$t("attribute.hour"):t+this.$t("attribute.minute"),this.msg=this.$t("attribute.storeIntervel")+t,setTimeout((function(){e.tooltipvisible=!1}),3e3)},isNull:function(a){return null===a||void 0===a||0===String(a).length},getInfo:function(){var a=this,e=this;e.$hasPermission("taginfo:select:permission.do")?(e.loading=!0,e.$http.get("/info/taginfo/".concat(e.dataForm.id)).then((function(t){var l=t.data;if(0!==l.code)return e.loading=!1,e.$message.error(l.data||l.msg);e.selectdevice(l.data.devid,(function(){if(e.pvflagList.length>0)if(-1==e.pvflagList.join(",").indexOf(String(l.data.pvflag)))e.selectPvFlag=e.isNull(l.data.pvflag)?"-1":String(l.data.pvflag),l.data.pvflag=e.isNull(l.data.pvflag)?"":String(l.data.pvflag);else{var t=e.isNull(l.data.pvflag)?null:e.PVList.find((function(a){return a.paramIndex==l.data.pvflag}));t?(e.selectPvFlag=String(t.paramIndex),l.data.pvflag=t.paramDesc):(e.selectPvFlag=e.isNull(l.data.pvflag)?"-1":String(l.data.pvflag),l.data.pvflag=e.isNull(l.data.pvflag)?"":String(l.data.pvflag))}else e.selectPvFlag=e.isNull(l.data.pvflag)?"-1":String(l.data.pvflag),l.data.pvflag=e.isNull(l.data.pvflag)?"":String(l.data.pvflag);if(e.dataForm=b(b({},a.dataForm),l.data),e.storeDevId=e.dataForm.devid,e.storeTagChlid=e.dataForm.tagchlid,e.dataForm.taggroup=String(l.data.taggroup),e.getdevList(),String(e.dataForm.datatype)&&e.handleDataType(e.dataForm.datatype),e.isParamK=!e.dataForm.tagcomment,e.firstConfirm=!l.data.tagcomment||"æ— "==l.data.tagcomment,e.isbit=1===e.dataForm.enablebit,e.isupload=1===e.dataForm.isupload,e.isOpenalarm=1===e.dataForm.enablealarm,e.henablealarm=1===e.dataForm.henablealarm,e.lenablealarm=1===e.dataForm.lenablealarm,e.llenablealarm=1===e.dataForm.llenablealarm,e.enablehissave=1===e.dataForm.enablehissave,e.hhenablealarm=1===e.dataForm.hhenablealarm,e.istransvalue=1===e.dataForm.enabletransvalue,e.tagReserve=1==e.dataForm.reserve3,e.$hasSessionStorageGwsn()){var r={ids:e.dataForm.tagid,gwsn:sessionStorage.getItem("gwsn")};if(!e.$hasPermission("tagassist:select:permission.do"))return void e.$message.warning("æš‚æ— æµ‹ç‚¹è¾…åŠ©å‚æ•°æŸ¥è¯¢æƒé™, è¯·è”ç³»ç®¡ç†å‘˜");e.$http.post("/tagassist/select.do",d.a.stringify(r)).then((function(a){var t=a.data;if(0!=t.code)return e.$message.error(t.data||t.msg);t.data.length>0?(e.storeTagassistId=t.data[0].id,e.dataForm.limitValueEnable=t.data[0].enable,e.dataForm.minValue=t.data[0].lowerLimit,e.dataForm.maxValue=t.data[0].upperLimit,e.dataForm.limitdataFormat=t.data[0].dataFormat,e.dataForm.ctrlMode=t.data[0].ctrlMode,e.dataForm.funcYt=t.data[0].funcYt,e.dataForm.objAddrYt=t.data[0].objAddrYt,e.dataForm.objAddrSYt=t.data[0].objAddrSYt||"",e.dataForm.objAddrEYt=t.data[0].objAddrEYt||"",e.dataForm.dataTypeYt=t.data[0].dataTypeYt||4,e.dataForm.dataFormatYt=t.data[0].dataFormatYt||0,e.dataForm.funcDzz=t.data[0].funcDzz,e.dataForm.funcF=t.data[0].funcF,e.dataForm.objAddrF=t.data[0].objAddrF,e.dataForm.objAddrSF=t.data[0].objAddrSF||"",e.dataForm.objAddrEF=t.data[0].objAddrEF||"",e.dataForm.wValueFS=t.data[0].wvalueFS,e.dataForm.wValueFE=t.data[0].wvalueFE,e.dataForm.wValueFU=t.data[0].wvalueFU,e.dataForm.funcH=t.data[0].funcH,e.dataForm.objAddrH=t.data[0].objAddrH,e.dataForm.objAddrSH=t.data[0].objAddrSH||"",e.dataForm.objAddrEH=t.data[0].objAddrEH||"",e.dataForm.wValueHS=t.data[0].wvalueHS,e.dataForm.wValueHE=t.data[0].wvalueHE,e.dataForm.wValueHU=t.data[0].wvalueHU):(e.storeTagassistId="",e.dataForm.limitValueEnable=0,e.dataForm.minValue=0,e.dataForm.maxValue=1e3,e.dataForm.limitdataFormat=0,e.dataForm.ctrlMode=0,e.dataForm.funcYt="",e.dataForm.objAddrYt="",e.dataForm.objAddrSYt="",e.dataForm.objAddrEYt="",e.dataForm.dataTypeYt=4,e.dataForm.dataFormatYt=0,e.dataForm.funcDzz="",e.dataForm.funcF="",e.dataForm.objAddrF="",e.dataForm.objAddrSF="",e.dataForm.objAddrEF="",e.dataForm.wValueFS="",e.dataForm.wValueFE="",e.dataForm.wValueFU="",e.dataForm.funcH="",e.dataForm.objAddrH="",e.dataForm.objAddrSH="",e.dataForm.objAddrEH="",e.dataForm.wValueHS="",e.dataForm.wValueHE="",e.dataForm.wValueHU="")})).catch((function(a){return!1}))}else e.$message({showClose:!1,message:e.$t("gatewayNotObtained"),type:"warning",duration:1500,onClose:function(){return sessionStorage.clear(),e.$router.replace({path:"/tgw-tgwinfo"})}})}))})).catch((function(a){return!1}))):e.$message.warning("æš‚æ— æµ‹ç‚¹ä¿¡æ¯æŸ¥è¯¢æƒé™, è¯·è”ç³»ç®¡ç†å‘˜")},handleClose:function(){this.storeDevId="",this.storeTagChlid="",this.visible=!1},dataFormSubmitHandle:m()((function(){var a=this,e="",t=/.*\..*/,l=[],r=null;this.$hasSessionStorageGwsn()?(this.paramsData=[],this.$refs["dataForm"].validate((function(i){if(!i)return!1;if(3==a.dataForm.limitValueEnable){if(a.dataForm.maxValue-a.dataForm.minValue<0)return a.$message.error(a.$t("attribute.minimumValueGreaterthanMaximumValue"));if(a.dataForm.maxValue==a.dataForm.minValue)return a.$message.error(a.$t("attribute.maximumValueEqualthanMinimumValue"))}if(a.loading=!0,0===a.dataForm.alarmtype&&(a.dataForm.kgchangemode=3,a.dataForm.kgalarmmsg=a.$t("attribute.noAlarm")),a.dataForm.id){if(!a.$hasPermission("taginfo:update:permission.do"))return a.loading=!1,void a.$message.warning("æš‚æ— æµ‹ç‚¹ä¿®æ”¹æƒé™, è¯·è”ç³»ç®¡ç†å‘˜");if(!a.$hasPermission("tagassist:update:permission.do"))return a.loading=!1,void a.$message.warning("æš‚æ— æµ‹ç‚¹è¾…åŠ©å‚æ•°ä¿®æ”¹æƒé™, è¯·è”ç³»ç®¡ç†å‘˜");e="/info/taginfo",a.storeAddFormTagNameList=[],a.storeAddFormTagNameList.push({id:a.storeTagassistId,tagId:a.dataForm.tagid,tagName:a.dataForm.tagname,enable:a.dataForm.limitValueEnable,gwsn:sessionStorage.getItem("gwsn"),lowerLimit:a.dataForm.minValue,upperLimit:a.dataForm.maxValue,dataFormat:a.dataForm.limitdataFormat,ctrlMode:a.dataForm.ctrlMode,dataFormatYt:a.dataForm.dataFormatYt,dataTypeYt:a.dataForm.dataTypeYt,funcDzz:a.dataForm.funcDzz||0,funcF:a.dataForm.funcF,funcH:a.dataForm.funcH,funcYt:a.dataForm.funcYt,objAddrF:a.dataForm.objAddrF,objAddrSF:a.dataForm.objAddrSF,objAddrEF:a.dataForm.objAddrEF,objAddrH:a.dataForm.objAddrH,objAddrSH:a.dataForm.objAddrSH,objAddrEH:a.dataForm.objAddrEH,objAddrYt:a.dataForm.objAddrYt,objAddrSYt:a.dataForm.objAddrSYt,objAddrEYt:a.dataForm.objAddrEYt,wvalueFE:a.dataForm.wValueFE,wvalueFS:a.dataForm.wValueFS,wvalueFU:a.dataForm.wValueFU,wvalueHE:a.dataForm.wValueHE,wvalueHS:a.dataForm.wValueHS,wvalueHU:a.dataForm.wValueHU}),a.dataForm.enablebit=a.dataForm.enablebit?1:0,a.dataForm.enabletransvalue=a.dataForm.enabletransvalue?1:0,a.dataForm.enablealarm=a.dataForm.enablealarm?1:0,a.dataForm.hhenablealarm=a.dataForm.hhenablealarm?1:0,a.dataForm.henablealarm=a.dataForm.henablealarm?1:0,a.dataForm.lenablealarm=a.dataForm.lenablealarm?1:0,a.dataForm.llenablealarm=a.dataForm.llenablealarm?1:0,a.dataForm.enablehissave=a.dataForm.enablehissave?1:0,a.dataForm.isupload=a.isupload?1:0,a.dataForm.reserve3=a.tagReserve?1:0,a.dataForm.objaddr=String(a.dataForm.objaddr),r=b(b({},a.dataForm),{pvflag:"NaN"===parseFloat(a.dataForm.pvflag).toString()?Number(a.selectPvFlag):Number(a.dataForm.pvflag)})}else{if(!a.$hasPermission("taginfo:insert:permission.do"))return a.loading=!1,void a.$message.warning("æš‚æ— æµ‹ç‚¹æ–°å¢žæƒé™, è¯·è”ç³»ç®¡ç†å‘˜");if(!a.$hasPermission("tagassist:insert:permission.do"))return a.loading=!1,void a.$message.warning("æš‚æ— æµ‹ç‚¹è¾…åŠ©å‚æ•°æ–°å¢žæƒé™, è¯·è”ç³»ç®¡ç†å‘˜");if(a.storeAddFormTagNameList=[],e="/info/taginfo/insertAdd",-1!=a.dataForm.tagname.indexOf("-")){var o=Math.abs(a.dataForm.tagname.substring(a.dataForm.tagname.lastIndexOf("-")).replace(/[^0-9]/gi,"")),s=a.dataForm.tagname.split(/-(?![^-]*-)/),d=a.dataForm.tagname.substring(0,a.dataForm.tagname.lastIndexOf("-")).match(/(\d+)[^0-9]*$/)[1],n=d.replace(/[^0]/g,""),m=d,u=s[0],v=u.substring(0,u.length-u.match(/(\d+)[^0-9]*$/)[1].length);if(-1!=a.$chineseChar2englishChar(String(a.dataForm.objaddr)).indexOf(",")){var c=a.$chineseChar2englishChar(String(a.dataForm.objaddr)).split(",")[0],h=a.$chineseChar2englishChar(String(a.dataForm.objaddr)).split(",")[1],p=null,g=null,F=a.$chineseChar2englishChar(String(h)),f=F.match(/\d+\.*\d*/g);if(f&&f.length>0){t.test(f[f.length-1])?(p=f[f.length-1].split(".")[1],g=F.substring(0,F.length-String(p).length)):(p=f[f.length-1],g=F.substring(0,F.length-String(p).length));var y=parseInt(p),$=0,S="",w=parseInt(p);if(t.test(p)&&($=p.split(".")[1]),t.test(p))for(var T=0;T<o-d+1;T++){if(String(p).length>String(w).length){S="";for(var k=0;k<String(p).length-String(w).length;k++)S+="0"}else S="";""!=S?l.push(c?c+","+g+S+w:g+S+w):l.push(c?c+","+g+w:g+w),$++,w=y+"."+$}else for(var j=0;j<o-d+1;j++){if(String(p).length>String(w).length){S="";for(var x=0;x<String(p).length-String(w).length;x++)S+="0"}else S="";""!=S?l.push(c?c+","+g+String(S)+w:g+S+w):l.push(c?c+","+g+w:g+w),w++}}else for(var A=0;A<o-d+1;A++)l.push(String(a.dataForm.objaddr)+String(A))}else{var Y=null,E=null,V=a.$chineseChar2englishChar(String(a.dataForm.objaddr)),L=V.match(/\d+\.*\d*/g);if(L&&L.length>0){t.test(L[L.length-1])?(Y=L[L.length-1].split(".")[1],E=V.substring(0,V.length-String(Y).length)):(Y=L[L.length-1],E=V.substring(0,V.length-String(Y).length));var H=parseInt(Y),C=0,O="",P=parseInt(Y);if(t.test(Y)&&(C=Y.split(".")[1]),t.test(Y))for(var I=0;I<o-d+1;I++){if(String(Y).length>String(P).length){O="";for(var _=0;_<String(Y).length-String(P).length;_++)O+="0"}else O="";""!=O?l.push(E?E+O+P:P):l.push(E?E+P:P),C++,P=H+"."+C}else for(var D=0;D<o-d+1;D++){if(String(Y).length>String(P).length){O="";for(var N=0;N<String(Y).length-String(P).length;N++)O+="0"}else O="";""!=O?l.push(E?E+String(O)+P:O+P):l.push(E?E+P:P),P++}}else for(var q=0;q<o-d+1;q++)l.push(String(a.dataForm.objaddr)+String(q))}for(var M=0;M<o-d+1;M++){var U=m++,R={};R.tagname=0==parseInt(d)?n.length>0?String(U).length>=n.length?v+U:v+n.substring(0,n.length-String(U).length)+U:v+U:n.length>0?U>=10?v+n.substring(0,n.length-String(U).length+1)+U:v+n.substring(0,n.length)+U:v+U,a.storeAddFormTagNameList.push({tagName:R.tagname,enable:a.dataForm.limitValueEnable,gwsn:sessionStorage.getItem("gwsn"),lowerLimit:a.dataForm.minValue,upperLimit:a.dataForm.maxValue,dataFormat:a.dataForm.limitdataFormat,ctrlMode:a.dataForm.ctrlMode,dataFormatYt:a.dataForm.dataFormatYt,dataTypeYt:a.dataForm.dataTypeYt,funcDzz:a.dataForm.funcDzz||0,funcF:a.dataForm.funcF,funcH:a.dataForm.funcH,funcYt:a.dataForm.funcYt,objAddrF:a.dataForm.objAddrF,objAddrSF:a.dataForm.objAddrSF,objAddrEF:a.dataForm.objAddrEF,objAddrH:a.dataForm.objAddrH,objAddrSH:a.dataForm.objAddrSH,objAddrEH:a.dataForm.objAddrEH,objAddrYt:a.dataForm.objAddrYt,objAddrSYt:a.dataForm.objAddrSYt,objAddrEYt:a.dataForm.objAddrEYt,wvalueFE:a.dataForm.wValueFE,wvalueFS:a.dataForm.wValueFS,wvalueFU:a.dataForm.wValueFU,wvalueHE:a.dataForm.wValueHE,wvalueHS:a.dataForm.wValueHS,wvalueHU:a.dataForm.wValueHU}),R.tagchlid=a.dataForm.tagchlid,R.devid=a.dataForm.devid,R.tagcomment=a.dataForm.tagcomment,R.alarmtype=a.dataForm.alarmtype,R.tagrwprop=a.dataForm.tagrwprop,R.tagk=a.dataForm.tagk,R.tagb=a.dataForm.tagb,R.taginitvalue=a.dataForm.taginitvalue,R.assistpararm=a.dataForm.assistpararm,R.collecttypec=a.dataForm.collecttypec,R.taggroup=Number(a.dataForm.taggroup),R.objaddr=l[M],R.datatype=a.dataForm.datatype,R.dataformat=a.dataForm.dataformat,R.enablebit=a.dataForm.enablebit?1:0,R.startbit=a.dataForm.startbit,R.endbit=a.dataForm.endbit,R.enabletransvalue=a.dataForm.enabletransvalue?1:0,R.orgreadvalue=a.dataForm.orgreadvalue,R.transvalue=a.dataForm.transvalue,R.enablealarm=a.dataForm.enablealarm?1:0,R.alarmlevel=a.dataForm.alarmlevel,R.hhenablealarm=a.dataForm.hhenablealarm?1:0,R.henablealarm=a.dataForm.henablealarm?1:0,R.lenablealarm=a.dataForm.lenablealarm?1:0,R.llenablealarm=a.dataForm.llenablealarm?1:0,R.hhalarmlimit=a.dataForm.hhalarmlimit,R.halarmlimit=a.dataForm.halarmlimit,R.lalarmlimit=a.dataForm.lalarmlimit,R.llalarmlimit=a.dataForm.llalarmlimit,R.hhalarmmsg=a.dataForm.hhalarmmsg,R.halarmmsg=a.dataForm.halarmmsg,R.lalarmmsg=a.dataForm.lalarmmsg,R.llalarmmsg=a.dataForm.llalarmmsg,R.alarmdeadarea=a.dataForm.alarmdeadarea,R.kgchangemode=a.dataForm.kgchangemode,R.kgalarmmsg=a.dataForm.kgalarmmsg,R.tagsource=0,R.gwsn=sessionStorage.getItem("gwsn"),R.enablehissave=a.dataForm.enablehissave?1:0,R.hissavetype=a.dataForm.hissavetype,R.hissaveinterval=a.dataForm.hissaveinterval,R.hiscompperc=a.dataForm.hiscompperc,R.isupload=a.isupload?1:0,R.pvflag=Number(a.selectPvFlag),R.reserve2=a.dataForm.reserve2,R.reserve3=a.tagReserve?1:0,a.paramsData.push(R)}a.dataForm.isupload=a.isupload?1:0}else a.storeAddFormTagNameList=[],a.storeAddFormTagNameList.push({tagName:a.dataForm.tagname,enable:a.dataForm.limitValueEnable,gwsn:sessionStorage.getItem("gwsn"),lowerLimit:a.dataForm.minValue,upperLimit:a.dataForm.maxValue,dataFormat:a.dataForm.limitdataFormat,ctrlMode:a.dataForm.ctrlMode,dataFormatYt:a.dataForm.dataFormatYt,dataTypeYt:a.dataForm.dataTypeYt,funcDzz:a.dataForm.funcDzz||0,funcF:a.dataForm.funcF,funcH:a.dataForm.funcH,funcYt:a.dataForm.funcYt,objAddrF:a.dataForm.objAddrF,objAddrSF:a.dataForm.objAddrSF,objAddrEF:a.dataForm.objAddrEF,objAddrH:a.dataForm.objAddrH,objAddrSH:a.dataForm.objAddrSH,objAddrEH:a.dataForm.objAddrEH,objAddrYt:a.dataForm.objAddrYt,objAddrSYt:a.dataForm.objAddrSYt,objAddrEYt:a.dataForm.objAddrEYt,wvalueFE:a.dataForm.wValueFE,wvalueFS:a.dataForm.wValueFS,wvalueFU:a.dataForm.wValueFU,wvalueHE:a.dataForm.wValueHE,wvalueHS:a.dataForm.wValueHS,wvalueHU:a.dataForm.wValueHU}),a.dataForm.gwsn=sessionStorage.getItem("gwsn"),a.dataForm.enablebit=a.dataForm.enablebit?1:0,a.dataForm.enabletransvalue=a.dataForm.enabletransvalue?1:0,a.dataForm.enablealarm=a.dataForm.enablealarm?1:0,a.dataForm.hhenablealarm=a.dataForm.hhenablealarm?1:0,a.dataForm.henablealarm=a.dataForm.henablealarm?1:0,a.dataForm.lenablealarm=a.dataForm.lenablealarm?1:0,a.dataForm.llenablealarm=a.dataForm.llenablealarm?1:0,a.dataForm.enablehissave=a.dataForm.enablehissave?1:0,a.dataForm.isupload=a.isupload?1:0,a.dataForm.reserve3=a.tagReserve?1:0,a.dataForm.objaddr=String(a.dataForm.objaddr),a.paramsData.push(b(b({},a.dataForm),{pvflag:"NaN"===parseFloat(a.dataForm.pvflag).toString()?Number(a.selectPvFlag):Number(a.dataForm.pvflag)}));r=a.paramsData}!a.dataForm.id||a.storeDevId==a.dataForm.devid||a.storeTagChlid==a.dataForm.tagchlid||a.$hasPermission("channelinfo:updateTagDevId:permission.do")?a.$http[a.dataForm.id?"put":"post"](e,r).then((function(e){var t=e.data;if(0!==t.code)return a.dataForm.objaddr=a.dataForm.objaddr,a.loading=!1,a.$message.error(t.data||t.msg);a.dataForm.id&&a.storeDevId!=a.dataForm.devid&&a.storeTagChlid!=a.dataForm.tagchlid&&a.$http.get("/info/channelinfo/updateTagDevId.do",{params:{sn:sessionStorage.getItem("gwsn"),tagIds:a.dataForm.tagid,devId:a.dataForm.devid,chlId:a.dataForm.tagchlid,type:0}}).then((function(e){var t=e.data;if(t.hasOwnProperty("code")&&0!==t.code)return a.$message.error(t.data||t.msg);a.storeDevId="",a.storeTagChlid=""})).catch((function(a){return!1})),a.loading=!1,a.dataForm.id||(a.dataForm.objaddr=r[r.length-1].objaddr,sessionStorage.setItem("dataForm",JSON.stringify(a.dataForm))),a.dataForm.objaddr=a.dataForm.objaddr,a.$nextTick((function(){var e="/tagassist/insert.do";if(a.dataForm.id)if(""==a.storeTagassistId){if(!a.$hasPermission("tagassist:insert:permission.do"))return a.loading=!1,void a.$message.warning("æš‚æ— æµ‹ç‚¹è¾…åŠ©å‚æ•°æ–°å¢žæƒé™, è¯·è”ç³»ç®¡ç†å‘˜");e="/tagassist/insert.do"}else e="/tagassist/update.do";a.$http.post(e,a.storeAddFormTagNameList).then((function(e){var t=e.data;return 0!=t.code?a.$message.error(t.data||t.msg):a.$message({message:a.$t("prompt.success"),type:"success",duration:500,onClose:function(){a.visible=!1,a.$emit("refreshDataList")}})}))}))})).catch((function(e){return a.storeDevId="",a.storeTagChlid="",a.loading=!1,a.visible=!1,a.$emit("refreshDataList")})):a.$message.warning("æš‚æ— ä¿®æ”¹æµ‹ç‚¹æ‰€å±žæµ‹ç‚¹æƒé™, è¯·è”ç³»ç®¡ç†å‘˜")}))):this.$message({showClose:!1,message:this.$t("gatewayNotObtained"),type:"warning",duration:1500,onClose:function(){return sessionStorage.clear(),a.$router.replace({path:"/tgw-tgwinfo"})}})}),1e3,{leading:!0,trailing:!1})},watch:{finallyDataType:function(a,e){this.storeLastDataType=a}}},c=v,h=(t("56fb"),t("2877")),p=Object(h["a"])(c,l,r,!1,null,"89cfdf80",null);e["default"]=p.exports}}]);