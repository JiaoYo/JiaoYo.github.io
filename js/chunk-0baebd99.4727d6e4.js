(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0baebd99"],{"2c9f":function(e,t,i){e.exports=i.p+"img/twosignal.b47d518f.png"},"3a75":function(e,t,i){"use strict";i("d88b")},"602f":function(e,t,i){e.exports=i.p+"img/wifi_yellow.ff701b80.png"},"6a9e":function(e,t,i){e.exports=i.p+"img/foursignal.e4db31dc.png"},9882:function(e,t,i){"use strict";i.r(t);i("c5f6");var n=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"aui-card--fill",attrs:{shadow:"never"}},[t("el-form",{attrs:{inline:!0,model:e.dataForm},nativeOn:{submit:function(e){e.preventDefault()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.querySearch.apply(null,arguments)}}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:18}},[t("el-form-item",[t("el-input",{attrs:{size:"small",placeholder:e.$t("gwsn.enter"),clearable:""},on:{clear:e.querySearch},model:{value:e.dataForm.gwsn,callback:function(t){e.$set(e.dataForm,"gwsn",t)},expression:"dataForm.gwsn"}})],1),e.$hasPermission("tgwinfo:select:permission.do")?t("el-form-item",[t("el-button",{attrs:{size:"small",icon:"el-icon-search"},on:{click:e.querySearch}},[e._v(e._s(e.$t("query"))+"\n                    ")])],1):e._e(),e.$hasPermission("tgwinfo:select:permission.do")?t("el-form-item",[t("el-button",{attrs:{size:"small",type:"success"},on:{click:e.getDataList}},[t("i",{staticClass:"el-icon-refresh"})])],1):e._e()],1)],1)],1),t("vxe-table",{ref:"recordTable",staticStyle:{width:"100%"},attrs:{size:"mini",border:"",resizable:"","show-overflow":"","show-header-overflow":"","highlight-hover-row":"","highlight-current-row":"","max-height":e.scrollTableHeight,loading:e.dataListLoading,"row-config":{keyField:"id"},"scroll-y":{enabled:!0}}},[t("vxe-table-column",{attrs:{field:"gwSn",title:e.$t("gwsn.number"),"header-align":"center",align:"center",fixed:""}}),t("vxe-table-column",{attrs:{field:"gwPwd",title:e.$t("gwsn.gwsnPassword"),"header-align":"center",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[t("span",[e._v(e._s(e.$t("gwsn.gwsnPassword"))+" ")]),t("span",{staticStyle:{color:"#409eff","margin-left":"5px",cursor:"pointer"},on:{click:e.handleLockChange}},[t("i",{class:e.isLock?"el-icon-lock":"el-icon-unlock"})])]},proxy:!0},{key:"default",fn:function(i){return[t("span",[e._v(e._s(i.row.gwPwd?e.isLock?"••••••":i.row.gwPwd:""))])]}}])}),t("vxe-table-column",{attrs:{field:"gwLastTime",title:e.$t("gwsn.gwsnLastTime"),"header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",{class:1===i.row.isOut?"redColor":""},[e._v("\n                    "+e._s(i.row.gwLastTime?i.row.gwLastTime:""))])]}}])}),t("vxe-table-column",{attrs:{field:"gwDesc",title:e.$t("gwsn.gwsnNote"),"header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",[e._v(e._s(i.row.gwDesc?i.row.gwDesc:""))])]}}])}),t("vxe-table-column",{attrs:{field:"gwBindSimIccid",title:"ICCID","header-align":"center",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(i){return[i.row.gwBindSimIccid?t("span",{staticStyle:{cursor:"pointer",color:"#45c2b5"},on:{click:function(t){return e.handleICCID(i.$index,i.row)}}},[e._v(e._s(i.row.gwBindSimIccid))]):e._e()]}}])}),t("vxe-table-column",{attrs:{field:"mac",title:"MAC","header-align":"center",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",[e._v(e._s(i.row.mac||""))])]}}])}),t("vxe-table-column",{attrs:{field:"gwSimCsq",title:e.$t("gwsn.signalValue"),"header-align":"center",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(n){return[n.row.gwSimCsq?t("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",height:"20px","line-height":"20px"}},[0==Number(n.row.gwSimCsq)?t("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:i("a90d"),alt:""}}):e._e(),Number(n.row.gwSimCsq)>0&&Number(n.row.gwSimCsq)<10?t("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:i("cdf7"),alt:""}}):e._e(),Number(n.row.gwSimCsq)>=10&&Number(n.row.gwSimCsq)<15?t("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:i("2c9f"),alt:""}}):e._e(),Number(n.row.gwSimCsq)>=15&&Number(n.row.gwSimCsq)<20?t("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:i("f27f"),alt:""}}):e._e(),Number(n.row.gwSimCsq)>=20&&Number(n.row.gwSimCsq)<25?t("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:i("6a9e"),alt:""}}):e._e(),Number(n.row.gwSimCsq)>=25&&Number(n.row.gwSimCsq)<=40?t("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:i("ee58"),alt:""}}):e._e(),254==Number(n.row.gwSimCsq)&&Number(n.row.rev2)<=50?t("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:i("f123c"),alt:""}}):e._e(),254==Number(n.row.gwSimCsq)&&Number(n.row.rev2)>50&&Number(n.row.rev2)<=80?t("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:i("602f"),alt:""}}):e._e(),254==Number(n.row.gwSimCsq)&&Number(n.row.rev2)>80?t("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:i("ed94"),alt:""}}):e._e(),255==Number(n.row.gwSimCsq)?t("img",{attrs:{src:i("e310"),alt:""}}):e._e(),t("span",{staticStyle:{"margin-left":"5px",display:"inline-block"}},[e._v(e._s(255==Number(n.row.gwSimCsq)?e.$t("gwsn.internet"):254==Number(n.row.gwSimCsq)?n.row.rev2:n.row.gwSimCsq))])]):t("div")]}}])}),t("vxe-table-column",{attrs:{field:"gwModel",title:e.$t("gwsn.gwsnModel"),"header-align":"center",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",[e._v(e._s(i.row.gwModel?i.row.gwModel:""))])]}}])}),t("vxe-table-column",{attrs:{field:"gwHardV",title:e.$t("gwsn.gwsnHardv"),"header-align":"center",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",[e._v(e._s(i.row.gwHardV?i.row.gwHardV:""))])]}}])}),t("vxe-table-column",{attrs:{field:"gwSoftV",title:e.$t("gwsn.gwsnsoftV"),"header-align":"center",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(i){return[t("span",[e._v(e._s(i.row.gwSoftV?i.row.gwSoftV:""))])]}}])})],1),t("vxe-pager",{attrs:{perfect:"",size:"mini","current-page":e.page,"page-size":e.limit,"page-sizes":e.pageSizes,total:e.total,layouts:["PrevPage","JumpNumber","NextPage","FullJump","Sizes","Total"]},on:{"page-change":e.handlePageChange}})],1)},a=[],r=(i("a481"),i("28a5"),i("6b54"),i("b047")),s=i.n(r),o={name:"tgwinfolistGwsn",data:function(){return{page:1,limit:50,total:0,isLock:!1,dataListLoading:!1,dataList:[],dataForm:{gwsn:""},pageSizes:[50,100,200,500,1e3],scrollTableHeight:window.innerHeight-220-53}},methods:{pageSizeChangeHandle:function(e){this.page=1,this.limit=e,this.getDataList()},pageCurrentChangeHandle:function(e){this.page=e,this.getDataList()},handlePageChange:function(e){var t=e.currentPage,i=e.pageSize;this.page=t,this.limit=i,this.getDataList()},querySearch:function(){var e=this;this.page=1,this.$nextTick((function(){e.getDataList()}))},toNum:function(e){e=e.toString();for(var t=e.split("."),i=["","0","00","000","0000"],n=i.reverse(),a=0;a<t.length;a++){var r=t[a].length;t[a]=n[r]+t[a]}var s=t.join("");return s},checkPlugin:function(e,t){e=this.toNum(e),t=this.toNum(t);return e==t||e>t},getDataList:s()((function(){var e=this,t={page:this.page,limit:this.limit};this.dataForm.gwsn&&(t["gwsn"]=this.dataForm.gwsn.replace(/_/g,"\\_").replace(/%/g,"\\%")),this.total=0,this.dataList=[],this.$hasPermission("tgwinfo:select:permission.do")?(this.dataListLoading=!0,this.$http.get("/info/tgwinfo/tgwinfolist",{params:t}).then((function(i){var n=i.data;if(n.hasOwnProperty("code")&&0!=n.code)return e.total=0,e.dataList=[],e.$refs.recordTable.loadData(e.dataList).then((function(){e.dataListLoading=!1})).finally((function(){return!1})),e.$message.error(n.data||n.msg);if(n.list.length>0){var a=new XMLHttpRequest;a||(a=new ActiveXObject("Microsoft.XMLHTTP")),a.open("HEAD",location.href,!1),a.send();var r=new Date(a.getResponseHeader("Date"));e.dataList=n.list,e.page=t.page,e.total=Number(n.total);for(var s=0;s<n.list.length;s++){var o=n.list[s];o.gwSoftV?e.checkPlugin(o.gwSoftV.substring(1,o.gwSoftV.length),"1.2.78")&&o.lineStatus?2==o.lineStatus||(new Date(r).getTime()-new Date(o.gwLastTime).getTime())/1e3/60>7?e.$set(o,"isOut",1):e.$set(o,"isOut",0):(new Date(r).getTime()-new Date(o.gwLastTime).getTime())/1e3/60>7?e.$set(o,"isOut",1):e.$set(o,"isOut",0):e.$set(o,"isOut",1)}e.$refs.recordTable.loadData(e.dataList).then((function(){e.dataListLoading=!1})).finally((function(){return!1}))}else e.total=0,e.dataList=[],e.$refs.recordTable.loadData(e.dataList).then((function(){e.dataListLoading=!1})).finally((function(){return!1}));var l=e;if(document.getElementsByClassName("vxe-pager--goto-text").length>0){var c=document.createEvent("HTMLEvents"),g=document.getElementsByClassName("vxe-input--inner")[0];document.getElementsByClassName("vxe-pager--goto-text")[0].innerHTML=l.$t("goto"),document.getElementsByClassName("vxe-pager--classifier-text")[0].innerHTML=l.$t("page"),g.value=parseInt(g.value),c.initEvent("input",!0,!0),g.dispatchEvent(c),document.getElementsByClassName("vxe-pager--total")[0].innerHTML=l.$t("total")+" "+l.total+" "+l.$t("records"),document.querySelector(".vxe-input--inner").addEventListener("click",(function(){for(var e=document.querySelectorAll(".vxe-select-option"),t=0;t<e.length;t++){var i=e[t];i.innerHTML=l.pageSizes[t]+" "+l.$t("articlePage")}}))}})).catch((function(t){return e.dataListLoading=!1,!1}))):this.$message.warning("暂无网关状态查询权限, 请联系管理员")}),1e3,{leading:!0,trailing:!1}),getRowKey:function(e){return e.id},handleLockChange:function(){this.isLock=!this.isLock},renderHeader:function(e,t){var i=this,n=t.column;return e("span",[e("span",n.label),e("i",{class:this.isLock?"el-icon-lock":"el-icon-unlock",style:"color:#409eff;margin-left:5px;cursor: pointer",on:{click:function(){i.isLock=!i.isLock}}})])},handleICCID:function(e,t){var i=t.gwBindSimIccid;this.$router.push({path:"/cardmanage-card",query:{iccid:i}})}},mounted:function(){var e=this;window.onresize=function(){return function(){e.scrollTableHeight=window.innerHeight-220-53}()}},activated:function(){this.getDataList()}},l=o,c=(i("3a75"),i("2877")),g=Object(c["a"])(l,n,a,!1,null,"0548e1f6",null);t["default"]=g.exports},a90d:function(e,t,i){e.exports=i.p+"img/nosignal.269dcdc3.png"},cdf7:function(e,t,i){e.exports=i.p+"img/onesignal.882b8943.png"},d88b:function(e,t,i){},e310:function(e,t,i){e.exports=i.p+"img/internet.a7e2d66c.png"},ed94:function(e,t,i){e.exports=i.p+"img/wifi_green.2de3b80e.png"},ee58:function(e,t,i){e.exports=i.p+"img/fullsignal.38355690.png"},f123c:function(e,t,i){e.exports=i.p+"img/wifi_red.55269180.png"},f27f:function(e,t,i){e.exports=i.p+"img/threesignal.77a331f7.png"}}]);