(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3593ccb9"],{"4ffd":function(e,t,n){e.exports=n.p+"img/logo.d2921761.png"},"690a":function(e,t,n){e.exports=n.p+"img/avatar.c9d37713.png"},"7f94":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],class:["aui-wrapper",{"aui-sidebar--fold":e.$store.state.sidebarFold}],attrs:{"element-loading-text":e.$t("loading")}},[e.loading?e._e():[t("main-navbar"),t("main-sidebar"),t("div",{staticClass:"aui-content__wrapper"},[e.$store.state.contentIsNeedRefresh?e._e():t("main-content")],1)]],2)},r=[],s=(n("8e6e"),n("456d"),n("ade3")),i=(n("7f7f"),n("ac6a"),n("5df3"),function(){var e=this,t=e._self._c;return t("nav",{staticClass:"aui-navbar",class:"aui-navbar--".concat(e.$store.state.navbarLayoutType)},[t("div",{staticClass:"aui-navbar__header"},[t("h1",{staticClass:"aui-navbar__brand",staticStyle:{padding:"5px","box-sizing":"border-box"},on:{click:function(t){return e.$router.push({name:"tgw-tgwinfo"})}}},[t("img",{staticClass:"aui-navbar__brand-lg",staticStyle:{width:"auto",height:"auto","max-height":"100%"},attrs:{src:e.sitePicture,alt:""}}),t("img",{staticClass:"aui-navbar__brand-mini",staticStyle:{width:"100%",height:"auto",padding:"5px","box-sizing":"border-box","max-height":"100%"},attrs:{src:e.sitePicture,alt:""}})])]),t("div",{staticClass:"aui-navbar__body"},[t("el-menu",{staticClass:"aui-navbar__menu mr-auto",attrs:{mode:"horizontal"}},[t("el-menu-item",{attrs:{index:"1"},on:{click:function(t){e.$store.state.sidebarFold=!e.$store.state.sidebarFold}}},[t("svg",{staticClass:"icon-svg aui-navbar__icon-menu aui-navbar__icon-menu--switch",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#icon-outdent"}})])]),t("el-menu-item",{attrs:{index:"2"},on:{click:function(t){return e.$router.push({name:"tgw-tgwinfo"})}}},[t("a",{staticStyle:{"font-size":"18px"},attrs:{href:"javascript:"}},[e._v(e._s(e.$t("brand.lg")))])])],1),t("el-menu",{staticClass:"aui-navbar__menu",attrs:{mode:"horizontal"}},[t("el-menu-item",{attrs:{index:"1"},on:{click:function(t){return e.refresh()}}},[t("svg",{staticClass:"icon-svg aui-navbar__icon-menu aui-navbar__icon-menu--refresh",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#icon-sync"}})])]),t("el-menu-item",{attrs:{index:"2"}},[t("el-dropdown",{attrs:{placement:"bottom","show-timeout":0}},[t("el-button",{attrs:{size:"mini"}},[e._v(e._s(e.i18nMessages[e.$i18n.locale]._lang))]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.i18nMessages,(function(n,a){return t("el-dropdown-item",{key:a,nativeOn:{click:function(t){e.$i18n.locale=a}}},[e._v(e._s(n._lang)+" ")])})),1)],1)],1),t("el-menu-item",{attrs:{index:"3"},on:{click:function(t){return e.fullscreenHandle()}}},[t("svg",{staticClass:"icon-svg aui-navbar__icon-menu",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#icon-fullscreen"}})])]),t("el-menu-item",{staticClass:"aui-navbar__avatar",attrs:{index:"4"}},[t("el-dropdown",{attrs:{placement:"bottom","show-timeout":0}},[t("span",{staticClass:"el-dropdown-link"},[t("img",{attrs:{src:n("690a")}}),t("span",[e._v(e._s(e.$store.state.user.name))]),t("i",{staticClass:"el-icon-arrow-down"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.$hasPermission("user:update:permission.do")?t("el-dropdown-item",{nativeOn:{click:function(t){return e.updatePasswordHandle()}}},[e._v("\n                            "+e._s(e.$t("updatePassword.title"))+"\n                        ")]):e._e(),t("el-dropdown-item",{nativeOn:{click:function(t){return e.logoutHandle()}}},[e._v(e._s(e.$t("logout")))])],1)],1)],1)],1)],1),e.updatePassowrdVisible?t("update-password",{ref:"updatePassowrd"}):e._e()],1)}),o=[],l=(n("a481"),n("12cb")),c=n("93bf"),u=n.n(c),d=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{visible:e.visible,title:e.$t("updatePassword.title"),"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":!0},on:{"update:visible":function(t){e.visible=t}}},[t("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"120px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.dataFormSubmitHandle()}}},[t("el-form-item",{attrs:{label:e.$t("updatePassword.username")}},[t("span",[e._v(e._s(e.$store.state.user.name))])]),t("el-form-item",{attrs:{prop:"pwd",label:e.$t("updatePassword.password")}},[t("el-input",{attrs:{type:"password",placeholder:e.$t("updatePassword.password"),"show-password":""},model:{value:e.dataForm.pwd,callback:function(t){e.$set(e.dataForm,"pwd",t)},expression:"dataForm.pwd"}})],1),t("el-form-item",{attrs:{prop:"newPwd",label:e.$t("updatePassword.newPassword")}},[t("el-input",{attrs:{minlength:6,type:"password",placeholder:e.$t("updatePassword.newPassword"),"show-password":""},model:{value:e.dataForm.newPwd,callback:function(t){e.$set(e.dataForm,"newPwd",t)},expression:"dataForm.newPwd"}})],1),t("el-form-item",{attrs:{prop:"comfirmPassword",label:e.$t("updatePassword.comfirmPassword")}},[t("el-input",{attrs:{type:"password",placeholder:e.$t("updatePassword.comfirmPassword"),"show-password":""},model:{value:e.dataForm.comfirmPassword,callback:function(t){e.$set(e.dataForm,"comfirmPassword",t)},expression:"dataForm.comfirmPassword"}})],1)],1),t("template",{slot:"footer"},[t("el-button",{on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.$t("cancel")))]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmitHandle()}}},[e._v(e._s(e.$t("confirm")))])],1)],2)},m=[],f=n("4328"),p=n.n(f),b=n("b047"),h=n.n(b),w=n("ed08"),g={data:function(){return{visible:!1,dataForm:{username:this.$store.state.user.name,pwd:"",newPwd:"",comfirmPassword:""}}},computed:{dataRule:function(){var e=this,t=function(t,n,a){if(e.dataForm.newPwd!==n)return a(new Error(e.$t("updatePassword.validate.comfirmPassword")));a()};return{pwd:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],newPwd:[{required:!0,message:this.$t("validate.required"),trigger:"change"},{min:6,message:"密码不能低于6位,请输入至少6位的密码",trigger:"change"}],comfirmPassword:[{required:!0,message:this.$t("validate.required"),trigger:"change"},{min:6,message:"密码不能低于6位,请输入至少6位的密码",trigger:"change"},{validator:t,trigger:"change"}]}}},methods:{init:function(){var e=this;this.visible=!0,this.$nextTick((function(){e.$refs["dataForm"].resetFields()}))},dataFormSubmitHandle:h()((function(){var e=this;this.$refs["dataForm"].validate((function(t){if(!t)return!1;e.$http.post("/sys/user/passwords",p.a.stringify(e.dataForm)).then((function(t){var n=t.data;if(0!=n.code)return e.$message.error(n.data||n.msg);e.$message({message:e.$t("prompt.success"),type:"success",duration:500,onClose:function(){e.visible=!1,Object(w["b"])(),e.$router.replace({name:"login"})}})})).catch((function(e){return!1}))}))}),1e3,{leading:!0,trailing:!1})}},v=g,$=n("2877"),_=Object($["a"])(v,d,m,!1,null,null,null),O=_.exports,y=n("4ffd"),k=n.n(y),P={inject:["refresh"],data:function(){return{sitePicture:k.a,i18nMessages:l["b"],updatePassowrdVisible:!1}},components:{UpdatePassword:O},methods:{hasMenuUrl:w["i"],handleInstruction:function(){-1!=window.location.origin.indexOf("localhost")?window.open("https://dingiiot.com/help-doc/","_blank"):window.open(window.location.origin+"/help-doc/","_blank")},fullscreenHandle:function(){if(!u.a.enabled)return this.$message({message:this.$t("fullscreen.prompt"),type:"warning",duration:500});u.a.toggle()},updatePasswordHandle:function(){var e=this;this.updatePassowrdVisible=!0,this.$nextTick((function(){e.$refs.updatePassowrd.init()}))},logoutHandle:function(){var e=this;this.$confirm(this.$t("prompt.info",{handle:this.$t("logout")}),this.$t("prompt.title"),{confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel"),type:"warning"}).then((function(){e.$http.post("/logoutNews").then((function(t){var n=t.data;if(0!==n.code)return e.$message.error(n.data||n.msg);localStorage.removeItem("creator"),localStorage.removeItem("superAdmin"),localStorage.removeItem("permissionsDingiiotCom"),localStorage.removeItem("pythonNewWindow");for(var a=0;a<localStorage.length;a++){var r=localStorage.key(a);-1==r.indexOf("offLineStatus")&&-1==r.indexOf("AMap")&&-1==r.indexOf("kt")&&-1==r.indexOf("BMap")||localStorage.removeItem(r)}Object(w["b"])(),e.$router.replace({name:"login"}).catch((function(e){return!1}))})).catch((function(e){return!1}))})).catch((function(e){}))}}},x=P,F=Object($["a"])(x,i,o,!1,null,null,null),S=F.exports,T=function(){var e=this,t=e._self._c;return t("aside",{class:["aui-sidebar","aui-sidebar--".concat(e.$store.state.sidebarLayoutSkin)]},[t("div",{staticClass:"aui-sidebar__inner"},[t("el-menu",{staticClass:"aui-sidebar__menu",attrs:{"default-active":e.$store.state.sidebarMenuActiveName,collapse:e.$store.state.sidebarFold,"unique-opened":!0,collapseTransition:!1}},e._l(e.$store.state.sidebarMenuList,(function(e){return t("sub-menu",{key:e.id,attrs:{menu:e}})})),1)],1)])},C=[],j=function(){var e=this,t=e._self._c;return e.menu.children&&e.menu.children.length>=1?t("el-submenu",{attrs:{index:e.menu.id,"popper-append-to-body":!1}},[t("template",{slot:"title"},[t("svg",{staticClass:"icon-svg aui-sidebar__menu-icon",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#".concat(e.menu.icon)}})]),t("span",[e._v(e._s(e.menu.name))])]),e._l(e.menu.children,(function(e){return t("sub-menu",{key:e.id,attrs:{menu:e}})}))],2):t("el-menu-item",{attrs:{index:e.menu.id,hidden:"cardmanage/cardDetail"===e.menu.url},on:{click:function(t){return e.gotoRouteHandle(e.menu.id)}}},[t("svg",{staticClass:"icon-svg aui-sidebar__menu-icon",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#".concat(e.menu.icon)}})]),t("span",[e._v(e._s(e.menu.name))])])},E=[],I={name:"sub-menu",props:{menu:{type:Object,required:!0}},components:{SubMenu:A},methods:{gotoRouteHandle:function(e){var t=window.SITE_CONFIG["dynamicMenuRoutes"].filter((function(t){return t.meta.menuId===e}))[0];t&&this.$router.push({name:t.name})}}},H=I,N=Object($["a"])(H,j,E,!1,null,null,null),A=N.exports,R={data:function(){return{}},components:{SubMenu:A},created:function(){this.$store.state.sidebarMenuList=window.SITE_CONFIG["menuList"]}},q=R,M=Object($["a"])(q,T,C,!1,null,null,null),L=M.exports,z=function(){var e=this,t=e._self._c;return t("main",{class:["aui-content",{"aui-content--tabs":e.$route.meta.isTab}]},[e.$route.meta.isTab?[t("el-dropdown",{staticClass:"aui-content--tabs-tools"},[t("i",{staticClass:"el-icon-arrow-down"}),t("el-dropdown-menu",{attrs:{slot:"dropdown","show-timeout":0},slot:"dropdown"},[t("el-dropdown-item",{nativeOn:{click:function(t){return e.tabRemoveHandle(e.$store.state.contentTabsActiveName)}}},[e._v(e._s(e.$t("contentTabs.closeCurrent")))]),t("el-dropdown-item",{nativeOn:{click:function(t){return e.tabsCloseOtherHandle()}}},[e._v(e._s(e.$t("contentTabs.closeOther")))]),t("el-dropdown-item",{nativeOn:{click:function(t){return e.tabsCloseAllHandle()}}},[e._v(e._s(e.$t("contentTabs.closeAll")))])],1)],1),t("el-tabs",{on:{"tab-click":e.tabSelectedHandle,"tab-remove":e.tabRemoveHandle},model:{value:e.$store.state.contentTabsActiveName,callback:function(t){e.$set(e.$store.state,"contentTabsActiveName",t)},expression:"$store.state.contentTabsActiveName"}},e._l(e.$store.state.contentTabs,(function(n){return t("el-tab-pane",{key:n.name,class:{"is-iframe":e.tabIsIframe(n.iframeURL)},attrs:{name:n.name,label:n.title,closable:"tgw-tgwinfo"!==n.name}},["tgw-tgwinfo"===n.name?[t("div",{staticStyle:{"text-align":"center"},attrs:{slot:"label"},slot:"label"},[t("svg",{staticClass:"icon-svg aui-content--tabs-icon-nav",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#icon-home"}})]),t("span",{staticStyle:{"margin-left":"5px","vertical-align":"middle"}},[e._v("网关列表")])])]:e._e(),e.tabIsIframe(n.iframeURL)?t("iframe",{attrs:{src:n.iframeURL,width:"100%",height:"100%",frameborder:"0",scrolling:"yes"}}):t("keep-alive",[n.name===e.$store.state.contentTabsActiveName?t("router-view"):e._e()],1)],2)})),1)]:[t("keep-alive",[t("router-view")],1)]],2)},D=[],U=n("61f7");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G={data:function(){return{}},methods:{tabIsIframe:function(e){return Object(U["c"])(e)},tabSelectedHandle:function(e){e=this.$store.state.contentTabs.filter((function(t){return t.name===e.name}))[0],e&&this.$router.push({name:e.name,params:W({},e.params),query:W({},e.query)})},tabRemoveHandle:function(e){return"tgw-tgwinfo"!==e&&(this.$store.state.contentTabs=this.$store.state.contentTabs.filter((function(t){return t.name!==e})),this.$store.state.contentTabs.length<=0?(this.$store.state.sidebarMenuActiveName=this.$store.state.contentTabsActiveName="tgw-tgwinfo",!1):void(e===this.$store.state.contentTabsActiveName&&this.$router.push({name:this.$store.state.contentTabs[this.$store.state.contentTabs.length-1].name})))},tabsCloseOtherHandle:function(){this.$store.state.contentTabs=this.$store.state.contentTabs.filter((function(e){return"tgw-tgwinfo"===e.name})),this.$router.push({name:"tgw-tgwinfo"})},tabsCloseAllHandle:function(){this.$store.state.contentTabs=this.$store.state.contentTabs.filter((function(e){return"tgw-tgwinfo"===e.name})),this.$router.push({name:"tgw-tgwinfo"})}}},V=G,J=Object($["a"])(V,z,D,!1,null,null,null),K=J.exports;function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X={provide:function(){return{refresh:function(){var e=this;this.$store.state.contentIsNeedRefresh=!0,this.$nextTick((function(){e.$store.state.contentIsNeedRefresh=!1}))}}},data:function(){return{loading:!0}},components:{MainNavbar:S,MainSidebar:L,MainContent:K},watch:{$route:"routeHandle"},created:function(){var e=this;this.windowResizeHandle(),this.routeHandle(this.$route),Promise.all([this.getUserInfo(),this.getPermissions()]).then((function(){e.loading=!1}))},methods:{windowResizeHandle:function(){var e=this;this.$store.state.sidebarFold=document.documentElement["clientWidth"]<=1600||!1,window.addEventListener("resize",h()((function(){e.$store.state.sidebarFold=document.documentElement["clientWidth"]<=1600||!1}),150))},routeHandle:function(e){if(!e.meta.isTab)return!1;var t=this.$store.state.contentTabs.filter((function(t){return t.name===e.name}))[0];t||(t=Q(Q(Q({},window.SITE_CONFIG["contentTabDefault"]),e.meta),{},{name:e.name,params:Q({},e.params),query:Q({},e.query)}),this.$store.state.contentTabs=this.$store.state.contentTabs.concat(t)),this.$store.state.sidebarMenuActiveName=t.menuId||"1100",this.$store.state.contentTabsActiveName=t.name},getUserInfo:function(){var e=this;return this.$http.get("/sys/user/info").then((function(t){var n=t.data;if(0!==n.code)return e.$message.error(n.data||n.msg);e.$store.state.user.id=n.data.id,e.$store.state.user.pod=n.data.pod,e.$store.state.user.name=n.data.username,e.$store.state.user.deptId=n.data.deptId,e.$store.state.user.superAdmin=n.data.superAdmin})).catch((function(e){return!1}))},getPermissions:function(){var e=this;return this.$http.get("/sys/menu/permissions").then((function(t){var n=t.data;if(0!=n.code)return e.$message.error(n.data||n.msg);window.SITE_CONFIG["permissions"]=n.data,localStorage.setItem("permissionsDingiiotCom",JSON.stringify(n.data))})).catch((function(e){return!1}))}}},Z=X,ee=Object($["a"])(Z,a,r,!1,null,null,null);t["default"]=ee.exports},"93bf":function(e,t,n){
/*!
* screenfull
* v3.3.3 - 2018-09-04
* (c) Sindre Sorhus; MIT License
*/
(function(){"use strict";var t="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},n=e.exports,a="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a=0,r=n.length,s={};a<r;a++)if(e=n[a],e&&e[1]in t){for(a=0;a<e.length;a++)s[n[0][a]]=e[a];return s}return!1}(),s={change:r.fullscreenchange,error:r.fullscreenerror},i={request:function(e){var n=r.requestFullscreen;e=e||t.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[n]():e[n](a?Element.ALLOW_KEYBOARD_INPUT:{})},exit:function(){t[r.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var a=s[e];a&&t.addEventListener(a,n,!1)},off:function(e,n){var a=s[e];a&&t.removeEventListener(a,n,!1)},raw:r};r?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=i:window.screenfull=i):n?e.exports=!1:window.screenfull=!1})()}}]);