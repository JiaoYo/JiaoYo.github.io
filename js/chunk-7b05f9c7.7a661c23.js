(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b05f9c7","chunk-2d20ebf6"],{"51c6":function(e,t,i){"use strict";i("d0c1")},"83cc":function(e,t,i){"use strict";(function(e){i("7514"),i("c5f6"),i("386d"),i("ac6a"),i("5df3"),i("4917"),i("3b2b"),i("4504"),i("6b54"),i("a481"),i("28a5");var t=i("53ca");(function(i,r){"object"===Object(t["a"])(e)&&"object"===Object(t["a"])(e.exports)?e.exports=i.document?r(i,!0):function(e){if(!e.document)throw new Error("EZUIPlayer requires a window with a document");return r(e)}:r(i)})("undefined"!==typeof window?window:void 0,(function(i,r){!function(i,r){function n(e,t){var i=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",r.insertBefore(i.lastChild,r.firstChild)}function o(){var e=w.elements;return"string"==typeof e?e.split(" "):e}function a(e,t){var i=w.elements;"string"!=typeof i&&(i=i.join(" ")),"string"!=typeof e&&(e=e.join(" ")),w.elements=i+" "+e,p(t)}function s(e){var t=b[e[y]];return t||(t={},S++,e[y]=S,b[S]=t),t}function l(e,t,i){return t||(t=r),h?t.createElement(e):(i||(i=s(t)),n=i.cache[e]?i.cache[e].cloneNode():v.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),!n.canHaveChildren||g.test(e)||n.tagUrn?n:i.frag.appendChild(n));var n}function c(e,t){if(e||(e=r),h)return e.createDocumentFragment();t=t||s(e);for(var i=t.frag.cloneNode(),n=0,a=o(),l=a.length;l>n;n++)i.createElement(a[n]);return i}function d(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(i){return w.shivMethods?l(i,e,t):t.createElem(i)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+o().join().replace(/[\w\-:]+/g,(function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'}))+");return n}")(w,t.frag)}function p(e){e||(e=r);var t=s(e);return!w.shivCSS||u||t.hasCSS||(t.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),h||d(e,t),e}var u,h,f="3.7.3",m=i.html5||{},g=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,v=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,y="_html5shiv",S=0,b={};!function(){try{var e=r.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,h=1==e.childNodes.length||function(){r.createElement("a");var e=r.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){u=!0,h=!0}}();var w={elements:m.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:f,shivCSS:!1!==m.shivCSS,supportsUnknownElements:h,shivMethods:!1!==m.shivMethods,type:"default",shivDocument:p,createElement:l,createDocumentFragment:c,addElements:a};i.html5=w,p(r),"object"==Object(t["a"])(e)&&e.exports&&(e.exports=w)}("undefined"!=typeof i?i:this,document),
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
"document"in self&&("classList"in document.createElement("_")?function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var i,r=arguments.length;for(i=0;i<r;i++)e=arguments[i],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)===!t?t:i.call(this,e)}}e=null}():function(e){if("Element"in e){var t="classList",i="prototype",r=e.Element[i],n=Object,o=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[i].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(e,t)},c=function(e){for(var t=o.call(e.getAttribute("class")||""),i=t?t.split(/\s+/):[],r=0,n=i.length;r<n;r++)this.push(i[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},d=c[i]=[],p=function(){return new c(this)};if(s[i]=Error[i],d.item=function(e){return this[e]||null},d.contains=function(e){return e+="",-1!==l(this,e)},d.add=function(){var e,t=arguments,i=0,r=t.length,n=!1;do{e=t[i]+"",-1===l(this,e)&&(this.push(e),n=!0)}while(++i<r);n&&this._updateClassName()},d.remove=function(){var e,t,i=arguments,r=0,n=i.length,o=!1;do{e=i[r]+"",t=l(this,e);while(-1!==t)this.splice(t,1),o=!0,t=l(this,e)}while(++r<n);o&&this._updateClassName()},d.toggle=function(e,t){e+="";var i=this.contains(e),r=i?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!i},d.toString=function(){return this.join(" ")},n.defineProperty){var u={get:p,enumerable:!0,configurable:!0};try{n.defineProperty(r,t,u)}catch(h){-2146823252===h.number&&(u.enumerable=!1,n.defineProperty(r,t,u))}}else n[i].__defineGetter__&&r.__defineGetter__(t,p)}}(self)),Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[i]:("00"+t[i]).substr((""+t[i]).length)));return e};var n="https://open.ys7.com",o="https://log.ys7.com/statistics.do",a=n+"/sdk/js/2.0/js/ckplayer/ckplayer.js",s=n+"/sdk/js/2.0/js/ckplayer/ckplayer.swf",l=n+"/sdk/js/2.0/js/ckplayer/m3u8.swf",c=n+"/sdk/js/2.0/js/flv.min.js",d=n+"/sdk/js/2.0/js/hls.min.js",p=n+"/sdk/js/2.0/js/jsmpeg.min.js",u="https:"===i.location.protocol,h=!!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|ios|SymbianOS)/i),f=document.createElement("video"),m=!!f.canPlayType&&!!i.addEventListener,g=m&&f.canPlayType("application/vnd.apple.mpegURL"),v=!1,y=(new Date).getTime(),S="open_netstream_localinfo",b="open_netstream_play_main",w="open_ezuikit_localinfo",j="open_ezuikit_performance",E="";function P(e){var t=i.location.protocol+"//"+i.location.host,r={Ver:"v.2.6.5",PlatAddr:t,ExterVer:"Ez.2.6.5",OpId:L(),CltType:102,AppId:E,StartTime:(new Date).Format("yyyy-MM-dd hh:mm:ss.S"),OS:navigator.platform};for(var n in e)r[n]=e[n];var a=[];for(var s in r)a.push(s+"="+r[s]);var l="?"+a.join("&"),c=new Image;c.src=o+l}function T(e){var t=i.location.protocol+"//"+i.location.host,r={version:"v.2.6.5",plate_addr:t,appId:E,st:(new Date).getTime()};for(var n in e)r[n]=e[n];var a=[];for(var s in r)a.push(s+"="+r[s]);var l="?"+a.join("&"),c=new Image;c.src=o+l}var k=/^rtmp/;function x(e){return i.getComputedStyle?i.getComputedStyle(e,null):e.currentStyle}function O(e,t){var i=document.createElement("script");i.setAttribute("src",e),i.onload=t,document.getElementsByTagName("head")[0].appendChild(i)}function I(e,t,i,r,n,o){var a=e,s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState&&200==s.status)if(_(s.responseText)){var e=JSON.parse(s.responseText);n(e)}else n(s.responseText)},s.open(t,a,!0);var l=new FormData;for(var c in i)l.append(c,i[c]);s.send(l)}function C(e,t){var i=new RegExp("(\\?|#|&)"+e+"=(.*?)(#|&|$)"),r=(t||location.href).match(i);return decodeURIComponent(r?r[2]:"")}function N(e){return!!e&&("object"===Object(t["a"])(e)||"function"===typeof e)&&"function"===typeof e.then}function L(){for(var e=[],t="0123456789abcdef",i=0;i<36;i++)e[i]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var r=e.join("");return r}function D(){var e={},t=navigator.userAgent.toLowerCase(),i=/(msie|firefox|chrome|opera|version).*?([\d.]+)/,r=t.match(i);try{e.browser=r[1].replace(/version/,"'safari"),e.ver=r[2]}catch(n){}return e}function _(e){if("string"==typeof e)try{var i=JSON.parse(e);return!("object"!=Object(t["a"])(i)||!i)}catch(r){return!1}}function F(e,t){var i=t.parentNode;i.lastChild==t?i.appendChild(e):i.insertBefore(e,t.nextSibling)}var A=function(e){if(!m)throw new Error("不支持ie8等低版本浏览器");if(this.opt={},this.opt.sources=[],this.handlers={},"object"===Object(t["a"])(e)&&e.hasOwnProperty("decoderPath")){"undefined"===typeof e.audioId&&(e["audioId"]=0),this.playParams=e;var i=document.createElement("style");if(document.getElementsByTagName("head")[0].appendChild(i),i.innerHTML=".draw-window {border: none!important}","string"!==typeof e.decoderPath||"undefined"===typeof e.decoderPath)throw new Error("EZUIDecoder requires the path of decoder");if("string"!==typeof e.id||"undefined"===typeof e.id)throw new Error("EZUIDecoder requires parameter id");if("string"!==typeof e.url||"undefined"===typeof e.url)throw new Error("EZUIDecoder requires parameter url");this.loadingStart=function(){var t=document.createElement("style");if(document.getElementsByTagName("head")[0].appendChild(t),t.innerHTML="@keyframes antRotate {to {transform: rotate(400deg);transform-origin:50% 50%;}} .loading {display: inline-block;z-index: 1000;-webkit-animation: antRotate 1s infinite linear;animation: antRotate 1s infinite linear;}",e&&e.id){var i=e.id,r=document.getElementById(i),n=r.offsetWidth,o=r.offsetHeight||e.height||400,a=r.offsetTop,s=r.offsetLeft;document.getElementById("loading-id-0")&&document.getElementById("loading-id-0").parentNode.removeChild(document.getElementById("loading-id-0"));var l=document.createElement("div");l.setAttribute("id","loading-id-0");var c="position:absolute;outline:none;";c+="width: 0px;",c+="height: 0px;",c+="top:"+a+"px;",c+="left:"+s+"px;",l.setAttribute("style",c);var d=document.getElementById("loading-id-0");l.style.height=o,l.setAttribute("class","loading-container"),F(l,r);for(var p,u,h,f=e.splitBasis||1,m=e.url.split(",").length,g=function(){function t(e,t,i,r){var n=parseInt(r/i,10)*(e/i),o=r%i*(t/i);return{top:n,left:o}}d=document.createElement("div"),p=document.createElement("div"),d.setAttribute("class","loading-item"),d.setAttribute("id","loading-item-"+v),c="display:inline-flex;flex-direction:column;justify-content:center;align-items: center;width:"+n/f+"px;height:"+o/f+"px;outline:none;vertical-align: top;position:absolute;",c+="left:"+t(o,n,f,v).left+"px;",c+="top:"+t(o,n,f,v).top+"px;",d.setAttribute("style",c),u=document.createElement("div"),p.innerHTML="",p.style.color="#fff",u.setAttribute("class","loading"),h='<svg t="1567069979438" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2399" width="32" height="32"><path d="M538.5344 266.4448a133.12 133.12 0 1 1 133.12-133.12 133.4272 133.4272 0 0 1-133.12 133.12zM255.0144 372.1984a121.6768 121.6768 0 1 1 121.6768-121.6768 121.856 121.856 0 0 1-121.6768 121.6768zM134.72 647.424a107.3664 107.3664 0 1 1 107.3664-107.264A107.52 107.52 0 0 1 134.72 647.424z m120.32 272.4608a90.9824 90.9824 0 1 1 90.9824-90.9824A91.1616 91.1616 0 0 1 255.04 919.8848zM538.5344 1024a79.36 79.36 0 1 1 79.36-79.36 79.36 79.36 0 0 1-79.36 79.36z m287.6928-134.144a64.1792 64.1792 0 1 1 64.1792-64.1792 64.3584 64.3584 0 0 1-64.1792 64.1792z m117.76-296.704a52.6336 52.6336 0 1 1 52.6592-52.6336 52.608 52.608 0 0 1-52.6336 52.6336z m-158.72-338.7136a40.96 40.96 0 1 1 12.0064 28.8512 40.5248 40.5248 0 0 1-12.0064-28.8512z" fill="#ffffff" p-id="2400"></path></svg>',e.loading&&e.loading.svg&&(h=e.loading.svg),u.innerHTML=h,d.appendChild(u),d.appendChild(p),l.appendChild(d)},v=0;v<m;v++)g()}},this.loadingSet=function(e,t){document.getElementById("loading-id-0");if(document.getElementById("loading-item-"+e)){var i=document.getElementById("loading-item-"+e).childNodes[1];i.innerHTML=t.text,t.color&&(i.style.color=t.color)}},this.loadingSetIcon=function(t,i){var r=this;if(e&&e.id){var n=function(e,t,i,r){var n=parseInt(r/i,10)*(e/i),o=r%i*(t/i);return{top:n,left:o}},o=e.id,a=document.getElementById(o),s=a.offsetWidth,l=a.offsetHeight||e.height||400,c=a.offsetTop,d=a.offsetLeft;document.getElementById("loading-id-0")&&document.getElementById("loading-id-0").parentNode.removeChild(document.getElementById("loading-id-0"));var p=document.createElement("div");p.setAttribute("id","loading-id-0");var u="position:absolute;outline:none;";u+="width: 0px;",u+="height: 0px;",u+="top:"+c+"px;",u+="left:"+d+"px;",p.setAttribute("style",u);var h=document.getElementById("loading-id-0");p.style.height=l,p.setAttribute("class","loading-container"),F(p,a);var f=e.splitBasis||1,m=(e.url.split(",").length,h=document.createElement("div"),document.createElement("div"));h.setAttribute("class","loading-item"),h.setAttribute("id","loading-item-"+t);u="display:inline-flex;flex-direction:column;justify-content:center;align-items: center;width:"+s/f+"px;height:"+l/f+"px;outline:none;vertical-align: top;position:absolute;";u+="left:"+n(l,s,f,t).left+"px;",u+="top:"+n(l,s,f,t).top+"px;",h.setAttribute("style",u);var g=document.createElement("div");m.innerHTML="",m.style.color="#fff",g.setAttribute("class",i);var v="";switch(i){case"retry":v='<svg t="1590935684181" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1623" width="32" height="32"><path d="M972.8 102.4c-30.72 0-51.2 20.48-51.2 51.2v51.2c-51.2-71.68-122.88-128-204.8-158.72C460.8-66.56 158.72 51.2 46.08 307.2S51.2 865.28 307.2 977.92 865.28 972.8 977.92 716.8H972.8c0-30.72-20.48-51.2-51.2-51.2s-51.2 20.48-51.2 51.2h-5.12c-46.08 76.8-112.64 138.24-199.68 174.08-209.92 87.04-445.44-15.36-532.48-225.28S148.48 215.04 358.4 133.12c189.44-81.92 404.48 0 506.88 174.08H768c-30.72 0-51.2 20.48-51.2 51.2s20.48 51.2 51.2 51.2h204.8c30.72 0 51.2-20.48 51.2-51.2V153.6c0-30.72-20.48-51.2-51.2-51.2z" p-id="1624" fill="#ffffff"></path></svg>',g.style.cursor="pointer",g.onclick=function(){r.play(t)};break}g.innerHTML=v,h.appendChild(g),h.appendChild(m),p.appendChild(h)}},this.loadingEnd=function(e){var t=document.getElementById("loading-item-"+e);if(t){t.parentNode.removeChild(t);var i=document.getElementById("loading-id-0");i&&0===i.children.length&&i.parentNode.removeChild(i)}},this.opt.sources.push(e.url),this.opt.currentSource=this.opt.sources[0];var r="https://open.ys7.com";if(e.env){var n=e.env;r=n.domain}this.jSPlugin={};var o=this;this.loadingStart(),y=(new Date).getTime();var a=this.initDecoder(e);o.loadingSet(0,{text:"初始化播放器..."}),e.autoplay&&o.play(),N(a)&&a.then((function(e){o.loadingSet(0,{text:"初始化完成"})}))}else{r="https://open.ys7.com";var s="";if("string"===typeof e?s=e:"object"===Object(t["a"])(e)&&(s=e.id),this.videoId=s,this.video=document.getElementById(s),!this.video)throw new Error("EZUIPlayer requires parameter videoId");var l=this.video.getElementsByTagName("source");l=Array.prototype.slice.call(l,0),this.video.src&&(h&&k.test(this.video.src)?(this.video.removeAttribute("src"),this.video.load()):this.opt.sources.push(this.video.src));var c=l.length;if(c>0)for(var d=0;d<c;d++)h&&k.test(l[d].src)?this.video.removeChild(l[d]):this.opt.sources.push(l[d].src);if(this.opt.sources.length<1)throw new Error("no source found in video tag.");this.opt.cur=0,this.opt.poster=this.video.poster;var p=x(this.video),u=this.video.width,f=this.video.height;u?(this.opt.width=u,this.opt.height=f||"auto",this.log("video width:"+this.opt.width+" height:"+this.opt.height)):(this.opt.width=p.width,this.opt.height=p.height,this.log("videoStyle.width:"+p.width+" wideoStyle.height:"+p.height)),this.opt.parentId=s,this.opt.autoplay=!!this.video.autoplay,this.log("autoplay:"+this.video.autoplay),this.opt.currentSource=this.opt.sources[this.opt.cur],this.getRealUrl(e)}this.handlers={},this.initTime=(new Date).getTime(),this.on("play",(function(){P({systemName:b,playurl:this.opt.currentSource,Time:(new Date).Format("yyyy-MM-dd hh:mm:ss.S"),Enc:0,PlTp:1,Via:911,ErrCd:0,OpId:L(),Cost:(new Date).getTime()-this.initTime})})),this.retry=2,this.on("error",(function(){P({systemName:b,playurl:this.opt.currentSource,cost:-1,ErrCd:-1,Via:911,OpId:L()})}));var g=function(e){0===e.retcode&&e.data&&(E=e.data.appKey),P({systemName:S}),T({systemName:w,os:navigator.platform,browser:JSON.stringify(D())})},v=function(e){P({systemName:S}),T({systemName:w,os:navigator.platform,browser:JSON.stringify(D())})},j="",O="",C="",$=/[a-z0-9]{32}/,_=/[a-zA-Z0-9]{9}\/[0-9]{0,2}\./;if("string"===typeof e){var A=this.opt.currentSource;$.test(A)?O=A.match($)[0]:_.test(A)&&(j=A.match(_)[0].split("/")[0])}else if("object"===Object(t["a"])(e)){A=e.url;$.test(A)?O=A.match($):_.test(A)&&(j=A.match(_)[0].split("/")[0]),e.accessToken&&(C=e.accessToken)}I(r+"/jssdk/ezopen/getAppInfo?uuid="+O+"&accessToken="+C+"&deviceSerial="+j+"&channelNo=1","GET","","",g,v)};function M(e){var t=!1,i=!1,r=0;e.addEventListener("loadeddata",(function(){t=!0}),!1),e.addEventListener("stalled",(function(){r++,i||r>=2&&!t&&(e.load(),e.play(),t=!1,i=!1,r=0)}),!1),e.addEventListener("playing",(function(){i=!0}))}function z(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1;return!!t}A.prototype.on=function(e,t){"string"===typeof e&&"function"===typeof t&&("undefined"===typeof this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t))},A.prototype.emit=function(){if(this.handlers[arguments[0]]instanceof Array)for(var e=this.handlers[arguments[0]],t=e.length,i=0;i<t;i++)e[i].apply(this,Array.prototype.slice.call(arguments,1))},A.prototype.log=function(e,t){this.emit("log",e,t)},A.prototype.getRealUrl=function(e){var t=this,r="https://open.ys7.com";if(e&&e.env&&(r=e.env.domain),e&&e.hasOwnProperty("decoderPath")){if(e&&e.hasOwnProperty("userName")&&e.hasOwnProperty("password")){d=function(t,i,n){var o="",a=r+"/api/lapp/v2/live/laninfo/get",s=function(i){if(200==i.code||0==i.retcode){i.data.localIp="10.11.51.53",r="http://y.ys7.com:3100",o+="ws://"+i.data.localIp+":"+i.data.wssLocalPort+"/10"+(-1===e.url.indexOf("hd")?"2":"1"),capabilitiesUrl=r+"/jssdk/ezopen/sessionLogin/capabilities?ip="+i.data.localIp+"&username="+e.userName;var n=function(n,a,s){var l=e.userName,c=e.password,d=/<sessionID>(.*)<\/sessionID>/i,p=/<challenge>(.*)<\/challenge>/i,u=/<iterations>(.*)<\/iterations>/i,h=/<isIrreversible>(.*)<\/isIrreversible>/i,f=/<salt>(.*)<\/salt>/i,m=d.exec(n)[1],g=p.exec(n)[1],v=u.exec(n)[1],y="true"==h.exec(n)[1],S=f.exec(n)[1],b="";if(y){b=SHA256(l+S+c),b=SHA256(b+g);for(w=2;w<v;w++)b=SHA256(b)}else{b=SHA256(c)+g;for(var w=1;w<v;w++)b=SHA256(b)}$.ajax({url:r+"/jssdk/ezopen/sessionLogin",type:"post",data:{ip:i.data.localIp,authXml:"<SessionLogin><userName>"+e.userName+"</userName><password>"+b+"</password><sessionID>"+m+"</sessionID>\r\n\t<isSessionIDValidLongTerm>false</isSessionIDValidLongTerm>\r\n\t<sessionIDVersion>2</sessionIDVersion>\r\n</SessionLogin>"},success:function(e){szWebsocketSessionID=e.WebSession.split("=")[1].split(";")[0],o+="?sessionID="+szWebsocketSessionID,t(o)},error:function(e,t,i){alert("error")}})},a=/[a-zA-Z0-9]{9}\/[0-9]{0,2}\./,s=(e.url.match(a)[0].split("/")[0],function(t){e&&e.handleError&&e.handleError(t)});I(capabilitiesUrl,"GET",{},"",n,s)}},l=/[a-zA-Z0-9]{9}\/[0-9]{0,2}\./,c=e.url.match(l)[0].split("/")[0],d={deviceSerial:c,accessToken:e.accessToken},p=function(t){e&&e.handleError&&e.handleError(t)};I(a,"POST",d,"",s,p)};var n=e.url.split(","),o=[],a=function(e){return new Promise((function(t,i){return d(t,i,e)}))};n.map((function(e,i){t.loadingSet(i,{text:"获取设备播放地址"}),o.push(a(e))}));var s=Promise.all(o).then((function(e){t.opt.sources=e,t.opt.currentSource=e[0],e.forEach((function(e,i){t.loadingSet(i,{text:"获取播放地址成功"})}))})).catch((function(e){t.log("获取真实地址错误"+JSON.stringify(e),"error")}));return s}var l=(new Date).getTime(),d=function(n,o,a){var s="";if(/^ezopen:\/\//.test(a)){var c=r+"/api/lapp/live/url/ezopen",d=function(i){if(200==i.code||0==i.retcode){if(s+=i.data,i.ext&&i.ext.token){stream=i.ext.token;var o=-1!==e.url.indexOf("live")?"live":"playback";s="live"===o?s+"&auth=1&biz=4&cln=100&ssn="+stream:s+"&auth=1&cln=100&ssn="+stream}if(-1!==i.data.indexOf("playback")){var a=C("begin",i.data)||C("begin",e.url),c=C("end",i.data)||C("end",e.url);if(a)s=s.replace("&begin="+C("begin",i.data),"&begin="+u(a,"000000")),C("begin",s)||(s+="&begin="+u(a,"000000"));else{var d=new Date;s=s+"&begin="+d.Format("yyyyMMdd")+"T000000Z"}if(c)s=s.replace("&end="+C("end",i.data),"&end="+u(c,"235959")),C("end",s)||(s+="&end="+u(c,"235959"));else{d=new Date;s=s+"&end="+d.Format("yyyyMMdd")+"T235959Z"}if(C("stream",i.data)||(s=s.replace("stream","&stream")),-1!==e.url.indexOf(".cloud")){var p=function(e){if(200==e.code){var i=[];if(e.data&&e.data.length>0){i=o(e.data);var r=JSON.stringify(i).replace("\\","");s+="&recSlice="+r.replace("\\",""),n(s)}else t.log("未找到录像片段","error"),t.loadingSet(0,{text:"获取设备播放地址"}),n(JSON.stringify({code:-1,msg:"未找到录像片段"}))}else t.log(e.msg,"error"),t.loadingSet(0,{text:"获取设备播放地址"}),n(JSON.stringify({code:-1,msg:"未找到录像片段"}));function o(e){var t=[];t.length;return e.forEach((function(e,i){0==t.length||e.downloadPath!==t[t.length-1].downloadPath?t.push({downloadPath:e.downloadPath,ownerId:e.ownerId,iStorageVersion:e.iStorageVersion,videoType:e.videoType,iPlaySpeed:0,startTime:e.startTime,endTime:e.endTime}):t[t.length-1].endTime=e.endTime})),t}},f=function(e){},m=h(C("begin",s)),g=h(C("end",s)),v=C("serial",s),y=C("chn",s),S=r+"/api/lapp/video/by/time",b={accessToken:e.accessToken,recType:1,deviceSerial:v,channelNo:y,startTime:m,endTime:g};I(S,"POST",b,"",p,f)}else if(-1!==e.url.indexOf("alarmId")){var w=function(e){if(200==e.code){var i=[];if(e.data){i=o([e.data]);var r=JSON.stringify(i).replace("\\","");s+="&recSlice="+r.replace("\\",""),s=1==e.data.recType?s.replace("/playback","/cloudplayback"):s.replace("/cloudplayback","/playback"),t.opt.sources[0]=s,n(s)}else t.log("未找到录像片段","error"),t.loadingSet(0,{text:"获取设备播放地址"}),n(JSON.stringify({code:-1,msg:"未找到录像片段"}))}else t.log(e.msg,"error"),t.loadingSet(0,{text:"获取设备播放地址"}),n(JSON.stringify({code:-1,msg:"未找到录像片段"}));function o(e){var t=[];t.length;return e.forEach((function(e,i){0==t.length||e.downloadPath!==t[t.length-1].downloadPath?t.push({downloadPath:e.downloadPath,ownerId:e.ownerId,iStorageVersion:e.iStorageVersion,videoType:e.videoType,iPlaySpeed:0,startTime:e.startTime,endTime:e.endTime}):t[t.length-1].endTime=e.endTime})),t}},E=function(e){},P=C("alarmId",s);m=h(C("begin",s)),g=h(C("end",s)),v=C("serial",s),y=C("chn",s),S=r+"/api/lapp/video/by/id",b={accessToken:e.accessToken,deviceSerial:v,channelNo:y,alarmId:P};I(S,"POST",b,"",w,E)}else n(s)}else n(s);getPlayTokenST=(new Date).getTime();var k=(new Date).getTime();T({systemName:j,bn:0,browser:JSON.stringify(D()),duration:k-l,rt:200})}else{e&&e.handleError&&e.handleError(Object.assign({retcode:i.code||-1,msg:i.msg||"其他错误"}));k=(new Date).getTime();T({systemName:j,bn:0,browser:JSON.stringify(D()),duration:k-l,rt:i.code||500,msg:i.msg||"未知服务错误"}),n(JSON.stringify(i),"error")}},p=function(t){e&&e.handleError&&e.handleError(Object.assign({retcode:t.code||-1,msg:t.msg||"其他错误"}));var i=(new Date).getTime();T({systemName:j,bn:0,browser:JSON.stringify(D()),duration:i-l,rt:500,msg:data.msg||"网络错误"}),n(JSON.stringify(t))},f="false";f=e&&e.env&&e.env.domain?-1!==e.env.domain.indexOf("https")?"false":"true":-1!==i.location.href.indexOf("https")?"false":"true";var m={ezopen:a,userAgent:i.navigator.userAgent,isFlv:!1,addressTypes:null,isHttp:f,accessToken:e.accessToken};I(c,"POST",m,"",d,p)}else n(a)};n=e.url.split(","),o=[],a=function(e){return new Promise((function(t,i){return d(t,i,e)}))};n.map((function(e,i){t.loadingSet(i,{text:"获取设备播放地址"}),o.push(a(e))}));s=Promise.all(o).then((function(e){t.opt.sources=e,t.opt.currentSource=e[0],e.forEach((function(e,i){t.loadingSet(i,{text:"获取播放地址成功"})}))})).catch((function(e){t.log("获取真实地址错误"+JSON.stringify(e),"error")}));return s}if(this.opt.currentSource){if(/^ezopen:\/\//.test(this.opt.currentSource)){if(!/^ezopen:\/\//.test(this.opt.currentSource))throw new Error("EZOPEN地址必须要以ezopen://开头");if(-1===this.opt.currentSource.indexOf(".com/"))throw new Error("EZOPEN地址格式不正确");if(!/[a-z\d]{32}(\.hd)?\.live/.test(this.opt.currentSource))throw new Error("EZOPEN地址格式uuid格式不正确");if(/(.*.hls.*|.*.m3u8.*|.*.wss.*|.*.flv.*|.*.rtmp.*){2,}/.test(this.opt.currentSource))throw new Error("EZOPEN地址多于两个播放协议");if(-1!==this.opt.currentSource.search(/(.hls|.m3u8|.wss|.flv|.rtmp)/)&&!/.live(.hls|.m3u8|.wss|.flv|.rtmp)/.test(this.opt.currentSource))throw new Error("请指定正确的播放协议");if(-1===this.opt.currentSource.search(/(.hls|.m3u8|.wss|.flv|.rtmp)/)&&!/[a-z\d]{32}(\.hd)?\.live$/.test(this.opt.currentSource))throw new Error("EZOPEN地址结尾不正确");var p=this;O(c,(function(){var e={ezopen:p.opt.currentSource,userAgent:i.navigator.userAgent,isFlv:!(!flvjs||!flvjs.isSupported())&&flvjs.isSupported(),addressTypes:"HLS,RTMP,WS,FLV",isHttp:!(i.location.protocol.indexOf("s")>0)};P({ezopen:p.opt.currentSource,userAgent:i.navigator.userAgent,isFlv:!(!flvjs||!flvjs.isSupported())&&flvjs.isSupported(),addressTypes:"HLS,RTMP,WS,FLV",isHttp:!(i.location.protocol.indexOf("s")>0),systemName:"EZOPEN"}),p.log("---------------------------------------"),p.log("入参(ezopen)是：   "+e.ezopen),p.log("---------------------------------------"),p.log("入参(userAgent)是：   "+e.userAgent),p.log("---------------------------------------"),p.log("入参(isFlv)是：   "+e.isFlv),p.log("---------------------------------------"),p.log("入参(addressTypes)是：   "+e.addressTypes),p.log("---------------------------------------"),p.log("入参(isHttp)是：   "+e.isHttp),p.log("---------------------------------------");var t=r+"/api/lapp/live/url/ezopen",n=function(e){if(200!=e.code)throw p.log("data：   "+JSON.stringify(e)),new Error(e.msg);p.log("播放地址是：   "+e.data),p.video.src=e.data,p.video.load(),p.tryPlay(e.data)},o=function(e){};I(t,"POST",e,"",n,o)}))}else this.tryPlay(this.opt.currentSource)}else this.log("未找到合适的播放URL","error");function u(e,t){var i=/^[0-9]{8}T[0-9]{6}Z$/;if(i.test(e))return e;if(/[0-9]{8,14}/.test(e)){var r=6-(14-e.length),n=t.length,o=e+t.substring(r,n);return o.slice(0,8)+"T"+o.slice(8)+"Z"}throw new Error("回放时间格式有误，请确认")}function h(e){var t=e.slice(0,4),i=e.slice(4,6),r=e.slice(6,8),n=e.slice(9,11),o=e.slice(11,13),a=e.slice(13,15),s=t+"-"+i+"-"+r+" "+n+":"+o+":"+a;return new Date(s.replace(/-/g,"/")).getTime()}},A.prototype.tryPlay=function(e){this.log("开始尝试播放，播放配置参数为："),this.log(e);if(e&&"object"===Object(t["a"])(e)&&e.decoderPath);else{this.opt.currentSource=e;var i=this;if(/\.m3u8/.test(e))if(h||g)this.log("使用原生video"),this.video.style.heght=this.opt.height=9*Number(this.opt.width.replace(/px$/g,""))/16+"px",this.initVideoEvent();else{var r=-1!==e.indexOf("https");u&&!r?O(a,(function(){i.initCKPlayer()})):O(d,(function(){v=Hls.isSupported(),v?(i.log("使用hls.js"),i.initHLS(e)):(!0,i.log("2 使用flash"),O(a,(function(){i.initCKPlayer()})))}))}else if(/^rtmp:/.test(e)){if(h)return this.opt.cur++,void this.tryPlay(e);O(a,(function(){i.initCKPlayer(e)}))}else if(/^wss:|^ws:/.test(e)){if(z())return void alert("WS协议不支持Ie11以下的浏览器！请使用IE11，或者更高版本的浏览器");O(p,(function(){i.initJSmpeg(e)}))}else/\.flv/.test(this.opt.currentSource)&&(z()?O(c,(function(){i.log("使用flv.js播放"),i.initflv()})):O(a,(function(){i.initCKPlayer()})))}},A.prototype.initHLS=function(e){var t=this,i=new Hls({defaultAudioCodec:"mp4a.40.2"});i.loadSource(e),i.attachMedia(this.video),i.on(Hls.Events.MANIFEST_PARSED,(function(){t.opt.autoplay&&t.video.play(),t.initVideoEvent()})),i.on(Hls.Events.ERROR,(function(e,t){if(t.fatal)switch(t.type){case Hls.ErrorTypes.NETWORK_ERROR:i.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:i.recoverMediaError();break;default:i.destroy();break}})),this.hls=i},A.prototype.initCKPlayer=function(e){this.log("ckplayer初始化");var t=this,r={play:function(){t.emit("play")},pause:function(){t.emit("pause")},error:function(){t.emit("error")}};i.ckplayer_status=function(){t.log(arguments),r[arguments[0]]&&r[arguments[0]]()},this.videoFlash=document.createElement("DIV"),this.video.parentNode.replaceChild(this.videoFlash,this.video),this.video=this.videoFlash,this.videoFlash.id=this.opt.parentId;var n=null;n=/^rtmp/.test(this.opt.currentSource)?{f:this.opt.currentSource,c:0,p:this.opt.autoplay?1:0,i:this.opt.poster,lv:1,loaded:"loadHandler"}:/\.m3u8/.test(this.opt.currentSource)?{s:4,f:l,a:this.opt.currentSource,c:0,lv:1,p:this.opt.autoplay?1:0,i:this.opt.poster,loaded:"loadHandler"}:{f:this.opt.currentSource,c:0,p:1,loaded:"loadHandler"};var o={bgcolor:"#FFF",allowFullScreen:!0,allowScriptAccess:"always",wmode:"transparent"};this.flashId=this.opt.parentId+"flashId",i.CKobject.embedSWF(s,this.opt.parentId,this.flashId,this.opt.width,this.opt.height,n,o)},A.prototype.initVideoEvent=function(){var e=this,t={loadstart:function(t){e.log("loadstart...当浏览器开始查找音频/视频时..."),e.emit("loadstart",t)},durationchange:function(t){e.log("durationchange...当音频/视频的时长已更改时..."),e.emit("durationchange",t)},loadedmetadata:function(t){e.log("loadedmetadata...当浏览器已加载音频/视频的元数据时..."),e.emit("loadedmetadata",t)},loadeddata:function(t){e.log("loadeddata...当浏览器已加载音频/视频的当前帧时..."),e.emit("loadeddata",t)},progress:function(t){e.log("progress...当浏览器正在下载音频/视频时..."),e.emit("progress",t)},canplay:function(t){e.log("canplay...当浏览器可以播放音频/视频时..."),e.emit("canplay",t)},canplaythrough:function(t){e.log("canplaythrough...当浏览器可在不因缓冲而停顿的情况下进行播放时..."),e.emit("canplaythrough",t)},abort:function(t){e.log("abort...当音频/视频的加载已放弃时..."),e.emit("abort",t)},emptied:function(t){e.log("emptied...当目前的播放列表为空时..."),e.emit("emptied",t)},ended:function(t){e.log("ended...当目前的播放列表已结束时..."),e.emit("ended",t)},pause:function(t){e.log("pause...当音频/视频已暂停时..."),e.emit("pause",t)},play:function(t){e.log("play...当音频/视频已开始或不再暂停时..."),e.emit("play",t)},playing:function(t){e.log("playing...当音频/视频在已因缓冲而暂停或停止后已就绪时..."),e.emit("playing",t)},ratechange:function(t){e.log("ratechange...当音频/视频的播放速度已更改时..."),e.emit("ratechange",t)},seeked:function(t){e.log("seeked...当用户已移动/跳跃到音频/视频中的新位置时..."),e.emit("seeked",t)},seeking:function(t){e.log("seeking...当用户开始移动/跳跃到音频/视频中的新位置时..."),e.emit("seeking",t)},stalled:function(t){e.log("stalled...当浏览器尝试获取媒体数据，但数据不可用时..."),e.emit("stalled",t)},suspend:function(t){e.log("suspend...当浏览器刻意不获取媒体数据时..."),e.emit("suspend",t),e.opt.autoplay&&e.video.play()},timeupdate:function(t){e.emit("timeupdate",t)},volumechange:function(t){e.log("volumechange...当音量已更改时..."),e.emit("volumechange",t)},waiting:function(t){e.log("waiting...当视频由于需要缓冲下一帧而停止..."),e.emit("waiting",t)},error:function(t){e.log("error...当在音频/视频加载期间发生错误时..."),e.emit("error",t)}};for(var i in t)this.video.addEventListener(i,t[i],!1);M(this.video)},A.prototype.initJSmpeg=function(e){var t;this.canvasEle=document.createElement("canvas"),this.canvasEle.style.width=this.opt.width,this.canvasEle.style.height=this.opt.height,this.video.parentNode.replaceChild(this.canvasEle,this.video),this.canvasEle.id=this.opt.parentId,t&&t.destroy&&t.destroy(),t=new JSMpeg.Player(e,{canvas:this.canvasEle}),this.JSmpeg=t},A.prototype.initflv=function(){if(!flvjs.isSupported())throw this.log("浏览器不支持flv播放"),new Error("浏览器不支持flv播放");var e=this.video,t=e.getAttribute("controls");t||e.setAttribute("controls",!0);var i=flvjs.createPlayer({type:"flv",url:this.opt.currentSource,isLive:!0},{enableStashBuffer:!0,stashInitialSize:128,enableWorker:!0});i.attachMediaElement(e),i.load(),i.play(),this.flv=i},A.prototype.rePlay=function(e){this.loadingStart();var t=this,i=this.getRealUrl(e);N(i)&&i.then((function(i){t.play(e)})).catch((function(e){}))},A.prototype.play=function(e){if(i["CKobject"])this.opt.autoplay=!0,this.initCKPlayer();else if(this.video)this.hls?(this.opt.autoplay=!0,this.hls.startLoad(),this.video.play()):this.JSmpeg?this.JSmpeg.play():(this.opt.autoplay=!0,this.video.play());else if(this.jSPlugin){var r=this.playParams,n=0;r&&r.audioId?n=r.audioId:r&&-1===r.audioId&&(n=void 0),"string"===typeof e?r.url=e:"object"===Object(t["a"])(e)&&(r=Object.assign(r,e));var o=this.getRealUrl(r),a=this;o.then((function(){function e(e){var t=e.split("?")[0].replace("/live","").replace("/playback",""),i=(-1===e.indexOf("/live")?-1!==e.indexOf("cloudplayback")?"/cloudplayback?":"/playback?":"/live?")+e.split("?")[1];return-1!==i.indexOf("/playback")&&(i=i.replace("stream=2","stream=1")),{websocketConnectUrl:t,websocketStreamingParam:i}}a.opt.sources.forEach((function(t,i){if(C("dev",t)||-1!==t.indexOf("ws")){a.log("开始播放, 第"+(i+1)+"路，地址："+t),a.loadingSet(i,{text:"准备播放...",color:"#fff"});var o=C("checkCode",t);o&&(a.log("设置秘钥，视频路数："+(i+1)+"验证码："+o),a.jSPlugin.JS_SetSecretKey(i,o));var s=(new Date).getTime(),l="",c="";a.playParams&&a.playParams.hasOwnProperty("userName")&&a.playParams.hasOwnProperty("password")?(l=t.split("?")[0],c={sessionID:C("sessionID",t)}):(l=e(t).websocketConnectUrl,c={playURL:e(t).websocketStreamingParam}),a.jSPlugin.JS_Play(l,c,i).then((function(){a.log("播放成功，当前播放第"+(i+1)+"路"),a.loadingSet(i,{text:"播放成功..."}),T({systemName:j,bn:2,browser:JSON.stringify(D()),duration:(new Date).getTime()-s,rt:200}),T({systemName:j,bn:99,browser:JSON.stringify(D()),duration:(new Date).getTime()-y,rt:200}),a.loadingEnd(i),"undefined"!==typeof n&&n===i&&(a.log("默认开启第1路声音"),setTimeout((function(){var e=a.jSPlugin.JS_OpenSound(0);e.then((function(e){a.log("开启声音成功",e)})).catch((function(e){a.log("开启声音失败","error",e)}))}),100)),r&&r.handleSuccess&&r.handleSuccess();var e=1;r&&r.url&&-1!==r.url.indexOf("rec")&&(e=2),P({systemName:b,playurl:encodeURIComponent(t),Time:(new Date).Format("yyyy-MM-dd hh:mm:ss.S"),Enc:0,PlTp:e,Via:2,ErrCd:0,OpId:L(),Cost:(new Date).getTime()-a.initTime,Serial:C("dev",t),Channel:C("chn",t)})}),(function(e){a.log("播放失败"+JSON.stringify(e),"error");var n=JSON.parse(a.errorCode).find((function(t){return t.detailCode.substr(-4)==e.oError.errorCode}));T({systemName:j,bn:2,browser:JSON.stringify(D()),duration:(new Date).getTime()-y,rt:e.oError?e.oError.errorCode:500,msg:n?n.description:"播放过程其他错误"});var o=n?n.description:"播放过程其他错误";if(a.loadingSet(i,{text:o,color:"red"}),P({systemName:b,playurl:encodeURIComponent(t),cost:-1,ErrCd:e&&e.oError&&e.oError.errorCode&&(e.oError.errorCode+"").substr(-4)||-1,Via:2,OpId:L(),Serial:C("dev",t),Channel:C("chn",t)}),r&&r.handleError){n=JSON.parse(a.errorCode).find((function(t){return t.detailCode.substr(-4)==e.oError.errorCode}));r.handleError({retcode:e.oError.errorCode,msg:n?n.description:"其他错误"})}}))}else _(t)&&JSON.parse(t).msg&&a.loadingSet(i,{text:JSON.parse(t).msg,color:"red"})}))}))}},A.prototype.initDecoder=function(e){this.opt.id=e.id,this.log("初始化解码器---开始");var t=this,r=(new Date).getTime();function n(n,o){var a=e.decoderPath+"/js/jsPlugin-1.2.0.min.js";function s(e){if(200==e.code){if(!i.localStorage)return!1;var r=i.localStorage;r["errorCode"]=JSON.stringify(e.data),t.errorCode=r["errorCode"]}}if(O(a,(function(){t.log("下载解码器完成，开始初始化"),t.jSPlugin=new JSPlugin({szId:e.id,iWidth:e.width||600,iHeight:e.height||400,iMaxSplit:Math.ceil(Math.sqrt(e.url.split(",").length)),iCurrentSplit:e.splitBasis||Math.ceil(Math.sqrt(e.url.split(",").length)),szBasePath:e.decoderPath+"/js",oStyle:{border:"none",background:"#000000"}}),t.jSPlugin.JS_SetWindowControlCallback({windowEventSelect:function(e){iWind=e},pluginErrorHandler:function(i,r,n){e&&e.handleError&&(e.handleError({retcode:r,msg:n||"播放失败，请重试"}),-1!==e.url.indexOf("alarmId")?(t.loadingSetIcon(i,"retry"),t.loadingSet(i,{text:"播放结束"})):(t.loadingSetIcon(i,"retry"),t.loadingSet(i,{text:"播放失败，请重试"})))}}),t.jSPlugin.JS_SetOptions({bSupporDoubleClickFull:"undefined"===typeof e.isSupporDoubleClickFull||e.isSupporDoubleClickFull,bOnlySupportJSDecoder:"undefined"===typeof e.useMSE||!1===e.useMSE}).then((function(){})),i.onresize=function(){t.jSPlugin.JS_Resize(e.width||600,e.height||400)},t.log("初始化解码器----完成"),T({systemName:j,bn:1,browser:JSON.stringify(D()),duration:(new Date).getTime()-r,rt:200}),n("200 OK")})),i.localStorage){var l=i.localStorage,c=l.errorCode;c?t.errorCode=l["errorCode"]:I(e.decoderPath+"/js/errorCode.json","get",{language:1,time:(new Date).getTime(),appKey:"26810f3acd794862b608b6cfbc32a6b8"},"",s)}else I(e.decoderPath+"/js/errorCode.json","get",{language:1,time:(new Date).getTime(),appKey:"26810f3acd794862b608b6cfbc32a6b8"},"",s)}var o=new Promise(n);return o},A.prototype.stop=function(e,t){if(this.log("停止播放"+this.opt.currentSource),this.opt.autoplay=!1,i["CKobject"])this.video.src="";else if(this.video)this.hls?(this.video.pause(),this.video.src="",this.hls.stopLoad()):this.flv?(this.flv.pause(),this.flv.unload(),this.flv.detachMediaElement(),this.flv.destroy(),this.flv=null):this.JSmpeg&&this.JSmpeg.stop();else if(this.jSPlugin){var r=this;return"undefined"===typeof e?this.jSPlugin.JS_Stop(0).then((function(){r.log("停止播放成功"+r.opt.currentSource),r.loadingEnd(0)}),(function(){r.log("停止播放失败"+r.opt.currentSource)})):this.jSPlugin.JS_Stop(e).then((function(){r.log("第"+e+"路停止播放成功"+r.opt.currentSource),r.loadingEnd(e)}),(function(){r.log("第"+e+"路停止播放失败"+r.opt.currentSource),r.loadingEnd(e)}))}},A.prototype.destroy=function(e){_this.jSPlugin.JS_DestroyWorker()},A.prototype.getOSDTime=function(e){var t=this;if(this.jSPlugin)return t.jSPlugin.JS_GetOSDTime(e||0);throw new Error("Method  not support")},A.prototype.getVersion=function(e){if(!this.jSPlugin)throw new Error("Method  not support")},A.prototype.openSound=function(e){if(this.jSPlugin){var t=this.jSPlugin.JS_OpenSound(e||0);return 0===t?this.log("开启声音成功"):this.log("开启声音失败","error"),t}throw new Error("Method  not support")},A.prototype.fullScreen=function(){if(this.jSPlugin)return this.jSPlugin.JS_FullScreenDisplay(1);throw new Error("Method  not support")},A.prototype.closeSound=function(e){if(this.jSPlugin){var t=this.jSPlugin.JS_CloseSound(e||0);return 0===t?this.log("关闭声音成功"):this.log("关闭声音失败","error"),t}throw new Error("Method  not support")},A.prototype.capturePicture=function(e,t){if(this.jSPlugin)return this.jSPlugin.JS_CapturePicture(e,t);throw new Error("Method  not support")},A.prototype.startSave=function(e,t){if(this.jSPlugin)return this.log("开始录制录像"),this.jSPlugin.JS_StartSave(e,t);throw new Error("Method  not support")},A.prototype.stopSave=function(e){if(this.jSPlugin)return this.jSPlugin.JS_StopSave(e);throw new Error("Method  not support")},A.prototype.reSize=function(e,t){if(this.jSPlugin)return this.jSPlugin.JS_Resize(e,t);throw new Error("Method  not support")},A.prototype.pause=function(){this.opt.autoplay=!1,i["CKobject"]?CKobject.getObjectById(this.flashId).videoPause():this.video?this.JSmpeg?this.JSmpeg.pause():this.video.pause():this.jSPlugin&&this.jSPlugin.JS_Pause(0).then((function(){}),(function(){}))},A.prototype.load=function(){i["CKobject"]||this.video&&this.video.load()},A.prototype.enableZoom=function(e){if(this.jSPlugin)return this.jSPlugin.JS_EnableZoom(e||0);throw new Error("Method  not support")},A.prototype.closeZoom=function(e){if(this.jSPlugin)return this.jSPlugin.JS_DisableZoom(e||0);throw new Error("Method  not support")};var J={EZUIPlayer:A};return r||(i.EZUIKit=J,i.EZUIPlayer=A),J}))}).call(this,i("dd40")(e))},b14e:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{visible:e.visible,title:e.dataForm.id?e.$t("update"):e.$t("add"),"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":e.handleCloseChange},on:{"update:visible":function(t){e.visible=t},opened:e.handleDialogOpenChange}},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"dataForm",attrs:{model:e.dataForm,rules:e.rules,"label-width":"120px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.dataFormSubmitHandle()}}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"prjId",label:e.$t("video.bindPrjName")}},[t("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:e.handlePrjScroll,expression:"handlePrjScroll"}],staticStyle:{width:"100%"},attrs:{clearable:""},on:{"visible-change":e.handlePrjVisibleChange},model:{value:e.dataForm.prjId,callback:function(t){e.$set(e.dataForm,"prjId",t)},expression:"dataForm.prjId"}},[[t("div",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"99","background-color":"#fff"}},[t("el-input",{ref:"prjInput",staticStyle:{width:"98%","margin-left":"1%","margin-top":"5px","margin-bottom":"5px"},attrs:{size:"small",clearable:"",placeholder:e.$t("gwsn.pleaseEnterSearchContent")},model:{value:e.prjSearch,callback:function(t){e.prjSearch=t},expression:"prjSearch"}})],1),t("div",{staticStyle:{width:"100%",height:"42px"}}),e._l(e.prjList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.prjName,value:e.id,disabled:!!e.hasOwnProperty("disabled")&&e.disabled}})}))]],2)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"cameraId",label:e.$t("video.cameraID")}},[t("el-input",{attrs:{placeholder:e.$t("video.enterCameraID"),maxlength:255,clearable:""},model:{value:e.dataForm.cameraId,callback:function(t){e.$set(e.dataForm,"cameraId",t)},expression:"dataForm.cameraId"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"appid",label:"appKey"}},[t("el-input",{attrs:{placeholder:e.$t("video.pleaseEnterAppKey"),maxlength:255,clearable:""},model:{value:e.dataForm.appid,callback:function(t){e.$set(e.dataForm,"appid",t)},expression:"dataForm.appid"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"secret",label:"appSecret"}},[t("el-input",{attrs:{placeholder:e.$t("video.pleaseEnterSecret"),maxlength:255,clearable:""},model:{value:e.dataForm.secret,callback:function(t){e.$set(e.dataForm,"secret",t)},expression:"dataForm.secret"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"type",label:e.$t("video.type")}},[t("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:e.$t("video.pleaseSelect")},model:{value:e.dataForm.type,callback:function(t){e.$set(e.dataForm,"type",t)},expression:"dataForm.type"}},e._l(e.typeList,(function(e,i){return t("el-option",{key:i,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{prop:"playWay",label:e.$t("video.playway")}},[t("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:e.$t("video.pleaseSelect")},model:{value:e.dataForm.playWay,callback:function(t){e.$set(e.dataForm,"playWay",t)},expression:"dataForm.playWay"}},e._l(e.playwayList,(function(e,i){return t("el-option",{key:i,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{prop:"hlsAddress",label:e.$t("video.hlsAddr")}},[t("el-input",{attrs:{placeholder:e.$t("video.enterhlsAddr"),maxlength:255,clearable:""},model:{value:e.dataForm.hlsAddress,callback:function(t){e.$set(e.dataForm,"hlsAddress",t)},expression:"dataForm.hlsAddress"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{prop:"videoMark",label:e.$t("video.remark")}},[t("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:e.$t("video.enterremark")},model:{value:e.dataForm.videoMark,callback:function(t){e.$set(e.dataForm,"videoMark",t)},expression:"dataForm.videoMark"}})],1)],1)],1)],1),t("template",{slot:"footer"},[t("el-button",{on:{click:e.handleCloseChange}},[e._v(e._s(e.$t("cancel")))]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmitHandle()}}},[e._v(e._s(e.$t("confirm")))])],1)],2)},n=[],o=(i("8e6e"),i("ac6a"),i("456d"),i("ade3")),a=(i("c5f6"),i("a481"),i("96cf"),i("1da1")),s=i("b047"),l=i.n(s);function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){Object(o["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var p={directives:{loadmore:{inserted:function(e,t){var i=e.querySelector(".el-select-dropdown .el-select-dropdown__wrap");i.addEventListener("scroll",(function(){var e=this.scrollHeight-Math.ceil(this.scrollTop)<=this.clientHeight;e&&0!==this.scrollTop&&t.value()}))}}},data:function(){return{prjId:"",visible:!1,loading:!1,prjList:[],prjPage:1,prjTotal:0,prjSearch:"",dataForm:{id:"",prjId:"",cameraId:"",type:0,playWay:0,hlsAddress:"",videoMark:"",appid:"",secret:""},typeList:[{label:this.$t("video.fluoriteCloud"),value:0}],playwayList:[{label:this.$t("video.livesite"),value:0}],rules:{cameraId:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],hlsAddress:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],appid:[{required:!0,message:this.$t("validate.required"),trigger:"change"}],secret:[{required:!0,message:this.$t("validate.required"),trigger:"change"}]}}},methods:{init:function(){this.visible=!0},handleDialogOpenChange:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=1,this.getPrjList();case 1:if(this.$refs["dataForm"].resetFields(),!this.dataForm.id){e.next=2;break}return e.next=2,this.getInfo();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getPrjList:function(){var e=this,t={page:e.prjPage,limit:50,priName:e.prjSearch.replace(/\s+/g,""),_t:(new Date).getTime()};e.$hasPermission("tprjinfo:list:select")?e.$http.get("/info/tprjinfo/tprjinfoList",{params:t}).then((function(t){var i=t.data;if(i.hasOwnProperty("code"))return e.$message.error(i.data||i.msg);1==e.prjPage?e.prjList=i.list:e.prjList=e.prjList.concat(i.list),0==e.prjList.length?e.prjList.push({id:"暂无匹配数据",prjName:"暂无匹配数据",disabled:!0}):e.dataForm.id||(e.dataForm.prjId=e.prjId),e.prjTotal=Number(i.total)})).catch((function(e){return!1})):e.$message.warning("暂无项目查询权限, 请联系管理员")},handlePrjVisibleChange:function(e){var t=this;e&&this.$nextTick((function(){t.$refs.prjInput.focus()}))},handlePrjScroll:function(){this.prjList.length<this.prjTotal&&(this.prjPage++,this.getPrjList())},getInfo:function(){var e=this;this.$hasPermission("prjcamera:select:permission.do")?(this.loading=!0,this.$http.get("/info/prjcamera/".concat(this.dataForm.id),{params:{id:this.dataForm.id}}).then((function(t){var i=t.data;e.dataForm=d(d({},e.dataForm),i.data),e.loading=!1})).catch((function(e){return!1}))):this.$message.warning("暂无视频信息查询权限, 请联系管理员")},handleCloseChange:function(){this.visible=!1},dataFormSubmitHandle:l()((function(){var e=this;this.$refs["dataForm"].validate((function(t){if(!t)return!1;if(e.dataForm.id){if(!e.$hasPermission("prjcamera:update:permission.do"))return void e.$message.warning("暂无视频修改权限, 请联系管理员")}else if(!e.$hasPermission("prjcamera:insert:permission.do"))return void e.$message.warning("暂无视频新增权限, 请联系管理员");e.loading=!0,e.$http[e.dataForm.id?"put":"post"]("/info/prjcamera",e.dataForm).then((function(t){var i=t.data;if(0!=i.code)return e.loading=!1,e.$message.error(i.data||i.msg);e.loading=!1,e.$message.success(i.msg),e.visible=!1,e.$emit("refreshDataList")})).catch((function(t){return e.loading=!1,!1}))}))}),1e3,{leading:!0,trailing:!1}),watchPrjSearch:l()((function(){var e=document.getElementsByClassName("el-scrollbar__wrap").length;document.getElementsByClassName("el-scrollbar__wrap")[e-1].scrollTo(0,0),this.prjPage=1,this.getPrjList(),this.$refs.prjInput.focus()}),500)},watch:{prjSearch:function(e,t){this.watchPrjSearch()}}},u=p,h=i("2877"),f=Object(h["a"])(u,r,n,!1,null,null,null);t["default"]=f.exports},d0c1:function(e,t,i){},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},de35:function(e,t,i){"use strict";i.r(t);i("7f7f");var r=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"aui-card--fill",attrs:{shadow:"never"}},[t("div",{staticClass:"mod-sys__user"},[t("el-form",{attrs:{inline:!0,model:e.dataForm},nativeOn:{submit:function(e){e.preventDefault()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.querySearch()}}},[t("el-form-item",{attrs:{label:e.$t("project.projectName")}},[t("el-select",{directives:[{name:"loadmore",rawName:"v-loadmore",value:e.handlePrjScroll,expression:"handlePrjScroll"}],staticStyle:{width:"360px"},attrs:{clearable:"",size:"small"},on:{"visible-change":e.handlePrjVisibleChange,change:e.getDataList},model:{value:e.dataForm.name,callback:function(t){e.$set(e.dataForm,"name",t)},expression:"dataForm.name"}},[[t("div",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"99","background-color":"#fff"}},[t("el-input",{ref:"prjInput",staticStyle:{width:"98%","margin-left":"1%","margin-top":"5px","margin-bottom":"5px"},attrs:{size:"small",clearable:"",placeholder:e.$t("gwsn.pleaseEnterSearchContent")},model:{value:e.prjSearch,callback:function(t){e.prjSearch=t},expression:"prjSearch"}})],1),t("div",{staticStyle:{width:"100%",height:"42px"}}),e._l(e.projectList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.prjName,value:e.id,disabled:!!e.hasOwnProperty("disabled")&&e.disabled}})}))]],2)],1),e.$hasPermission("prjcamera:insert:permission.do")?t("el-form-item",[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleEditVideo()}}},[e._v(e._s(e.$t("video.BindVideo")))])],1):e._e()],1),t("el-row",{style:{position:"relative",height:e.scrollTableHeight+"px"},attrs:{gutter:20}},[e.videoList.length>0?t("div",e._l(e.videoList,(function(i,r){return t("div",{key:r},[t("el-col",{attrs:{xs:24,sm:24,md:24,lg:12,xl:12}},[t("div",{staticClass:"layoutDis"},[t("div",[e._v(e._s(i.hlsAddress?e.$t("video.boundPlaybackAddress"):e.$t("video.bindVideo"))+"\n                            ")]),e.$hasPermission("prjcamera:update:permission.do")||e.$hasPermission("camera:delete:permission.do")?t("div",[e.$hasPermission("prjcamera:update:permission.do")?t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit-outline"},on:{click:function(t){return e.handleEditVideo(i)}}}):e._e(),e.$hasPermission("camera:delete:permission.do")?t("el-button",{attrs:{size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.handleDeleteVideo(i)}}}):e._e()],1):e._e()]),t("video",{ref:"myPlayer"+r,refInFor:!0,attrs:{id:"myPlayer"+r,width:"100%",height:"100%",poster:"",muted:"",autoplay:"",controls:"",playsInline:"","webkit-playsinline":""},domProps:{muted:!0}},[t("source",{attrs:{src:i.hlsAddress}})])])],1)})),0):t("div",{staticStyle:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},[t("span",{staticStyle:{color:"red","font-weight":"bolder","font-size":"20px"}},[e._v(e._s(e.$t("video.videoMonitoringSourceHasNotBeenBoundYet"))),e.$hasPermission("prjcamera:insert:permission.do")?t("span",[e._v(",")]):e._e(),e.$hasPermission("prjcamera:insert:permission.do")?t("a",{staticStyle:{"margin-left":"10px"},attrs:{href:"javascript:;"},on:{click:function(t){return e.handleEditVideo()}}},[e._v(e._s(e.$t("video.clickHeretoBindTheDataSource")))]):e._e()])])]),e.videoList.length>0?t("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[2,4,10,20],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"size-change":e.pageSizeChangeHandle,"current-change":e.pageCurrentChangeHandle}}):e._e(),e.addOrUpdateVisible?t("add-or-update",{ref:"addOrUpdate",on:{refreshDataList:e.getDataList}}):e._e()],1)])},n=[],o=(i("ac6a"),i("456d"),i("c5f6"),i("a481"),i("4328")),a=i.n(o),s=i("bc3a"),l=i.n(s),c=(i("83cc"),i("b14e")),d=i("b047"),p=i.n(d),u={directives:{loadmore:{inserted:function(e,t){var i=e.querySelector(".el-select-dropdown .el-select-dropdown__wrap");i.addEventListener("scroll",(function(){var e=this.scrollHeight-Math.ceil(this.scrollTop)<=this.clientHeight;e&&0!==this.scrollTop&&t.value()}))}}},data:function(){return{page:1,limit:4,total:0,prjSearch:"",prjInfo:{page:1,total:0},scrollTableHeight:window.innerHeight-220-53,isPaused:!1,playerDevices:{},addOrUpdateVisible:!1,dataForm:{name:""},videoList:[],projectList:[],globalAppConfig:{appKey:"",appSecret:""}}},components:{AddOrUpdate:c["default"]},methods:{getProjectList:function(){var e=this,t={page:e.prjInfo.page,limit:50,priName:e.prjSearch.replace(/\s+/g,""),_t:(new Date).getTime()};e.$hasPermission("tprjinfo:list:select")?e.$http.get("/info/tprjinfo/tprjinfoList",{params:t}).then((function(t){var i=t.data;if(i.hasOwnProperty("code"))return e.$message.error(i.data||i.msg);1==e.prjInfo.page?e.projectList=i.list:e.projectList=e.projectList.concat(i.list),0==e.projectList.length?(e.dataForm.name="",e.projectList.push({id:"暂无匹配数据",prjName:"暂无匹配数据",disabled:!0})):e.dataForm.name||(e.dataForm.name=e.projectList[0].id,e.getVideoList()),e.prjInfo.total=Number(i.total)})).catch((function(e){return!1})):e.$message.warning("暂无项目查询权限, 请联系管理员")},handlePrjVisibleChange:function(e){var t=this;e&&this.$nextTick((function(){t.$refs.prjInput.focus()}))},handlePrjScroll:function(){this.projectList.length<this.prjInfo.total&&(this.prjInfo.page++,this.getProjectList())},pageSizeChangeHandle:function(e){this.limit=e,this.getVideoList()},pageCurrentChangeHandle:function(e){this.page=e,this.getVideoList()},getDataList:function(e){this.getVideoList()},getVideoList:function(){var e=this,t={pageNumber:1,pageSize:e.limit,prjId:e.dataForm.name};for(var i in e.videoList=[],e.playerDevices)e.playerDevices[i].stop();e.$hasPermission("camera:select:permission.do")?e.$http.post("/delcmd/camera/getPage.do",t).then((function(t){var i=t.data;if(null==i)return e.$message.error("服务器内部异常");e.videoList=i.content,e.total=Number(i.totalElements),e.videoList.length>0&&(e.globalAppConfig.appKey=e.videoList[0].appid||"7bcd9e55b8e040e894dd444931552593",e.globalAppConfig.appSecret=e.videoList[0].secret||"8396532e4845ce79329f9fe4e8b152d8",e.getChannelSource())})).catch((function(e){return!1})):e.$message.warning("暂无视频查询权限, 请联系管理员")},createPlayer:function(){for(var e=0;e<this.videoList.length;e++)this.playerDevices["player"+e]=new EZUIKit.EZUIPlayer("myPlayer"+e)},initPlayer:function(e){var t=this,i={appKey:this.globalAppConfig.appKey,appSecret:this.globalAppConfig.appSecret};l.a.post("https://open.ys7.com/api/lapp/token/get",a.a.stringify(i)).then((function(i){var r=i.data;if(200!=r.code)return t.$message.error(t.$t("video.resetToken"));e(r.data)})).catch((function(e){return!1}))},valideteToken:function(){var e=localStorage.getItem("videoExpireTime");return!((new Date).getTime()-e>0||(new Date).getTime()-e==0)},getChannelSource:function(){var e=this,t={accessToken:"",pageStart:0,pageSize:50};e.valideteToken()?(t["accessToken"]=localStorage.getItem("videoAccessToken"),e.$nextTick((function(){e.createPlayer()}))):e.initPlayer((function(i){t["accessToken"]=i.accessToken,localStorage.setItem("videoAccessToken",i.accessToken),localStorage.setItem("videoExpireTime",i.expireTime),e.$nextTick((function(){e.createPlayer()}))}))},handleRotate:function(){l.a.post("https://open.ys7.com/api/lapp/device/ptz/start",a.a.stringify({accessToken:"at.bdofcvttdtwekxg9alyh7ef11od0ha1v-77byiz440d-0c324d3-vnycwu3bv",deviceSerial:"D72781255",channelNo:1,direction:10,speed:1}))},handleEditVideo:function(e){var t=this;this.addOrUpdateVisible=!0,e&&void 0!=e?this.$nextTick((function(){t.$refs.addOrUpdate.dataForm.id=e.id,t.$refs.addOrUpdate.init()})):this.$nextTick((function(){t.$refs.addOrUpdate.dataForm.id=void 0,t.$refs.addOrUpdate.prjId=t.dataForm.name,t.$refs.addOrUpdate.init()}))},handleDeleteVideo:function(e){var t=this,i=String(e.id);t.$hasPermission("camera:delete:permission.do")?t.$message.warning("暂无视频删除权限, 请联系管理员"):t.$confirm("确定要删除该视频, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$http.delete("/delcmd/camera/delete.do",{params:{ids:String(i)}}).then((function(e){var i=e.data;return 0!=i.code?t.$message.error(i.data||i.msg||i.message):(t.$message.success(i.message),t.getVideoList())})).catch((function(e){return t.getVideoList()}))})).catch((function(e){}))},watchPrjSearch:p()((function(){var e=document.getElementsByClassName("el-scrollbar__wrap").length;document.getElementsByClassName("el-scrollbar__wrap")[e-1].scrollTo(0,0),this.prjInfo.page=1,this.getProjectList(),this.$refs.prjInput.focus()}),500)},created:function(){window.onbeforeunload=function(e){this.isPaused||this.player.play()}},mounted:function(){var e=this;window.onresize=function(){return function(){e.scrollTableHeight=window.innerHeight-220-53}()}},activated:function(){this.dataForm.name?this.getVideoList():(localStorage.getItem("videoAccessToken")&&localStorage.getItem("videoExpireTime"),this.getProjectList())},deactivated:function(){if(0==Object.keys(this.playerDevices).length);else for(var e in this.playerDevices)this.playerDevices[e].stop()},watch:{prjSearch:function(e,t){this.watchPrjSearch()}}},h=u,f=(i("51c6"),i("2877")),m=Object(f["a"])(h,r,n,!1,null,"c7d20a08",null);t["default"]=m.exports}}]);