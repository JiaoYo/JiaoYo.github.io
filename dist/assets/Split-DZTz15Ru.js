import{aT as C,aU as T,aV as W,aS as X,aP as Y,d as q,aZ as I,a_ as B,a as m,i as _,b0 as L,bq as Z,b1 as G,b3 as J,aF as h,b8 as K,bb as M,br as U,ba as E,bc as F}from"./index-Dq02uGMS.js";const Q=C("split",`
 display: flex;
 width: 100%;
 height: 100%;
`,[T("horizontal",`
 flex-direction: row;
 `),T("vertical",`
 flex-direction: column;
 `),C("split-pane-1",`
 overflow: hidden;
 `),C("split-pane-2",`
 overflow: hidden;
 flex: 1;
 `),W("resize-trigger",`
 background-color: var(--n-resize-trigger-color);
 transition: background-color .3s var(--n-bezier);
 `,[T("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `),X("&:hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)])]),ee=e=>{const{primaryColorHover:r,borderColor:n}=e;return{resizableTriggerColorHover:r,resizableTriggerColor:n}},ie={name:"Split",common:Y,self:ee},te=Object.assign(Object.assign({},B.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),ne=q({name:"Split",props:te,setup(e){var r;const{mergedClsPrefixRef:n,inlineThemeDisabled:g}=I(e),d=B("Split","-split",Q,ie,e,n),$=m(()=>{const{common:{cubicBezierEaseInOut:i},self:{resizableTriggerColor:t,resizableTriggerColorHover:s}}=d.value;return{"--n-bezier":i,"--n-resize-trigger-color":t,"--n-resize-trigger-color-hover":s}}),S=_(null),b=_(!1),H=L(e,"size"),y=_(e.defaultSize);!((r=e.watchProps)===null||r===void 0)&&r.includes("defaultSize")&&Z(()=>y.value=e.defaultSize);const w=i=>{const t=e["onUpdate:size"];e.onUpdateSize&&E(e.onUpdateSize,i),t&&E(t,i),y.value=i},P=G(H,y),N=m(()=>{const i=P.value;if(typeof i=="string")return{flex:`0 0 ${i}`};if(typeof i=="number"){const t=i*100;return{flex:`0 0 calc(${t}% - ${e.resizeTriggerSize*t/100}px)`}}}),O=m(()=>e.direction==="horizontal"?{width:`${e.resizeTriggerSize}px`,height:"100%"}:{width:"100%",height:`${e.resizeTriggerSize}px`}),R=m(()=>{const i=e.direction==="horizontal";return{width:i?`${e.resizeTriggerSize}px`:"",height:i?"":`${e.resizeTriggerSize}px`,cursor:e.direction==="horizontal"?"col-resize":"row-resize"}});let f=0;const V=i=>{i.preventDefault(),b.value=!0,e.onDragStart&&e.onDragStart(i);const t="mousemove",s="mouseup",o=l=>{D(l),e.onDragMove&&e.onDragMove(l)},u=()=>{F(t,document,o),F(s,document,u),b.value=!1,e.onDragEnd&&e.onDragEnd(i),document.body.style.cursor=""};document.body.style.cursor=R.value.cursor,M(t,document,o),M(s,document,u);const z=S.value;if(z){const l=z.getBoundingClientRect();e.direction==="horizontal"?f=i.clientX-l.left:f=l.top-i.clientY}D(i)},D=i=>{var t,s;const o=(s=(t=S.value)===null||t===void 0?void 0:t.parentElement)===null||s===void 0?void 0:s.getBoundingClientRect();if(!o)return;const{direction:u}=e,z=o.width-e.resizeTriggerSize,l=o.height-e.resizeTriggerSize,v=u==="horizontal"?z:l,j=u==="horizontal"?i.clientX-o.left-f:i.clientY-o.top+f,{min:x,max:p}=e,k=typeof x=="string"?U(x):x*v,A=typeof p=="string"?U(p):p*v;let c=j;c=Math.max(c,k),c=Math.min(c,A,v),typeof P.value=="string"?w(`${c}px`):w(c/v)},a=g?J("split",void 0,$,e):void 0;return{themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender,cssVars:g?void 0:$,resizeTriggerElRef:S,isDragging:b,mergedClsPrefix:n,resizeTriggerWrapperStyle:R,resizeTriggerStyle:O,handleMouseDown:V,firstPaneStyle:N}},render(){var e,r,n,g,d;return(e=this.onRender)===null||e===void 0||e.call(this),h("div",{class:[`${this.mergedClsPrefix}-split`,`${this.mergedClsPrefix}-split--${this.direction}`,this.themeClass],style:this.cssVars},h("div",{class:[`${this.mergedClsPrefix}-split-pane-1`,this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(n=(r=this.$slots)[1])===null||n===void 0?void 0:n.call(r)),!this.disabled&&h("div",{ref:"resizeTriggerElRef",class:`${this.mergedClsPrefix}-split__resize-trigger-wrapper`,style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},K(this.$slots["resize-trigger"],()=>[h("div",{style:this.resizeTriggerStyle,class:[`${this.mergedClsPrefix}-split__resize-trigger`,this.isDragging&&`${this.mergedClsPrefix}-split__resize-trigger--hover`]})])),h("div",{class:[`${this.mergedClsPrefix}-split-pane-2`,this.pane2Class],style:this.pane2Style},(d=(g=this.$slots)[2])===null||d===void 0?void 0:d.call(g)))}});export{ne as _};
