import{d as x,Z as F,a0 as M,o as w,c as O,w as o,f as e,h as t,$ as a,a3 as $,g as N,t as v,y as A,A as I,a4 as j,B as G,E as L,F as P,X as S,N as R,a8 as U,aF as V,b as W,ab as E,ac as K}from"./index-DLNUCcPL.js";import{a as q}from"./system-log-D5rclU4E.js";import{_ as X}from"./round-search-B-4rQdSi.js";import{_ as Z}from"./round-refresh-BbjSB8rk.js";import{s as k}from"./business-WRs2g88j.js";import{_ as H}from"./FormItemGridItem-lpVvZ2tW.js";import{_ as J}from"./Grid-DOXFwCbr.js";import{_ as Q}from"./DataTable-CN6TpDw8.js";import"./RadioGroup-RlP9nCM5.js";import"./Forward-D55si25S.js";const Y=x({name:"LoginlogSearch",__name:"loginlog-search",props:{model:{required:!0},modelModifiers:{}},emits:F(["reset","search"],["update:model"]),setup(c,{emit:d}){const g=d,r=M(c,"model");function f(s){r.value.creatorName=s.replace(/\s/g,"")}function h(s){return!s.startsWith(" ")&&!s.endsWith(" ")}function u(){g("reset")}function _(){g("search")}return(s,p)=>{const l=I,n=H,i=j,y=Z,m=G,C=X,z=L,B=J,D=P,T=S;return w(),O(T,{bordered:!1,size:"small",class:"card-wrapper"},{default:o(()=>[e(D,{model:r.value,"label-placement":"left","label-width":80,"show-feedback":!1,onKeyup:A(_,["enter"])},{default:o(()=>[e(B,{responsive:"screen","item-responsive":""},{default:o(()=>[e(n,{span:"24 s:12 m:6",label:t(a)("page.systemlog.login.creatorName"),path:"creatorName",class:"pr-24px"},{default:o(()=>[e(l,{clearable:"",value:r.value.creatorName,"onUpdate:value":p[0]||(p[0]=b=>r.value.creatorName=b),placeholder:t(a)("page.systemlog.login.form.creatorName"),onInput:f,"allow-input":h,onClear:u},null,8,["value","placeholder"])]),_:1},8,["label"]),e(n,{span:"24 s:12 m:6",label:t(a)("page.systemlog.login.status"),path:"status",class:"pr-24px"},{default:o(()=>[e(i,{filterable:"",clearable:"",value:r.value.status,"onUpdate:value":[p[1]||(p[1]=b=>r.value.status=b),_],placeholder:t(a)("page.systemlog.login.form.status"),options:t($)(t(k)),onClear:u},null,8,["value","placeholder","options"])]),_:1},8,["label"]),e(n,{span:"24 s:12 m:6"},{default:o(()=>[e(z,{class:"w-full"},{default:o(()=>[e(m,{onClick:u},{icon:o(()=>[e(y,{class:"text-icon"})]),default:o(()=>[N(" "+v(t(a)("common.reset")),1)]),_:1}),e(m,{type:"primary",ghost:"",onClick:_},{icon:o(()=>[e(C,{class:"text-icon"})]),default:o(()=>[N(" "+v(t(a)("common.search")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}}),ee={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"};function te(c){return typeof c=="function"||Object.prototype.toString.call(c)==="[object Object]"&&!K(c)}const ue=x({name:"logmanage_loginlog",__name:"index",setup(c){const d=R(),{columns:g,columnChecks:r,data:f,getData:h,loading:u,pagination:_,searchParams:s,resetSearchParams:p}=U({apiFn:q,apiParams:{page:1,pageSize:20,limit:20,creatorName:null,status:null,_t:new Date().getTime()},columns:()=>[{key:"creatorName",title:a("page.systemlog.login.creatorName"),align:"center",width:120,resizable:!0},{key:"operation",title:a("page.systemlog.login.operation"),width:140,align:"center",render:l=>{const n=l.operation==0?a("page.manage.common.loginStatus.login"):a("page.manage.common.loginStatus.logout");return e("span",null,[n])},resizable:!0},{key:"status",title:a("page.systemlog.login.status"),width:100,align:"center",render:l=>{l.status==null&&(l.status=0);const n={0:"error",1:"primary",2:"default"},i=a(k[l.status].label);return e(V,{size:"small",type:n[l.status]},te(i)?i:{default:()=>[i]})},resizable:!0},{key:"ip",title:a("page.systemlog.login.ip"),width:160,align:"center",resizable:!0},{key:"userAgent",title:a("page.systemlog.login.userAgent"),minWidth:240,align:"center",ellipsis:{tooltip:!0},resizable:!0},{key:"createDate",title:a("page.systemlog.login.createDate"),width:200,align:"center"}]});return(l,n)=>{const i=Q,y=S;return w(),W("div",ee,[e(Y,{model:t(s),"onUpdate:model":n[0]||(n[0]=m=>E(s)?s.value=m:null),onReset:t(p),onSearch:t(h)},null,8,["model","onReset","onSearch"]),e(y,{title:t(a)("page.systemlog.login.title"),bordered:!1,size:"small",class:"sm:flex-1-hidden card-wrapper"},{default:o(()=>[e(i,{columns:t(g),data:t(f),size:"small","flex-height":!t(d).isMobile,"scroll-x":"",loading:t(u),remote:"","row-key":m=>m.id,pagination:t(_),class:"sm:h-full"},null,8,["columns","data","flex-height","loading","row-key","pagination"])]),_:1},8,["title"])])}}});export{ue as default};
