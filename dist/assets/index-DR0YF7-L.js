import{_ as L}from"./table-column-setting.vue_vue_type_script_setup_true_lang-CUOEVEOG.js";import{_ as X}from"./export-BSv6Xp72.js";import{_ as q}from"./round-search-hnCStK2c.js";import{d as H,a8 as J,dy as Q,bd as k,f as n,$ as _,B as g,i as r,a9 as W,o as x,b as Y,w as o,g as f,h as t,a3 as Z,a1 as ee,aa as b,t as D,c as te,ab as T,S as ne,ac as ae,a4 as oe,ad as se,E as le,ae as ie,X as ce,A as re,aC as pe,a6 as ue,I as me}from"./index-C4Xe5hxh.js";import{_ as de}from"./DatePicker-DcWFcsyX.js";const _e={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"};function ge(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Object]"&&!ae(l)}const fe=H({name:"stationmanagement_reportdataoperation",__name:"index",setup(l){const C={1:"短期",0:"超短期"},{columns:N,columnChecks:p,data:y,getData:w,loading:u,mobilePagination:S,searchParams:i,resetSearchParams:ye}=J({apiFn:Q,apiParams:{page:1,pageSize:20,limit:20,type:0,startTime:k(0,Date.now()-864e5*3),endTime:k(0,Date.now()),_t:new Date().getTime()},immediate:!0,showTotal:!0,columns:()=>[{key:"optime",title:"操作时间",align:"center",width:100},{key:"matime",title:"干预数据日期",align:"center",width:140},{key:"otype",title:"操作类型",align:"center",width:140,render:s=>n("span",null,[s.otype==0?"新增":"修改"])},{key:"operate",title:"操作",align:"center",width:100,render(s){let e;return n(g,{ghost:!0,size:"small",onClick:()=>V(s)},ge(e=_("common.look"))?e:{default:()=>[e]})}}]}),m=r(!1),d=r(),V=s=>{m.value=!0,d.value=s},h=r([Date.now()-864e5*3,Date.now()]);async function U(s,e){i.startTime=s[0],i.endTime=s[1]}const{drawerVisible:we,operateType:he,editingData:ve,handleAdd:ke,handleEdit:xe,checkedRowKeys:c,onBatchDeleted:be,onDeleted:De}=W(y,w),z=()=>{w()},B=()=>{},R=r("0");return(s,e)=>{const $=de,j=oe,O=q,P=se,v=le,M=X,E=L,I=ie,A=ce,K=re,F=pe,G=ue;return x(),Y("div",_e,[n(A,{bordered:!1,size:"small",class:"sm:flex-1-hidden card-wrapper"},{header:o(()=>[n(v,{align:"center",wrap:"",justify:"start",class:"lt-sm:w-200px"},{default:o(()=>[f(" 上报数据操作记录 "),n(P,null,{default:o(()=>[n($,{value:h.value,"onUpdate:value":e[0]||(e[0]=a=>h.value=a),type:"daterange","value-format":"yyyy-MM-dd","onUpdate:formattedValue":U},null,8,["value"]),n(j,{class:"w-200px",placeholder:"选择",value:t(i).type,"onUpdate:value":e[1]||(e[1]=a=>t(i).type=a),options:t(Z)(t(ee)(C))},null,8,["value","options"]),n(t(g),{type:"primary",ghost:"",onClick:z},{icon:o(()=>[n(O,{class:b(["text-icon",{"animate-spin":t(u)}])},null,8,["class"])]),default:o(()=>[f(" "+D(t(_)("common.search")),1)]),_:1})]),_:1})]),_:1})]),"header-extra":o(()=>[R.value=="1"?(x(),te(v,{key:0,align:"center",wrap:"",justify:"end",class:"lt-sm:w-200px"},{default:o(()=>[n(t(g),{onClick:B,size:"small",disabled:t(c).length==0},{icon:o(()=>[n(M,{class:b(["text-icon",{"animate-spin":t(u)}])},null,8,["class"])]),default:o(()=>[f(" "+D(t(_)("common.export")),1)]),_:1},8,["disabled"]),n(E,{columns:t(p),"onUpdate:columns":e[2]||(e[2]=a=>T(p)?p.value=a:null)},null,8,["columns"])]),_:1})):ne("",!0)]),default:o(()=>[n(I,{"checked-row-keys":t(c),"onUpdate:checkedRowKeys":e[3]||(e[3]=a=>T(c)?c.value=a:null),columns:t(N),data:t(y),size:"small",loading:t(u),remote:"","row-key":a=>a.id,pagination:t(S)},null,8,["checked-row-keys","columns","data","loading","row-key","pagination"])]),_:1}),n(G,{show:m.value,"onUpdate:show":e[5]||(e[5]=a=>m.value=a),title:"具体信息",preset:"card",class:"w-800px"},{default:o(()=>[n(F,{class:"h-470px"},{default:o(()=>[n(K,{value:d.value.content,"onUpdate:value":e[4]||(e[4]=a=>d.value.content=a),rows:"20",type:"textarea",readonly:""},null,8,["value"])]),_:1})]),_:1},8,["show"])])}}}),Ue=me(fe,[["__scopeId","data-v-ed6a2855"]]);export{Ue as default};
