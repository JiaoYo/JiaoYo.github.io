import{_ as G}from"./table-column-setting.vue_vue_type_script_setup_true_lang-DWV3nJxT.js";import{_ as L}from"./export-VknpTG3V.js";import{_ as X}from"./round-search-C_gAF5H8.js";import{d as H,bq as x,f as n,$ as d,B as f,i as c,o as k,b as J,w as a,g,h as t,a3 as Q,a1 as W,a8 as b,t as D,c as Y,a9 as T,S as Z,aa as ee,a4 as te,ab as ne,E as oe,X as ae,A as se,ax as le,a6 as ie,I as re}from"./index-HZqiqJ25.js";import{g as ce}from"./control_management-CKO6n_1_.js";import{u as pe,a as me}from"./table-BJ7Pa9Rb.js";import{_ as ue}from"./DatePicker-D8jXcua0.js";import{_ as _e}from"./DataTable-BUWIQkps.js";import"./Forward-BjHo1o6m.js";import"./RadioGroup-BNp-M84I.js";const de={class:"min-h-500px flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"};function fe(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Object]"&&!ee(l)}const ge=H({name:"stationmanagement_reportdataoperation",__name:"index",setup(l){const N={1:"短期",0:"超短期"},{columns:S,columnChecks:p,data:y,getData:w,loading:m,mobilePagination:C,searchParams:i,resetSearchParams:ye}=pe({apiFn:ce,apiParams:{page:1,pageSize:20,limit:20,type:0,startTime:x(0,Date.now()-864e5*3),endTime:x(0,Date.now()),_t:new Date().getTime()},immediate:!0,showTotal:!0,columns:()=>[{key:"optime",title:"操作时间",align:"center",width:100},{key:"matime",title:"干预数据日期",align:"center",width:140},{key:"otype",title:"操作类型",align:"center",width:140,render:s=>n("span",null,[s.otype==0?"新增":"修改"])},{key:"operate",title:"操作",align:"center",width:100,render(s){let e;return n(f,{ghost:!0,size:"small",onClick:()=>V(s)},fe(e=d("common.look"))?e:{default:()=>[e]})}}]}),u=c(!1),_=c(),V=s=>{u.value=!0,_.value=s},h=c([Date.now()-864e5*3,Date.now()]);async function U(s,e){i.startTime=s[0],i.endTime=s[1]}const{drawerVisible:we,operateType:he,editingData:ve,handleAdd:xe,handleEdit:ke,checkedRowKeys:r,onBatchDeleted:be,onDeleted:De}=me(y,w),z=()=>{w()},B=()=>{},R=c("0");return(s,e)=>{const $=ue,j=te,O=X,P=ne,v=oe,M=L,E=G,I=_e,A=ae,K=se,q=le,F=ie;return k(),J("div",de,[n(A,{bordered:!1,size:"small",class:"sm:flex-1-hidden card-wrapper"},{header:a(()=>[n(v,{align:"center",wrap:"",justify:"start",class:"lt-sm:w-200px"},{default:a(()=>[g(" 上报数据操作记录 "),n(P,null,{default:a(()=>[n($,{value:h.value,"onUpdate:value":e[0]||(e[0]=o=>h.value=o),type:"daterange","value-format":"yyyy-MM-dd","onUpdate:formattedValue":U},null,8,["value"]),n(j,{class:"w-200px",placeholder:"选择",value:t(i).type,"onUpdate:value":e[1]||(e[1]=o=>t(i).type=o),options:t(Q)(t(W)(N))},null,8,["value","options"]),n(t(f),{type:"primary",ghost:"",onClick:z},{icon:a(()=>[n(O,{class:b(["text-icon",{"animate-spin":t(m)}])},null,8,["class"])]),default:a(()=>[g(" "+D(t(d)("common.search")),1)]),_:1})]),_:1})]),_:1})]),"header-extra":a(()=>[R.value=="1"?(k(),Y(v,{key:0,align:"center",wrap:"",justify:"end",class:"lt-sm:w-200px"},{default:a(()=>[n(t(f),{onClick:B,size:"small",disabled:t(r).length==0},{icon:a(()=>[n(M,{class:b(["text-icon",{"animate-spin":t(m)}])},null,8,["class"])]),default:a(()=>[g(" "+D(t(d)("common.export")),1)]),_:1},8,["disabled"]),n(E,{columns:t(p),"onUpdate:columns":e[2]||(e[2]=o=>T(p)?p.value=o:null)},null,8,["columns"])]),_:1})):Z("",!0)]),default:a(()=>[n(I,{"checked-row-keys":t(r),"onUpdate:checkedRowKeys":e[3]||(e[3]=o=>T(r)?r.value=o:null),columns:t(S),data:t(y),size:"small",loading:t(m),remote:"","row-key":o=>o.id,pagination:t(C)},null,8,["checked-row-keys","columns","data","loading","row-key","pagination"])]),_:1}),n(F,{show:u.value,"onUpdate:show":e[5]||(e[5]=o=>u.value=o),title:"具体信息",preset:"card",class:"w-800px"},{default:a(()=>[n(q,{class:"h-470px"},{default:a(()=>[n(K,{value:_.value.content,"onUpdate:value":e[4]||(e[4]=o=>_.value.content=o),rows:"20",type:"textarea",readonly:""},null,8,["value"])]),_:1})]),_:1},8,["show"])])}}}),je=re(ge,[["__scopeId","data-v-ed6a2855"]]);export{je as default};
